{"version":3,"sources":["components/manageUser.js","components/userInfo.js","components/radioChoice.js","components/PROMs.js","components/ObjectiveMeasurements.js","components/WristIndex.js","components/Text.js","components/radarChart.js","components/wristViz.js","components/signIn.js","image/notfound.png","components/view.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","width","container","maxHeight","searchHolder","margin","spacing","marginLeft","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","breakpoints","up","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","columns","id","label","align","ManageUser","props","classes","rows","React","useState","page","setPage","undefined","sharePatient","setSharePatient","copySuccess","setcopySuccess","rowsPerPage","setRowsPerPage","firstUpdate","useRef","shareURL","useEffect","current","onLoad","Grid","justify","style","marginTop","item","xs","Button","variant","size","className","AddButton","startIcon","onClick","newPatient","Paper","TableContainer","Table","stickyHeader","aria-label","TableHead","TableRow","map","column","TableCell","minWidth","TableBody","slice","row","hover","role","tabIndex","value","format","IconButton","fontSize","viewPatient","editPatient","deletePatient","code","TablePagination","rowsPerPageOptions","component","count","length","onChangePage","event","newPage","onChangeRowsPerPage","target","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","TextField","inputRef","window","location","origin","toString","_id","document","queryCommandSupported","e","select","execCommand","focus","flexGrow","paper","float","UserInfo","data","setData","prevData","ref","usePrevious","editMode","setEditMode","styleField","viewMode","console","log","handleChange","name","onMouseOver","noValidate","autoComplete","userEditMode","handleSubmitPatient","direction","disabled","InputLabelProps","shrink","fullWidth","onChange","type","MenuItem","multiline","IndexEditMode","newIndex","d","onMouseLeave","colors","viewIndex","editIndex","deleteIndex","minHeight","RadioChoice","setValue","setHover","Rating","max","newValue","handeData","onChangeActive","newHover","Box","ml","labels","header","marginBlockEnd","subheader","marginBlockStart","result","Template","PSFS","PRWE","MHQ","PROMs","func","Array","Action","setAction","setPSFS","setPRWE","setMHQ","handlePRWE","val","index","getOutputData","willupdate","i","first","handlePSFS","d3","_i","Select","displayEmpty","InputProps","inputProps","min","precision","handleMHQ","title","primary","light","input","textAlign","WebkitAppearance","input2","paddingRight","paddingTop","paddingBottom","lineHeight","marginBottom","funcResult","ObjectiveMeasurement","obj","Object","keys","forEach","k","v","mainKey","subKey","Math","getData","sectionRender","sub","text","sectionRender2","fontWeight","key","backButton","marginRight","instructions","getStepContent","step","required","defaultValue","WristIndex","handleSubmit","handleCancel","activeStep","setActiveStep","Set","skipped","setSkipped","steps","maxWidth","dividers","Stepper","alternativeLabel","Step","StepLabel","Typography","DialogActions","prevActiveStep","newSkipped","has","values","delete","Text","state","lines","this","calculateWordWidths","wordsWithComputedWidth","spaceWidth","calculateLines","setState","capHeight","dy","x","y","word","nextProps","nextState","children","newLineAdded","wordMoved","some","line","words","split","svg","createElementNS","assign","appendChild","body","textContent","getComputedTextLength","removeChild","lineWidth","reduce","lastLine","newLine","push","join","Component","defaultProps","axis","range","axisAngle","domain","PI","RadarChart","arcHolder","innerRadius","outerRadius","startAngle","endAngle","createRef","top","right","bottom","left","textWidth","widthG","heightG","radius","bind","scaleOrdinal","rScale","radarLine","curve","tension","angle","levels","legendW","legendH","colorLevels","a","scale","ob","keyColor","prevProps","n","selected","handleInfo","info","onSelect","overflow","viewBox","fontFamily","transform","fill","l","li","stroke","strokeOpacity","strokeWidth","fillOpacity","y2","textAnchor","sin","cos","selectedIndex","alignmentBaseline","dx","withStyles","menu","transformOrigin","WristViz","Copyright","Link","href","Date","getFullYear","flexDirection","avatar","secondary","main","form","submit","SignIn","username","setusername","password","setpassword","meassage","setmeassage","Container","CssBaseline","Avatar","method","onSubmit","preventDefault","axios","process","then","respond","onSucess","catch","autoFocus","mt","SingleView","patientId","useParams","userData","setuserData","redirect","setredirect","setselectedIndex","radarColor","schemeCategory10","r","Redirect","to","View","useRouteMatch","path","url","exact","src","notfound","THEME","createMuiTheme","typography","flex","tabs","border","borderRight","divider","backdrop","zIndex","drawer","arr","arr2","sum","b","mean","App","masterId","setmasterId","busy","setBusy","IndexView","setIndexView","newIndexData","onNewIndex","setonNewIndex","reloadUserTable","setreloadUserTable","patientLists","setPatientLists","confirmFunc","setConfirmFunc","content","caseId","handleCloseConfirm","firstRecord","sendData","prefill","onMouseOverIndex","AppBar","Toolbar","edge","menuButton","noWrap","managerBy","download","lg","renderPage","Backdrop","CircularProgress","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8gBA8BMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,MAAO,QAEXC,UAAW,CACPC,UAAW,KAEfC,aAAa,CACTC,OAAQN,EAAMO,QAAQ,GACtBC,WAAa,GAEjBC,OAAO,aACHC,SAAU,WACVC,aAAcX,EAAMY,MAAMD,aAC1BE,gBAAiBC,YAAKd,EAAMe,QAAQC,OAAOC,MAAO,KAClD,UAAW,CACPJ,gBAAiBC,YAAKd,EAAMe,QAAQC,OAAOC,MAAO,MAEtDf,MAAO,QACNF,EAAMkB,YAAYC,GAAG,MAAQ,CAC1BX,WAAYR,EAAMO,QAAQ,GAC1BL,MAAO,SAGfkB,WAAY,CACRC,QAASrB,EAAMO,QAAQ,EAAG,GAC1Be,OAAQ,OACRZ,SAAU,WACVa,cAAe,OACfC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAEpBC,UAAW,CACPC,MAAO,WAEXC,WAAW,aACPR,QAASrB,EAAMO,QAAQ,EAAG,EAAG,EAAG,GAEhCuB,YAAY,cAAD,OAAgB9B,EAAMO,QAAQ,GAA9B,OACXwB,WAAY/B,EAAMgC,YAAYC,OAAO,SACrC/B,MAAO,QACNF,EAAMkB,YAAYC,GAAG,MAAQ,CAC1BjB,MAAO,OACP,UAAW,CACPA,MAAO,cAKjBgC,EAAU,CAAC,CACbC,GAAI,WACJC,MAAO,WACPC,MAAO,UACT,CACEF,GAAI,gBACJC,MAAO,gBACPC,MAAO,UACT,CACEF,GAAI,SACJC,MAAO,SACPC,MAAO,WAyKIC,MAvKf,SAAoBC,GAChB,IAAMC,EAAU1C,IACT2C,EAAQF,EAARE,KAFgB,EAGCC,IAAMC,SAAS,GAHhB,mBAGhBC,EAHgB,KAGVC,EAHU,OAIiBH,IAAMC,cAASG,GAJhC,mBAIhBC,EAJgB,KAIFC,EAJE,OAKeN,IAAMC,SAAS,IAL9B,mBAKhBM,EALgB,KAKHC,EALG,OAMeR,IAAMC,SAAS,IAN9B,mBAMhBQ,EANgB,KAMHC,EANG,KAQjBC,EAAcC,kBAAO,GACrBC,EAAWD,iBAAO,MA2BxB,OA1BAE,qBAAU,WACN,GAAIH,EAAYI,QAOZ,OANAJ,EAAYI,SAAU,OAKtBlB,EAAMmB,QAAO,MAoBjB,qCACI,eAACC,EAAA,EAAD,CAAMxD,WAAS,EAACsB,WAAW,SAASmC,QAAQ,gBAAgBC,MAAO,CAACC,UAAU,IAA9E,UACI,cAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,IAiBb,cAACL,EAAA,EAAD,CAAMI,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACIC,QAAQ,YACRtC,MAAM,UACNuC,KAAK,QACLC,UAAW5B,EAAQ6B,UACnBC,UAAW,cAAC,IAAD,IACXC,QAAShC,EAAMiC,WANnB,kCAYR,eAACC,EAAA,EAAD,CAAOL,UAAW5B,EAAQvC,KAA1B,UACI,cAACyE,EAAA,EAAD,CAAgBN,UAAW5B,EAAQrC,UAAnC,SACI,eAACwE,EAAA,EAAD,CAAOC,cAAY,EAACC,aAAW,eAA/B,UACI,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACK7C,EAAQ8C,KAAI,SAACC,GAAD,OACT,cAACC,EAAA,EAAD,CAEI7C,MAAO4C,EAAO5C,MACdwB,MAAO,CAACsB,SAAUF,EAAOE,UAH7B,SAKKF,EAAO7C,OAJH6C,EAAO9C,OAOpB,cAAC+C,EAAA,EAAD,SAGR,cAACE,EAAA,EAAD,UACK3C,EAAK4C,MAAMzC,EAAOO,EAAaP,EAAOO,EAAcA,GAAa6B,KAAI,SAACM,GACnE,OACI,eAACP,EAAA,EAAD,CAAUQ,OAAK,EAACC,KAAK,WAAWC,UAAW,EAA3C,UACKvD,EAAQ8C,KAAI,SAACC,GACV,IAAMS,EAAQJ,EAAIL,EAAO9C,IACzB,OACI,cAAC+C,EAAA,EAAD,CAA2B7C,MAAO4C,EAAO5C,MAAzC,SACK4C,EAAOU,QAA2B,kBAAVD,EAAqBT,EAAOU,OAAOD,GAASA,GADzDT,EAAO9C,OAK/B,eAAC+C,EAAA,EAAD,CAAyB7C,MAAM,SAA/B,UACI,cAACuD,EAAA,EAAD,CAAYf,aAAW,QAASV,KAAK,QAAQI,QAAS,kBAAIvB,EAAgBsC,IAA1E,SACI,cAAC,IAAD,CAAWO,SAAS,cAExB,cAACD,EAAA,EAAD,CAAYf,aAAW,OAAQV,KAAK,QAAQI,QAAS,kBAAIhC,EAAMuD,YAAYR,IAA3E,SACI,cAAC,IAAD,CAAgBO,SAAS,cAE7B,cAACD,EAAA,EAAD,CAAaf,aAAW,OAAOV,KAAK,QAAQI,QAAS,kBAAIhC,EAAMwD,YAAYT,IAA3E,SACI,cAAC,IAAD,CAAUO,SAAS,cAEvB,cAACD,EAAA,EAAD,CAAYhE,MAAM,YAAYiD,aAAW,SAAUV,KAAK,QAAQI,QAAS,kBAAIhC,EAAMyD,cAAcV,IAAjG,SACI,cAAC,IAAD,CAAYO,SAAS,gBAXd,aATgCP,EAAIW,gBA6B3E,cAACC,EAAA,EAAD,CACIC,mBAAoB,CAAC,GAAI,GAAI,KAC7BC,UAAU,MACVC,MAAO5D,EAAK6D,OACZnD,YAAaA,EACbP,KAAMA,EACN2D,aAvGS,SAACC,EAAOC,GAC7B5D,EAAQ4D,IAuGIC,oBApGgB,SAACF,GAC7BpD,GAAgBoD,EAAMG,OAAOjB,OAC7B7C,EAAQ,SAqGJ,eAAC+D,EAAA,EAAD,CACIC,KAAM9D,EACN+D,QAAS,WAAK9D,OAAgBF,GAAWI,EAAe,KACxD6D,kBAAgB,qBAChBC,mBAAiB,2BAJrB,UAMI,cAACC,EAAA,EAAD,CAAa9E,GAAG,qBAAhB,qCACA,cAAC+E,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAAmBhF,GAAG,2BAAtB,UACI,+BACE,cAACiF,EAAA,EAAD,CACIC,SAAU9D,EACVmC,MAAO3C,EAAa,GAAD,OAAIuE,OAAOC,SAASC,OAAOC,WAA3B,uBAAoD1E,EAAa2E,KAAM,OAM5FC,SAASC,sBAAsB,SAC/B,gCACI,cAAC3D,EAAA,EAAD,CAAQM,QAvHZ,SAACsD,GAErBtE,EAASE,QAAQqE,SACjBH,SAASI,YAAY,QACrBF,EAAElB,OAAOqB,QACT9E,EAAe,YAkHS,kBACCD,iB,yEC/N3BnD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFgI,SAAU,GAEdC,MAAO,CACH7G,QAASrB,EAAMO,QAAQ,IAE3B8D,UAAW,CACP8D,MAAO,aAoPAC,OAzOf,SAAkB7F,GAAQ,IAAD,YACfC,EAAU1C,KADK,EAEG4C,IAAMC,SAAS,IAFlB,mBAEd0F,EAFc,KAERC,EAFQ,KAGfC,EAXV,SAAqB7C,GACjB,IAAM8C,EAAMlF,mBAIZ,OAHAE,qBAAU,WACNgF,EAAI/E,QAAUiC,KAEX8C,EAAI/E,QAMMgF,CAAYlG,EAAM8F,MAHd,EAIW3F,IAAMC,UAAS,GAJ1B,mBAId+F,EAJc,KAIJC,EAJI,KAMfC,EAAarG,EAAMsG,SAAW,SAAW,WAC/CrF,qBAAU,WAIuB,IAAD,EAAvBjB,EAAM8F,OAAOE,IACdO,QAAQC,IAAI,qBACZT,EAAO,yBAAK/F,EAAM8F,aAAX,QAAkB,IACzBM,GAAY,OAIpB,IAAMK,EAAe,SAACxC,GAClB,IAAMyC,EAAOzC,EAAMG,OAAOsC,KAC1BZ,EAAKY,GAAQzC,EAAMG,OAAOjB,MAC1B4C,EAAQ,eAAID,KAEVa,EAAW,UAAG3G,EAAM2G,mBAAT,QAAuB,aAsCxC,OACI,mCACI,cAACzE,EAAA,EAAD,CAAOL,UAAW5B,EAAQ0F,MAA1B,SACI,uBAAM9D,UAAW5B,EAAQvC,KAAMkJ,YAAU,EAACC,aAAa,MAAvD,UACI,gDAxCZN,QAAQC,IAAIV,EAAK,mBACb9F,EAAMsG,SACC,GACPtG,EAAM8G,cAAgBX,EACf,qCACFA,EAAS,cAACzE,EAAA,EAAD,CACNG,UAAW5B,EAAQ6B,UACnBH,QAAQ,YACRtC,MAAM,YACNuC,KAAK,QACLG,UAAW,cAAC,KAAD,IACXC,QAAS,WAAK,IAAD,EAACoE,GAAY,GAAOL,EAAO,yBAAK/F,EAAM8F,aAAX,QAAkB,KANpD,oBASA,GACV,cAACpE,EAAA,EAAD,CACAG,UAAW5B,EAAQ6B,UACnBH,QAAQ,YACRtC,MAAM,UACNuC,KAAK,QACLG,UAAW,cAAC,IAAD,IACXC,QAAS,kBAAIhC,EAAM+G,oBAAoBjB,IANvC,qBAUD,cAACpE,EAAA,EAAD,CACHG,UAAW5B,EAAQ6B,UACnBH,QAAQ,YACRtC,MAAM,UACNuC,KAAK,QACLG,UAAW,cAAC,IAAD,IACXC,QAAS,kBAAIoE,GAAY,IANtB,sBAgBK,eAAChF,EAAA,EAAD,CAAMxD,WAAS,EAACI,QAAS,GAAKgJ,UAAU,SAClC3F,QAAQ,SACRnC,WAAW,UAFjB,UAGI,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,UAAQ,EACRC,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAI,IAASsB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,wBACnD6G,KAAK,MACLW,SAAUZ,EAAc9E,QAAS0E,MAEhD,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GACrDe,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAI,SAAcsB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,qBACxD6G,KAAK,WACLW,SAAUZ,EAAc9E,QAAS0E,MAEhD,eAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAlC,UACI,cAAC5F,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYmB,KAAK,OACtEJ,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAK,iBAAkBsB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,gBAC7D6G,KAAK,gBAAgBW,SAAUZ,EAAc9E,QAAS0E,MAErE,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,eAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYZ,QAAM,EACvE2B,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAK,UAAE2C,EAAI,cAAN,QAAkB,GAAIsB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,SAAS6G,KAAK,SACxEW,SAAUZ,EAAc9E,QAAS0E,EAH5C,UAII,cAACkB,EAAA,EAAD,CAAUpE,MAAM,IAAhB,eACA,cAACoE,EAAA,EAAD,CAAUpE,MAAM,IAAhB,uBAIZ,cAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GACrDe,gBAAiB,CAACC,QAAQ,GAC1BK,WAAS,EACTtH,KAAM,EACNiD,MAAO2C,EAAI,UAAesB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,YACzD6G,KAAK,YACLW,SAAUZ,EAAc9E,QAAS0E,MAEhD,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYmB,KAAK,OACtEJ,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAK,kBAAmBsB,WAAS,EAACrJ,OAAO,QAChD8B,MAAM,qCAAqC6G,KAAK,iBAChDW,SAAUZ,EAAc9E,QAAS0E,MAEhD,eAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAlC,UACI,cAAC5F,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,eAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYZ,QAAM,EACvE2B,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAK,UAAE2C,EAAK,yBAAP,QAA0B,GAAIsB,WAAS,EAACrJ,OAAO,QACpD8B,MAAM,iBAAiB6G,KAAK,iBAC5BW,SAAUZ,EAAc9E,QAAS0E,EAJ5C,UAKI,cAACkB,EAAA,EAAD,CAAkBpE,MAAM,IAAxB,cAAc,KACd,cAACoE,EAAA,EAAD,CAAkBpE,MAAM,IAAxB,cAAc,UAGtB,cAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,eAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYZ,QAAM,EACvE2B,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAK,UAAE2C,EAAK,wBAAP,QAAyB,GAC9BsB,WAAS,EAACrJ,OAAO,QAAQ8B,MAAM,gBAC/B6G,KAAK,gBACLW,SAAUZ,EAAc9E,QAAS0E,EAL5C,UAMI,cAACkB,EAAA,EAAD,CAAUpE,MAAM,IAAhB,eACA,cAACoE,EAAA,EAAD,CAAUpE,MAAM,IAAhB,oBAGR,cAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,eAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYZ,QAAM,EACvE2B,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAK,UAAE2C,EAAK,6BAAP,QAA8B,GAAIsB,WAAS,EAACrJ,OAAO,QACxD8B,MAAM,+BAA+B6G,KAAK,qBAC1CW,SAAUZ,EAAc9E,QAAS0E,EAJ5C,UAKI,cAACkB,EAAA,EAAD,CAAUpE,MAAM,MAAhB,iBACA,cAACoE,EAAA,EAAD,CAAUpE,MAAM,KAAhB,wBAIZ,cAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GACrDe,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAI,WAAgBsB,WAAS,EAACrJ,OAAO,QAC5C8B,MAAM,uBAAuB6G,KAAK,aAClCW,SAAUZ,EAAc9E,QAAS0E,SAGpD,gDACA,cAACjF,EAAA,EAAD,CAAMxD,WAAS,EAACI,QAAS,GAAKgJ,UAAU,SAClC3F,QAAQ,SACRnC,WAAW,UAFjB,SAGI,eAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAlC,UACA,cAAC5F,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GACrDe,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAO2C,EAAK,uBAAwBsB,WAAS,EAACrJ,OAAO,QACrD8B,MAAM,uBAAuB6G,KAAK,sBAClCW,SAAUZ,EAAc9E,QAAS0E,MAEhD,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,eAACoD,EAAA,EAAD,CAAWoC,SAAUjH,EAAMsG,YAAetG,EAAM8G,cAAgBX,GAAYZ,QAAM,EACvE2B,gBAAiB,CAACC,QAAQ,GAC1BhE,MAAK,UAAE2C,EAAK,gCAAP,QAAiC,GAAIsB,WAAS,EAACrJ,OAAO,QAC3D8B,MAAM,wBAAwB6G,KAAK,wBACnCW,SAAUZ,EAAc9E,QAAS0E,EAJ5C,UAKI,cAACkB,EAAA,EAAD,CAAUpE,MAAM,UAAhB,qBACA,cAACoE,EAAA,EAAD,CAAUpE,MAAM,YAAhB,iCAKXnD,EAAM8G,aAAa,GAAG,qCAAE,8CAAkB9G,EAAMsG,WAAatG,EAAMyH,cAAe,GAAG,cAAC/F,EAAA,EAAD,CAClFC,QAAQ,YACRtC,MAAM,UACNuC,KAAK,QACLC,UAAW5B,EAAQ6B,UACnBC,UAAW,cAAC,IAAD,IACXC,QAAS,kBAAIhC,EAAM0H,SAAS5B,EAAI,UANkD,oBAUlFA,EAAK,gBAAgBA,EAAK,eAAe/B,OACzC,cAAC5B,EAAA,EAAD,CAAgBN,UAAW5B,EAAQrC,UAAnC,SACI,eAACwE,EAAA,EAAD,CAAOC,cAAY,EAACC,aAAW,eAA/B,UACI,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,cAACG,EAAA,EAAD,mCACA,cAACA,EAAA,EAAD,0CACC3C,EAAMyH,cAAc,cAAC9E,EAAA,EAAD,IAAwB,QAIzD,cAACE,EAAA,EAAD,UACKiD,EAAK,eAAerD,KAAI,SAAAkF,GAAC,OAAE,eAACnF,EAAA,EAAD,CAAUQ,OAAK,EAAC2D,YAAa,WAAKA,EAAYgB,EAAExC,MAAOyC,aAAc,kBAAIjB,OAAYpG,IAArF,UACxB,cAACoC,EAAA,EAAD,CAAWrB,MAAO,CAACjC,MAAOW,EAAM6H,OAAO7H,EAAM6H,OAAOF,EAAExC,KAAK,SAA3D,SACKwC,EAAC,OAEN,cAAChF,EAAA,EAAD,CAAWrB,MAAO,CAACjC,MAAOW,EAAM6H,OAAO7H,EAAM6H,OAAOF,EAAExC,KAAK,SAA3D,SACKwC,EAAC,iBAEL3H,EAAMyH,cAAc,eAAC9E,EAAA,EAAD,CAAyB7C,MAAM,SAA/B,UACjB,cAACuD,EAAA,EAAD,CAAYf,aAAW,OAAQV,KAAK,QAAQI,QAAS,kBAAIhC,EAAM8H,UAAUH,IAAzE,SACI,cAAC,IAAD,CAAgBrE,SAAS,cAE7B,cAACD,EAAA,EAAD,CAAaf,aAAW,OAAOV,KAAK,QAAQI,QAAS,kBAAIhC,EAAM+H,UAAUJ,IAAzE,SACI,cAAC,IAAD,CAAUrE,SAAS,cAEvB,cAACD,EAAA,EAAD,CAAYhE,MAAM,YAAYiD,aAAW,SAAUV,KAAK,QAAQI,QAAS,kBAAIhC,EAAMgI,YAAYL,IAA/F,SACI,cAAC,IAAD,CAAYrE,SAAS,gBARO,WAUvB,gBA7B0B,yE,0DC9NrE/F,G,OAAYC,GAAW,CACzBE,KAAM,CACFC,MAAO,OACPsB,QAAS,OACTC,WAAY,SACZ+I,UAAW,MA+BJC,OA3Bf,SAAqBlI,GAAO,IAAD,EACGG,IAAMC,SAAS,GADlB,mBAChB+C,EADgB,KACTgF,EADS,OAEGhI,IAAMC,UAAU,GAFnB,mBAEhB4C,EAFgB,KAEToF,EAFS,KAGjBnI,EAAU1C,KAIhB,OAHA0D,qBAAU,WACNkH,EAASnI,EAAMmD,UAEZ,sBAAKtB,UAAW5B,EAAQvC,KAAxB,UACH,cAAC2K,GAAA,EAAD,yBACI3B,KAAK,kBACD1G,GAFR,IAGImD,MAAOA,EACPvB,KAAM5B,EAAMsI,IAAI,EAAE,QAAQ,SAC1BjB,SAAU,SAACpD,EAAOsE,GACVvI,EAAMwI,UACNxI,EAAMwI,UAAUD,GAEhBJ,EAASI,IAGjBE,eAAgB,SAACxE,EAAOyE,GACpBN,EAASM,OAGN,OAAVvF,GAAkB,cAACwF,GAAA,EAAD,CAAKC,GAAI,EAAT,SAAa5I,EAAM6I,OAAO7I,EAAM6I,QAAkB,IAAX7F,EAAeA,EAAQG,IAAmB,IAAXH,EAAeA,EAAQG,Q,UCpBlH5F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFgI,SAAU,GAEdoD,OAAQ,CACJC,eAAgBtL,EAAMO,QAAQ,IAElCgL,UAAW,CACPC,iBAAkBxL,EAAMO,QAAQ,GAChC+K,eAAgBtL,EAAMO,QAAQ,IAElCkL,OAAQ,CACJ5K,gBAAiB,cAInB6K,GAAW,CACbC,KAAM,CAAC,iCAAkC,qCAAsC,yBAC/EC,KAAM,CAAC,UAAW,qDAAsD,yBAA0B,qBAAsB,sDACpH,+BAAgC,yCAA0C,2CAA4C,yDAA0D,8CAA+C,+CAC/N,+CAAgD,yCAA0C,gCAAiC,0BAC3H,gDAAiD,8EACjD,2FACJC,IAAK,CAAC,mGAAoG,0GACtG,8GAA+G,yGAC/G,uHA+OOC,OA5Of,SAAevJ,GACX,IAAMC,EAAU1C,KACTiM,EAAQxJ,EAARwJ,KAFW,EAGUrJ,IAAMC,SAAS,IAAIqJ,MAAM,IAHnC,mBAGXC,EAHW,KAGHC,EAHG,OAIMxJ,IAAMC,SAAS,IAAIqJ,MAAM,IAJ/B,mBAIXL,EAJW,KAILQ,EAJK,OAKMzJ,IAAMC,SAAS,IAAIqJ,MAAM,KAL/B,mBAKXJ,EALW,KAKLQ,EALK,OAMI1J,IAAMC,SAAS,IAAIqJ,MAAM,IAN7B,mBAMXH,EANW,KAMNQ,EANM,KAmBZC,EAAa,SAACC,EAAKC,GACrBZ,EAAKY,GAASD,EACdH,EAAQ,aAAIR,IACZrJ,EAAMkK,cAAc,CAChBb,OACA,kBAAmBG,EAAK,mBAAmBH,GAC3C,yBAA0BG,EAAK,0BAA0BH,GACzD,aAAcG,EAAK,cAAcH,MA0CzC,OA5BApI,qBAAU,WACN,IAAIkJ,GAAa,EACbnK,EAAMkK,cAAc,UACpBC,GAAa,EACbP,EAAQ5J,EAAMkK,cAAc,UAE5BlK,EAAMkK,cAAc,UACpBC,GAAa,EACbN,EAAQ7J,EAAMkK,cAAc,UAE5BlK,EAAMkK,cAAc,SACpBC,GAAa,EACbL,EAAO9J,EAAMkK,cAAc,SAE3BlK,EAAMkK,cAAc,YACpBC,GAAa,EACbR,EAAU3J,EAAMkK,cAAc,YAE7BC,GACDnK,EAAMkK,cAAc,CAChBd,OAAMC,OAAMC,MAAK,aAAcE,EAAK,cAAcJ,GAClD,kBAAmBI,EAAK,mBAAmBH,GAC3C,yBAA0BG,EAAK,0BAA0BH,GACzD,aAAcG,EAAK,cAAcH,GACjC,YAAaG,EAAK,aAAaF,OAGxC,IAEC,eAAClI,EAAA,EAAD,CAAMxD,WAAS,EAACI,QAAS,EACnBqD,QAAQ,SACRnC,WAAW,UAFjB,UAGI,eAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAf,UACI,oBAAII,UAAW5B,EAAQ6I,OAAvB,oDACCK,GAASC,KACL3G,KAAI,SAACkF,EAAGyC,GAAJ,aAAU,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACP,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACMzB,EAAMqK,OAAOrK,EAAMsG,SAAUoD,EAAOU,GAAG,cAACvF,EAAA,GAAD,GAC9BqC,gBAAiB,CAACC,QAAQ,GAC1BpJ,OAAO,QACP6D,KAAK,QACLuB,MAAOuG,EAAOU,GAAIhD,WAAS,GAJG,uBAIK,SAJL,0BAKpB,SAACnD,GAAD,OA1E5B+F,EA0EoD/F,EAAMG,OAAOjB,MAzElFuG,EAyEyFU,GAzEzEJ,EAChBL,EAAU,aAAID,SACd1J,EAAMkK,cAAc,CAACR,WAHL,IAACM,KAqEgD,MAQ7C,cAAC5I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,GAAInF,MAAOiG,EAAKgB,GAAI1D,KAAM,OAAS0D,EACxC5B,UAAW,SAAUwB,IA1E3C,SAACA,EAAKC,GACjBb,EAAKa,GAASD,EACdJ,EAAQ,aAAIR,IACZpJ,EAAMkK,cAAc,CAACd,OAAM,aAAcI,EAAK,cAAcJ,KAwEvBkB,CAAWN,EAAKI,IACjBnD,SAAUjH,EAAMsG,WAAYoD,EAAOU,SAd6BA,MAmBhG,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAAS2C,UAAW5B,EAAQiJ,OAA3F,UACI,cAAC9H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,0CACA,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACK8I,KAAQnB,WAIrB,eAAChI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAf,UACI,oBAAII,UAAW5B,EAAQ6I,OAAvB,iEACA,oBAAIjH,UAAW5B,EAAQ+I,UAAvB,8BACCG,GAASE,KAAKvG,MAAM,EAAG,GAAGL,KAAI,SAACkF,EAAGyC,GAAJ,OAAU,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAC1CkB,WAAW,SADjB,UAEjC,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmBkG,IACnB,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,GAAInF,MAAOkG,EAAKe,GAAI1D,KAAM,OAAS0D,EACxC5B,UAAW,SAAUwB,GACjBD,EAAWC,EAAKI,IACjBnD,SAAUjH,EAAMsG,mBAI5C,eAAClF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAAS2C,UAAW5B,EAAQiJ,OAA3F,UACI,cAAC9H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,6BACA,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACK8I,KAAOlB,EAAKvG,MAAM,EAAG,SAG9B,oBAAIjB,UAAW5B,EAAQ+I,UAAvB,sBACCG,GAASE,KAAKvG,MAAM,EAAG,IACnBL,KAAI,SAACkF,EAAG6C,GACD,IAAMJ,EAAII,EAAK,EACf,OAAO,eAACpJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACH,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmBkG,IACnB,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,GAAInF,MAAOkG,EAAKe,GAAI1D,KAAM,OAAS0D,EACxC5B,UAAW,SAAUwB,GACjBD,EAAWC,EAAKI,IACjBnD,SAAUjH,EAAMsG,mBAMpD,oBAAIzE,UAAW5B,EAAQ+I,UAAvB,8BACCG,GAASE,KAAKvG,MAAM,GAAI,IACpBL,KAAI,SAACkF,EAAG6C,GACD,IAAMJ,EAAII,EAAK,GACf,OAAO,eAACpJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACH,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmBkG,IACnB,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,GAAInF,MAAOkG,EAAKe,GAAI1D,KAAM,OAAS0D,EACxC5B,UAAW,SAAUwB,GACjBD,EAAWC,EAAKI,IACjBnD,SAAUjH,EAAMsG,mBAMpD,eAAClF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAAS2C,UAAW5B,EAAQiJ,OAA3F,UACI,cAAC9H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,iCACA,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,UACM8I,KAAOlB,EAAKvG,MAAM,EAAG,MAAQ,GAAKyH,KAASlB,EAAKvG,MAAM,EAAG,MAAQyH,KAAQlB,EAAKvG,MAAM,EAAG,MAAQ,OAGzG,oBAAIjB,UAAW5B,EAAQ+I,UAAvB,yCACA,eAAC5H,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACI,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmB0H,GAASE,KAAK,MACjC,cAACjI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,eAACgJ,GAAA,EAAD,CACIC,cAAY,EACZ/I,QAAQ,WACRyF,WAAS,EACTrJ,OAAO,QACPoF,MAAOkG,EAAK,IACZpC,SAAUjH,EAAMsG,SAChBe,SAAU,SAACpD,GAAD,OAAW8F,GAAY9F,EAAMG,OAAOjB,MAAO,KAPzD,UAQI,cAACoE,EAAA,EAAD,CAAUpE,MAAO,EAAjB,uBACA,cAACoE,EAAA,EAAD,CAAUpE,MAAO,EAAjB,sBACA,cAACoE,EAAA,EAAD,CAAUpE,MAAO,EAAjB,gCAIZ,eAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACI,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmB0H,GAASE,KAAK,MACjC,cAACjI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,GAAInF,MAAOkG,EAAK,IAAK3C,KAAM,SAChC8B,UAAW,SAAUwB,GACjBD,EAAWC,EAAK,KACjB/C,SAAUjH,EAAMsG,gBAGxC,oBAAIzE,UAAW5B,EAAQ+I,UAAvB,uFAEA,eAAC5H,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACI,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmB0H,GAASE,KAAK,MACjC,cAACjI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACoD,EAAA,EAAD,CACIyC,KAAK,SACLqD,WAAY,CAACC,WAAY,CAACC,IAAK,EAAGvC,IAAK,MACvCrB,SAAUjH,EAAMsG,SAChBnD,MAAOkG,EAAK,IACZ1H,QAAS,WACT5D,OAAQ,QACRsJ,SAAU,SAACpD,GAAD,OAAW8F,GAAa9F,EAAMG,OAAOjB,MAAQ,eAOvE,eAAC/B,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAf,UACI,oBAAII,UAAW5B,EAAQ6I,OAAvB,yDACCK,GAASG,IACL7G,KAAI,SAACkF,EAAGyC,GAAJ,OAAU,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAA/D,UACP,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAAmBkG,IACnB,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAa6G,IAAK,EAAGnF,MAAOmG,EAAIc,GAAIU,UAAW,EAAGpE,KAAM,MAAQ0D,EACnD5B,UAAW,SAAUwB,IAtL5C,SAACA,EAAKC,GACpBX,EAAIW,GAASD,EACbF,EAAO,aAAIR,IACXtJ,EAAMkK,cAAc,CAChBZ,MACA,YAAaE,EAAK,aAAaF,KAkLMyB,CAAUf,EAAKI,IAChBnD,SAAUjH,EAAMsG,mBAKhD,eAAClF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAAS2C,UAAW5B,EAAQiJ,OAA3F,UACI,cAAC9H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,4CACA,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACK8I,KAAOjB,QAGhB,eAAClI,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAQ,IAAIkB,WAAW,SAAS2C,UAAW5B,EAAQiJ,OAA3F,UACI,cAAC9H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,4CACA,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,UACM8I,KAAOjB,GAAO,GAAK,GAAK,gB,wCC1Q5C/L,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFgI,SAAU,GAEdsF,MAAM,CACF1M,gBAAiBb,EAAMe,QAAQyM,QAAQC,OAE3CC,MAAO,CACHxN,MAAO,IACPyN,UAAW,QACX,qCAAqC,CACjCC,iBAAkB,OAClBtN,OAAQ,IAGhBuN,OAAQ,CACJ3N,MAAO,IACPyN,UAAW,UAEf5B,KAAM,CACFjK,YAAa,GACbgM,aAAc,GACdC,WAAY,KACZC,cAAe,KACfC,WAAY,OACZnK,UAAW,EACXoK,aAAc,GAElBC,WAAW,CACPtN,gBAAiB,OACjBqN,aAAclO,EAAMO,QAAQ,GAC5BI,aAAc,QAmMPyN,OA9Lf,SAA8B7L,GAC1B,IAAMC,EAAU1C,KACV8I,EAAarG,EAAMsG,SAAW,SAAW,WAFd,EAGTnG,IAAMC,SAAS,CACnC,gBAAiB,CACb,gBAAiB,CAAC,EAAG,GACrB,sBAAuB,CAAC,EAAG,GAC3B,OAAS,GAEb,gBAAiB,CACb,gBAAiB,CAAC,EAAG,GACrB,sBAAuB,CAAC,EAAG,GAC3B,OAAS,GAEb,kBAAmB,CACf,gBAAiB,CAAC,EAAG,GACrB,sBAAuB,CAAC,EAAG,GAC3B,OAAS,GAEb,mBAAoB,CAChB,gBAAiB,CAAC,EAAG,EAAG,GACxB,sBAAuB,CAAC,EAAG,EAAG,GAC9B,OAAS,GAEb,iCAAkC,CAC9B,gBAAiB,CAAC,GAClB,sBAAuB,CAAC,GACxB,OAAS,GAEb,gCAAiC,CAC7B,gBAAiB,CAAC,GAClB,sBAAuB,CAAC,GACxB,OAAS,KAhCgB,mBAG1B0F,EAH0B,KAGpBC,EAHoB,KAmCjC9E,qBAAU,WACN,IAAIkJ,GAAW,EACT2B,EAAG,eAAOhG,GAChBiG,OAAOC,KAAKlG,GAAMmG,SAAQ,SAAAC,GAEtB,IAAMC,EAAInM,EAAMkK,cAAcgC,GACzBC,IACDhC,GAAa,EACb2B,EAAII,GAAKC,MAGbhC,EACApE,EAAQ+F,GAER5B,MAEN,IACF,IAAMA,EAAgB,WAClB6B,OAAOC,KAAKlG,GAAMmG,SAAQ,SAAAC,GAAC,OAAEpG,EAAKoG,GAAGhD,OAASlJ,EAAMwJ,KAAK0C,GAAGpG,EAAKoG,GAAG,iBAAiBpG,EAAKoG,GAAG,2BAC7FlM,EAAMkK,cAAN,eAAwBpE,KAEtBW,EAAe,SAACxC,EAAOmI,EAASC,EAAQpC,EAAM3B,GAChDxC,EAAKsG,GAASC,GAAQpC,GAAS3B,EAAIgE,KAAKzB,IAAIvC,EAAIrE,EAAMG,OAAOjB,OAAOc,EAAMG,OAAOjB,MACjF2C,EAAKsG,GAASlD,OAASlJ,EAAMwJ,KAAK4C,GAAStG,EAAKsG,GAAS,iBAAiBtG,EAAKsG,GAAS,wBACxFrG,EAAQ,eAAID,IACZ9F,EAAMkK,cAAN,eAAwBpE,KAEtByG,EAAU,SAACH,EAASC,EAAQpC,GAC9B,OAAOnE,EAAKsG,GAASC,GAAQpC,IAG3BuC,EAAgB,SAAC7E,GACnB,OAAQ,qCACHA,EAAE8E,IAAIhK,KAAI,SAAC6C,EAAG8E,GAAJ,eAAU,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAM9H,WAAW,SAASlB,QAAS,EAArE,UACjB,cAACoD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,+BAAO6D,EAAEoH,SAEb,cAACtL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACtG,EAAA,GAAD,GAAWoC,SAAUjH,EAAMsG,SAAUgB,KAAK,SAC/BJ,gBAAiB,CAACC,QAAQ,GAC1ByD,WAAY,CAACtJ,MAAO,CAAE8J,UAAW,SAAS9C,IAAK,KAC/CvK,OAAO,QACP6D,KAAK,QACLuB,MAAOoJ,EAAQ5E,EAAC,IAAS,gBAAiByC,GAAIhD,WAAS,GALlE,uBAK0E,SAL1E,0BAMqB,SAACnD,GAAD,OAAWwC,EAAaxC,EAAO0D,EAAC,IAAS,gBAAiByC,EAAE,QANjF,wBAOoB/D,GAPpB,MASJ,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACtG,EAAA,GAAD,GAEIoC,SAAUjH,EAAMqK,OAAOrK,EAAMsG,SACtBgB,KAAK,SACLJ,gBAAiB,CAACC,QAAQ,GAC1ByD,WAAY,CAACtJ,MAAO,CAAE8J,UAAW,SAAS9C,IAAK,KAC/CvK,OAAO,QACP6D,KAAK,QACLuB,MAAOoJ,EAAQ5E,EAAC,IAAS,sBAAuByC,GAAIhD,WAAS,GARxE,uBAQgF,SARhF,0BASqB,SAACnD,GAAD,OAAWwC,EAAaxC,EAAO0D,EAAC,IAAS,sBAAuByC,EAAE,QATvF,wBAUoB/D,GAVpB,YAaR,eAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAM9H,WAAW,SAASlB,QAAS,EAAG6D,UAAW5B,EAAQ2L,WAA3F,UACI,cAACxK,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,+BAAOkG,EAAC,QAEZ,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQqL,OAA9B,SACI,sBAAMzJ,UAAW5B,EAAQuJ,KAAzB,SAAgC1D,EAAK6B,EAAC,KAASuB,kBAIzDyD,EAAiB,SAAChF,GACpB,OAAQ,qCACHA,EAAE8E,IAAIhK,KAAI,SAAC6C,EAAG8E,GAAJ,eAAU,eAAChJ,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAM9H,WAAW,SAASlB,QAAS,EAArE,UACjB,cAACoD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,+BAAO6D,EAAEoH,SAEb,cAACtL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACtG,EAAA,GAAD,GAAWoC,SAAUjH,EAAMsG,SAAUgB,KAAK,SAC/BJ,gBAAiB,CAACC,QAAQ,GAC1ByD,WAAY,CAACtJ,MAAO,CAAE8J,UAAW,UACjCrN,OAAO,QACP6D,KAAK,QACLuB,MAAOoJ,EAAQ5E,EAAC,IAAS,gBAAiByC,GAAIhD,WAAS,GALlE,uBAK0E,SAL1E,0BAMqB,SAACnD,GAAD,OAAWwC,EAAaxC,EAAO0D,EAAC,IAAS,gBAAiByC,MAN/E,wBAOoB/D,GAPpB,MASJ,cAACjF,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACtG,EAAA,GAAD,GAEIoC,SAAUjH,EAAMqK,OAAOrK,EAAMsG,SAC7BgB,KAAK,SACEJ,gBAAiB,CAACC,QAAQ,GAC1ByD,WAAY,CAACtJ,MAAO,CAAE8J,UAAW,UACjCrN,OAAO,QACP6D,KAAK,QACLuB,MAAOoJ,EAAQ5E,EAAC,IAAS,sBAAuByC,GAAIhD,WAAS,GARxE,uBAQgF,SARhF,0BASqB,SAACnD,GAAD,OAAWwC,EAAaxC,EAAO0D,EAAC,IAAS,sBAAuByC,MATrF,wBAUoB/D,GAVpB,YAaR,eAACjF,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAM9H,WAAW,SAASlB,QAAS,EAAG6D,UAAW5B,EAAQ2L,WAA3F,UACI,cAACxK,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,+BAAOkG,EAAC,QAEZ,cAACvG,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQqL,OAA9B,SACI,sBAAMzJ,UAAW5B,EAAQuJ,KAAzB,SAAgC1D,EAAK6B,EAAC,KAASuB,kBAK/D,OAAQ,eAAC9H,EAAA,EAAD,CAAMxD,WAAS,EAACI,QAAS,GAAKgJ,UAAU,SAClC3F,QAAQ,SACRnC,WAAW,UAFjB,UAGJ,oBAAIY,MAAM,SAAS+B,UAAW5B,EAAQ+K,MAAtC,mCACA,eAAC5J,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAS,EAAjD,UACI,cAACoD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,IAEb,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACxC,GAAA,EAAD,CAAKiE,WAAW,iBAAhB,6BAIJ,cAACxL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACxC,GAAA,EAAD,CAAKiE,WAAW,iBAAhB,sCAKP,CAAC,CAACC,IAAK,gBAAiBJ,IAAK,CAAC,CAACC,KAAM,aAAc,CAACA,KAAM,aACvD,CAACG,IAAK,gBAAiBJ,IAAK,CAAC,CAACC,KAAM,aAAc,CAACA,KAAM,gBACzD,CAACG,IAAK,kBAAmBJ,IAAK,CAAC,CAACC,KAAM,oBAAqB,CAACA,KAAM,sBAAsBjK,IAAI+J,GAChG,oBAAI1M,MAAM,SAAS+B,UAAW5B,EAAQ+K,MAAtC,qDACA,eAAC5J,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAC7D,WAAS,EAACoJ,UAAU,MAAMhJ,QAAS,EAAjD,UACI,cAACoD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACkH,GAAA,EAAD,CAAKiE,WAAW,iBAAhB,kCAIJ,cAACxL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACxC,GAAA,EAAD,CAAKiE,WAAW,iBAAhB,6BAIJ,cAACxL,EAAA,EAAD,CAAMI,MAAI,EAACK,UAAW5B,EAAQkL,MAA9B,SACI,cAACxC,GAAA,EAAD,CAAKiE,WAAW,iBAAhB,sCAKP,CAAC,CAACC,IAAK,mBAAoBJ,IAAK,CAAC,CAACC,KAAM,qBAAsB,CAACA,KAAM,qBAAsB,CAACA,KAAM,wBAAwBjK,IAAI+J,GAC9H,CAAC,CAACK,IAAK,iCAAkCJ,IAAK,CAAC,CAACC,KAAM,yBAAyBjK,IAAIkK,GACnF,CAAC,CAACE,IAAK,gCAAiCJ,IAAK,CAAC,CAACC,KAAM,wBAAwBjK,IAAIkK,OClNpFpP,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqP,WAAY,CACRC,YAAatP,EAAMO,QAAQ,IAE/BgP,aAAc,CACVzL,UAAW9D,EAAMO,QAAQ,GACzB2N,aAAclO,EAAMO,QAAQ,QAQpC,SAASiP,GAAeC,EAAKlN,GACzB,OAAQkN,GACJ,KAAK,EACD,OAAO,eAAC9L,EAAA,EAAD,CAAMxD,WAAS,EAAf,UACH,cAACwD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAACoD,EAAA,EAAD,CAAWyC,KAAK,OACLL,SAAUjH,EAAMsG,SAChBY,gBAAiB,CAACC,QAAQ,GAC1BC,WAAS,EAACrJ,OAAO,QACjB8B,MAAM,qBAAqB6G,KAAK,OAChCyG,UAAQ,EACRC,aAAcpN,EAAMkK,cAAc,QAClC7C,SAAU,SAAApD,GAAK,OAAEjE,EAAMkK,cAAc,CAAC,KAAOjG,EAAMG,OAAOjB,SAASxB,QAAQ,eAG1F,cAACP,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,eAACoD,EAAA,EAAD,CAAWU,QAAM,EACN0B,SAAUjH,EAAMsG,SAChBc,WAAS,EAACrJ,OAAO,QACjBoP,UAAQ,EACRC,aAAcpN,EAAMkK,cAAc,kBAClCrK,MAAM,gCAAgC6G,KAAK,iBAC3CW,SAAU,SAAApD,GAAK,OAAEjE,EAAMkK,cAAc,CAAC,eAAiBjG,EAAMG,OAAOjB,SAASxB,QAAQ,WANhG,UAOI,cAAC4F,EAAA,EAAD,CAAUpE,MAAM,MAAhB,iBACA,cAACoE,EAAA,EAAD,CAAUpE,MAAM,KAAhB,wBAIhB,KAAK,EACD,OAAO,cAAC,GAAD,eAA0BnD,IACrC,KAAK,EACD,OAAO,cAAC,GAAD,eAAWA,IACtB,QACI,MAAO,gBA6GJqN,OAzGf,SAAoBrN,GAChB,IAAMC,EAAU1C,KACT+P,EAAkCtN,EAAlCsN,aAAaC,EAAqBvN,EAArBuN,aAAajJ,EAAQtE,EAARsE,KAFV,EAGanE,IAAMC,SAAS,GAH5B,mBAGhBoN,EAHgB,KAGJC,EAHI,OAIOtN,IAAMC,SAAS,IAAIsN,KAJ1B,mBAIhBC,EAJgB,KAIPC,EAJO,KAKjBC,EA7CC,CAAC,sBAAuB,yBAA0B,SA6FzD,OACI,eAACxJ,EAAA,EAAD,CAGI+C,WAAS,EACT0G,SAAS,KACTtJ,kBAAgB,4BAChBF,KAAMA,EACNC,QAASgJ,EAPb,UASI,cAAC7I,EAAA,EAAD,CAAa9E,GAAG,4BAAhB,yBACA,eAAC+E,EAAA,EAAD,CAAeoJ,UAAQ,EAAvB,UACI,cAACC,GAAA,EAAD,CAASR,WAAYA,EAAYS,kBAAgB,EAAjD,SACKJ,EAAMpL,KAAI,SAAC5C,GAAD,OACP,cAACqO,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,UAAYtO,KADLA,QAKnB,8BACK2N,IAAeK,EAAM9J,OAClB,gCACI,cAACqK,EAAA,EAAD,CAAYvM,UAAW5B,EAAQ+M,aAA/B,iCACA,cAACtL,EAAA,EAAD,CAAQM,QA3BZ,WAChByL,EAAc,IA0BM,sBAGJ,8BACI,cAACW,EAAA,EAAD,CAAYvM,UAAW5B,EAAQ+M,aAA/B,SAA8CC,GAAeO,EAAWxN,YAKxF,eAACqO,GAAA,EAAD,WACI,cAAC3M,EAAA,EAAD,CAAQM,QAASuL,EAAclO,MAAM,iBAAiBiC,MAAO,CAACsE,MAAM,QAApE,oBAGA,cAAClE,EAAA,EAAD,CACIuF,SAAyB,IAAfuG,EACVxL,QA7DG,WACfyL,GAAc,SAACa,GAAD,OAAoBA,EAAiB,MA6DvCzM,UAAW5B,EAAQ6M,WAHvB,kBAOCU,IAAeK,EAAM9J,OAAS,EAC3B,cAACrC,EAAA,EAAD,CAAQC,QAAQ,YAAYtC,MAAM,UAAU2C,QAASsL,EAArD,oBACA,cAAC5L,EAAA,EAAD,CAAQC,QAAQ,YAAYtC,MAAM,UAAU2C,QA/EzC,WACf,IALmBkL,EAKfqB,EAAaZ,EALET,EAMDM,EALXG,EAAQa,IAAItB,KAMfqB,EAAa,IAAIb,IAAIC,EAAQc,WAClBC,OAAOlB,GAGtBC,GAAc,SAACa,GAAD,OAAoBA,EAAiB,KACnDV,EAAWW,IAuEC,yB,+ECzKdI,G,oDAOF,WAAY3O,GAAQ,IAAD,+BACf,cAAMA,IAED4O,MAAQ,CACTC,MAAO,IAJI,E,uDAQnB,WAAsB,IAAD,EAC8BC,KAAKC,sBAA5CC,EADS,EACTA,uBAAwBC,EADf,EACeA,WAChCH,KAAKE,uBAAyBA,EAC9BF,KAAKG,WAAaA,EAElB,IAAMJ,EAAQC,KAAKI,eAAeJ,KAAKE,uBAAwBF,KAAKG,WAAYH,KAAK9O,MAAMrC,OAC3FmR,KAAKK,SAAS,CAAEN,Y,oBAGpB,WAAS,MAEuCC,KAAK9O,MAAzC0L,EAFH,EAEGA,WAAY0D,EAFf,EAEeA,UAAcpP,EAF7B,2CAGCqP,EAAKD,EACHE,EAAStP,EAATsP,EAAGC,EAAMvP,EAANuP,EAEX,OACI,gDAAUvP,GAAV,IAAiBqP,GAAE,UAAKA,EAAL,MAAnB,SACKP,KAAKF,MAAMC,MAAMpM,KAAI,SAAC+M,EAAMvF,GAAP,OAClB,uBAAOqF,EAAGA,EAAGC,EAAGA,EAAGF,GAAE,UAAKpF,EAAQyB,EAAb,MAArB,SACK8D,Y,gCAOrB,SAAmBC,EAAWC,GAC1B,GAAIZ,KAAK9O,MAAM2P,UAAYF,EAAUE,SAAU,CAAC,IAAD,EACIb,KAAKC,sBAA5CC,EADmC,EACnCA,uBAAwBC,EADW,EACXA,WAChCH,KAAKE,uBAAyBA,EAC9BF,KAAKG,WAAaA,EAGtB,IAAMJ,EAAQC,KAAKI,eAAeJ,KAAKE,uBAAwBF,KAAKG,WAAYH,KAAK9O,MAAMrC,OACrFiS,EAAed,KAAKF,MAAMC,MAAM9K,SAAW8K,EAAM9K,OACjD8L,EAAYf,KAAKF,MAAMC,MAAMiB,MAAK,SAACC,EAAM9F,GAAP,OAAiB8F,EAAKhM,QAAU8K,EAAM5E,GAAOlG,WAEjF6L,GAAgBC,IAChBf,KAAKK,SAAS,CAAEN,Y,iCAIxB,WAEI,IAAMmB,EAAQlB,KAAK9O,MAAM2P,SAASM,MAAM,OACpCC,EAAM9K,SAAS+K,gBAAgB,6BAA8B,OAC7DzD,EAAOtH,SAAS+K,gBAAgB,6BAA8B,QAClEpE,OAAOqE,OAAO1D,EAAKpL,MAAOwN,KAAK9O,MAAMsB,OACrC4O,EAAIG,YAAY3D,GAChBtH,SAASkL,KAAKD,YAAYH,GAE1B,IAAMlB,EAAyBgB,EAAMvN,KAAI,SAAA+M,GAErC,OADA9C,EAAK6D,YAAcf,EACZ,CAAEA,OAAM7R,MAAO+O,EAAK8D,4BAG/B9D,EAAK6D,YAAc,OACnB,IAAMtB,EAAavC,EAAK8D,wBAIxB,OAFApL,SAASkL,KAAKG,YAAYP,GAEnB,CAAElB,yBAAwBC,gB,4BAGrC,SAAeD,EAAwBC,EAAYyB,GAqB/C,OApBqB1B,EAAuB2B,QAAO,SAACzH,EAAD,GAA6B,IAAlBsG,EAAiB,EAAjBA,KAAM7R,EAAW,EAAXA,MAC1DiT,EAAW1H,EAAOA,EAAOnF,OAAS,IAAM,CAAEiM,MAAO,GAAIrS,MAAO,GAElE,GAA8B,IAA1BiT,EAASZ,MAAMjM,OAAc,CAE7B,IAAM8M,EAAU,CAAEb,MAAO,CAACR,GAAO7R,SACjCuL,EAAO4H,KAAKD,QACT,GAAID,EAASjT,MAAQA,EAASiT,EAASZ,MAAMjM,OAASkL,EAAcyB,EAEvEE,EAASZ,MAAMc,KAAKtB,GACpBoB,EAASjT,OAASA,MACf,CAEH,IAAMkT,EAAU,CAAEb,MAAO,CAACR,GAAO7R,SACjCuL,EAAO4H,KAAKD,GAGhB,OAAO3H,IACR,IAEiBzG,KAAI,SAAAsN,GAAI,OAAIA,EAAKC,MAAMe,KAAK,Y,GApGrCC,aAAbrC,GAEKsC,aAAe,CAClBvF,WAAY,EACZ0D,UAAW,KAoGJT,UCrFTuC,GAAO,CACT,CAACtR,GAAI,aAAcC,MAAO,iCAAkCsR,MAAO,CAAC,EAAG,KACvE,CAACvR,GAAI,kBAAmBC,MAAO,yDAA0DsR,MAAO,CAAC,GAAI,IACrG,CACIvR,GAAI,yBACJC,MAAO,qEACPsR,MAAO,CAAC,GAAI,IAEhB,CAACvR,GAAI,aAAcC,MAAO,iEAAkEsR,MAAO,CAAC,EAAG,MACvG,CACIvR,GAAI,YACJC,MAAO,8EACPsR,MAAO,CAAC,EAAG,MAEf,CACIvR,GAAI,gBACJC,MAAO,qGACPsR,MAAO,CAAC,EAAG,IAEf,CACIvR,GAAI,gBACJC,MAAO,wGACPsR,MAAO,CAAC,EAAG,IAEf,CACIvR,GAAI,kBACJC,MAAO,2GACPsR,MAAO,CAAC,EAAG,IAEf,CACIvR,GAAI,mBACJC,MAAO,iGACPsR,MAAO,CAAC,EAAG,IAEf,CACIvR,GAAI,iCACJC,MAAO,4GACPsR,MAAO,CAAC,EAAG,IAEf,CACIvR,GAAI,gCACJC,MAAO,4GACPsR,MAAO,CAAC,EAAG,KAIbC,GAAY7G,OAAiB8G,OAAO,CAAC,EAAGH,GAAKnN,SAASoN,MAAM,CAAC,EAAa,EAAV7E,KAAKgF,KAGrEC,G,oDACF,WAAYvR,GAAQ,IAAD,+BACf,cAAMA,IAmFVwR,UAAYjH,OACPkH,aAAY,SAAA9J,GAAC,OAAIA,EAAE,MACnB+J,aAAY,SAAA/J,GAAC,OAAIA,EAAE,MACnBgK,WAAW,GACXC,SAAmB,EAAVtF,KAAKgF,IAtFf,EAAKpB,IAAM/P,IAAM0R,YACjB,EAAKjD,MAAQ,CAET9I,KAAM,GACN/H,OAAQ,CAAC+T,IAAK,IAAKC,MAAO,IAAKC,OAAQ,IAAKC,KAAM,KAClDtU,MAAO,IACPoB,OAAQ,IACRmT,UAAW,IACXC,OAAQ,WACJ,OAAOrD,KAAKnR,MAAQmR,KAAK/Q,OAAOkU,KAAOnD,KAAK/Q,OAAOgU,OAEvDK,QAAS,WACL,OAAOtD,KAAK/P,OAAS+P,KAAK/Q,OAAO+T,IAAMhD,KAAK/Q,OAAOiU,QAEvDK,OAAQ,WACJ,OAAO/F,KAAKzB,IAAIiE,KAAKqD,OAAOG,KAAKxD,KAAjBA,GAA0BA,KAAKsD,QAAQE,KAAKxD,KAAlBA,IAA6B,GAE3ExL,SAAU,GACVuE,OAAS7H,EAAM6H,QAAU7H,EAAM6H,OAAOwJ,OAAUrR,EAAM6H,OAAS0K,eAAepB,MAAM5G,MACpFiI,OAAQjI,OACRkI,UAAWlI,OAENmI,MAAMnI,KAAuBoI,QAAQ,KACrCN,QAAO,SAAC1K,GACL,OAAO,EAAKiH,MAAM4D,OAAO7K,MAE5BiL,OAAM,SAAUjL,EAAGyC,GAChB,OAAOgH,GAAUhH,MAEzByI,OAAQtI,KAAS,EAAG,GAAG9H,KAAI,SAAAkF,GAAC,OAAIA,EAAI,KACpCmL,QAAS,GACTC,QAAS,IAEb,EAAKnE,MAAMoE,YAAcT,eAAelB,OAAO,EAAKzC,MAAMiE,QAAQ1B,MAAM,CAAC,UAAW,UAAW,UAAW,UAAW,YACrHD,GAAKjF,SAAQ,SAAAgH,GAAC,OAAIA,EAAEC,MAAQ3I,OAAiB8G,OAAO4B,EAAE9B,UApCvC,E,sDAuCnB,WAAqB,IAAD,SAChBrC,KAAKF,MAAM4D,OAAOrB,MAAM,CAAC,EAAGrC,KAAKF,MAAMyD,WACvC,IAAMvM,GAAO,UAACgJ,KAAK9O,MAAM8F,YAAZ,QAAoB,IAAIrD,KAAI,SAAAkF,GACrC,IAAMwL,EAAKjC,GAAKzO,KAAI,SAAAwQ,GAAC,OAAIA,EAAEC,MAA6B,kBAAbvL,EAAEsL,EAAErT,KAAsB+H,EAAEsL,EAAErT,IAAO+H,EAAEsL,EAAErT,IAAIsJ,OAASvB,EAAEsL,EAAErT,QAGrG,OAFI,EAAKI,MAAMoT,WACXD,EAAG,EAAKnT,MAAMoT,UAAYzL,EAAE,EAAK3H,MAAMoT,WACpCD,KAEX5M,QAAQC,IAAIV,GACZgJ,KAAKK,SAAS,CAACrJ,W,gCAGnB,SAAmBuN,GAAY,IAAD,OAE1B,GADAvE,KAAKF,MAAM4D,OAAOrB,MAAM,CAAC,EAAGrC,KAAKF,MAAMyD,WACnCvD,KAAK9O,MAAM8F,OAASuN,EAAUvN,KAAM,CAAC,IAAD,EAC9BA,GAAO,UAACgJ,KAAK9O,MAAM8F,YAAZ,QAAoB,IAAIrD,KAAI,SAAAkF,GACrC,IAAMwL,EAAKjC,GAAKzO,KAAI,SAAAwQ,GAAC,OAAIA,EAAEC,MAA6B,kBAAbvL,EAAEsL,EAAErT,KAAsB+H,EAAEsL,EAAErT,IAAO+H,EAAEsL,EAAErT,IAAIsJ,OAASvB,EAAEsL,EAAErT,QAGrG,OAFI,EAAKI,MAAMoT,WACXD,EAAG,EAAKnT,MAAMoT,UAAYzL,EAAE,EAAK3H,MAAMoT,WACpCD,KAEX5M,QAAQC,IAAIV,GACZgJ,KAAKK,SAAS,CAACrJ,Y,sBAIvB,SAASwN,GACLxE,KAAK9O,MAAMuT,SAASD,EAAE1T,GAAIkP,KAAK0E,WAAWF,IAC1CxE,KAAKK,SAAS,CAACoE,SAAUD,M,wBAG7B,SAAWA,GACP,IAAMxN,EAAOiG,OAAOqE,OAAO,GAAIkD,EAAExN,KAAK2N,MAEtC,OADA3N,EAAKlG,GAAK0T,EAAExN,KAAKlG,GACVkG,I,yBAGX,SAAYwN,GACRxE,KAAK9O,MAAM0T,SAAS5E,KAAK0E,WAAWF,M,0BAGxC,WACIxE,KAAK9O,MAAM0T,SAAS,Q,oBASxB,WAAU,IAAD,OACEzT,EAAW6O,KAAK9O,MAAhBC,QAEP,OACI,qBAAKqB,MAAO,CAACnD,SAAU,WAAYwV,SAAU,WAA7C,SACI,sBAAKC,QAAS,OAAS9E,KAAKF,MAAMjR,MAAQ,IAAMmR,KAAKF,MAAM7P,OAAQkH,IAAK6I,KAAKoB,IACxE5O,MAAO,CAACqS,SAAU,WAClB/T,GAAIkP,KAAK9O,MAAMJ,GAFpB,UAGI,oBAAGiC,UAAW,UACXgS,WAAY,aACZvQ,SAAUwL,KAAKF,MAAMtL,SACrBwQ,UAAS,oBAAe,CAAChF,KAAKF,MAAM7Q,OAAOkU,KAAOnD,KAAKF,MAAMyD,SAAUvD,KAAKF,MAAM7Q,OAAO+T,IAAMhD,KAAKF,MAAMyD,UAAjG,KAHZ,UAII,oBAAGxQ,UAAW,aACXkS,KAAM,OADT,UAGKjF,KAAKF,MAAMiE,OAAOpQ,KAAI,SAACuR,EAAGC,GAAJ,aAAW,sBAC9BtM,EAAG,EAAK6J,UAAU,CAAC,EAAK5C,MAAM4D,OAAX,UAAkB,EAAK5D,MAAMiE,OAAOoB,EAAK,UAAzC,QAA+C,GAAI,EAAKrF,MAAM4D,OAAOwB,KACxFD,KAAM,EAAKnF,MAAMoE,YAAYgB,GAC7BE,OAAQ,OAAQC,cAAe,EAAGC,YAAa,EAC/CC,YAAa,QAChBnD,GAAKzO,KAAI,SAACwQ,EAAG7I,GAAJ,OAAU,mBAAGvI,UAAW5B,EAAQiR,KACnB5P,MAAO,CAACwS,UAAU,UAAD,OAAY1C,GAAUhH,GAAtB,SADpB,SAEhB,sBAAMkK,IAAK,EAAK1F,MAAM4D,OAAO,GAAI0B,OAAQ,OAAQC,cAAe,GAC1DC,YAAa,UAEtBlD,GAAKzO,KAAI,SAACwQ,EAAG7I,GAAJ,OAAU,cAAC,GAAD,CAAM2J,KAAM,OAAQG,OAAQ,QAASC,cAAe,EAC9CI,WAAW,SACXjF,EAAGhD,KAAKkI,IAAIpD,GAAUhH,IAAM,EAAKwE,MAAM4D,OAAO,IAAMlG,KAAKkI,IAAIpD,GAAUhH,IAAQgH,GAAUhH,GAAKkC,KAAKgF,IAAQ,EAAK1C,MAAMsD,UAAY,EAAM,EAAKtD,MAAMsD,UAAY,EAAM,GACrK3C,GAAIjD,KAAKmI,IAAIrD,GAAUhH,IAAM,EAAKwE,MAAM4D,OAAO,KAC/ClR,MAAO,CAACgC,SAAU,UAClB3F,MAAO,EAAKiR,MAAMsD,UALxB,SAKoCe,EAAEpT,cAE9D,mBAAGgC,UAAW,QACXkS,KAAM,OAAQI,cAAe,EAAGC,YAAa,EADhD,SAEKtF,KAAKF,MAAM9I,KAAKrD,KAAI,SAACkF,EAAGyC,GAAJ,OAAU,sBAAMzC,EAAG,EAAKiH,MAAM6D,UAAU9K,GACxBwM,mBAA4C5T,IAA7B,EAAKP,MAAM0U,eAAmC,EAAK1U,MAAM0U,iBAAmB,EAAK1U,MAAMoT,SAAWzL,EAAE,EAAK3H,MAAMoT,UAAYhJ,GAAlF,EAA2F,GACnJ8J,OAAQ,EAAKtF,MAAM/G,OAAO,EAAK7H,MAAMoT,SAAWzL,EAAE,EAAK3H,MAAMoT,UAAYhJ,aAGtH,oBAAGvI,UAAW,SACXgS,WAAY,aACZvQ,SAAUwL,KAAKF,MAAMtL,SAAS,EAC9BwQ,UAAS,oBAAe,CAAChF,KAAKF,MAAM7Q,OAAOkU,KAAOnD,KAAKF,MAAMyD,SAAWvD,KAAKF,MAAMkE,QAAQhE,KAAKF,MAAMiE,OAAO9O,OAAO,EAAG+K,KAAKF,MAAM7P,OAAQ+P,KAAKF,MAAMmE,QAAS,IAArJ,KAHZ,UAIKjE,KAAKF,MAAMiE,OAAOpQ,KAAI,SAACuR,EAAGC,GAAJ,OAAW,sBAC9B3E,EAAI2E,EAAM,EAAKrF,MAAMkE,QACrBnV,MAAO,EAAKiR,MAAMkE,QAClB/T,OAAQ,EAAK6P,MAAMmE,QACnBgB,KAAM,EAAKnF,MAAMoE,YAAYgB,GAC7BE,OAAQ,OAAQC,cAAe,EAAGC,YAAa,EAC/CC,YAAa,IAN4BJ,MAOzC,sBAAM5E,IAAKP,KAAKF,MAAMmE,QAAQ,EAAE,EAAG4B,kBAAkB,SAASrF,EAAIR,KAAKF,MAAMiE,OAAO9O,OAAO,EAAK+K,KAAKF,MAAMkE,QAASyB,WAAY,SAAUjR,SAAUwL,KAAKF,MAAMtL,SAAS,EAAxK,uCACA,sBAAM+L,GAAIP,KAAKF,MAAMmE,QAAQ,EAAG4B,kBAAkB,SAASC,GAAI9F,KAAKF,MAAMkE,QAAQ,EAAGxD,GAAIR,KAAKF,MAAMiE,OAAO9O,OAAQ,GAAK+K,KAAKF,MAAMkE,QAASyB,WAAY,SAAxJ,kBACA,sBAAMlF,GAAIP,KAAKF,MAAMmE,QAAQ,EAAG4B,kBAAkB,SAASC,GAAI9F,KAAKF,MAAMkE,QAAQ,EAAIyB,WAAY,SAAlG,6B,GA/IHpU,IAAM6Q,WAyJhB6D,iBAzNA,SAAApX,GAAK,MAAK,CACrBqX,KAAM,CACF7W,WAAY,MACZ8O,YAAa,MACb9N,QAAS,OACTd,SAAU,WACVR,MAAO,OACPmU,IAAK,OACLG,KAAM,GAEVf,KAAM,CACF6D,gBAAiB,UA8MVF,CAAmBtD,IC5M5BhU,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,MAAO,QAEXC,UAAW,CACPC,UAAW,KAEfC,aAAa,CACTC,OAAQN,EAAMO,QAAQ,GACtBC,WAAa,GAEjBC,OAAO,aACHC,SAAU,WACVC,aAAcX,EAAMY,MAAMD,aAC1BE,gBAAiBC,YAAKd,EAAMe,QAAQC,OAAOC,MAAO,KAClD,UAAW,CACPJ,gBAAiBC,YAAKd,EAAMe,QAAQC,OAAOC,MAAO,MAEtDf,MAAO,QACNF,EAAMkB,YAAYC,GAAG,MAAQ,CAC1BX,WAAYR,EAAMO,QAAQ,GAC1BL,MAAO,SAGfkB,WAAY,CACRC,QAASrB,EAAMO,QAAQ,EAAG,GAC1Be,OAAQ,OACRZ,SAAU,WACVa,cAAe,OACfC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAEpBC,UAAW,CACPC,MAAO,WAEXC,WAAW,aACPR,QAASrB,EAAMO,QAAQ,EAAG,EAAG,EAAG,GAEhCuB,YAAY,cAAD,OAAgB9B,EAAMO,QAAQ,GAA9B,OACXwB,WAAY/B,EAAMgC,YAAYC,OAAO,SACrC/B,MAAO,QACNF,EAAMkB,YAAYC,GAAG,MAAQ,CAC1BjB,MAAO,OACP,UAAW,CACPA,MAAO,cA8FRqX,OA5Ef,SAAkBhV,GACEzC,KAAhB,IADqB,EAEG4C,IAAMC,SAAS,GAFlB,gCAGiBD,IAAMC,SAAS,KAHhC,gCAIGD,IAAMC,SAAS,KAJlB,mBAKfU,GALe,UAKDC,kBAAO,IAgB3B,OAfAE,qBAAU,WACN,GAAIH,EAAYI,QAGZ,OAFAJ,EAAYI,SAAU,OACtBlB,EAAMmB,QAAO,MAajB,mCACI,cAACC,EAAA,EAAD,CAAMxD,WAAS,EAACsB,WAAW,SAASmC,QAAQ,gBAA5C,SACI,cAACD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,EAAb,SACI,cAAC,GAAD,CAAY2R,SAAU,MAAOvL,OAAQ7H,EAAM6H,OAAQ/B,KAAM9F,EAAM8F,KAAM4O,cAAe1U,EAAM0U,uB,6DC3F9G,SAASO,KACL,OACI,eAAC7G,EAAA,EAAD,CAAYzM,QAAQ,QAAQtC,MAAM,gBAAgBS,MAAM,SAAxD,UACK,kBACD,cAACoV,GAAA,EAAD,CAAM7V,MAAM,UAAU8V,KAAK,mDAA3B,kBAEQ,KACP,IAAIC,MAAOC,cACX,OAKb,IAAM9X,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkI,MAAO,CACHpE,UAAW9D,EAAMO,QAAQ,GACzBiB,QAAS,OACTqW,cAAe,SACfpW,WAAY,UAEhBqW,OAAQ,CACJxX,OAAQN,EAAMO,QAAQ,GACtBM,gBAAiBb,EAAMe,QAAQgX,UAAUC,MAE7CC,KAAM,CACF/X,MAAO,OACP4D,UAAW9D,EAAMO,QAAQ,IAE7B2X,OAAQ,CACJ5X,OAAQN,EAAMO,QAAQ,EAAG,EAAG,QAIrB,SAAS4X,GAAO5V,GAC3B,IAAMC,EAAU1C,KADkB,EAEF4C,IAAMC,WAFJ,mBAE3ByV,EAF2B,KAEjBC,EAFiB,OAGF3V,IAAMC,WAHJ,mBAG3B2V,EAH2B,KAGjBC,EAHiB,OAIF7V,IAAMC,WAJJ,mBAI3B6V,EAJ2B,KAIjBC,EAJiB,KAKlC,OACI,eAACC,GAAA,EAAD,CAAWtS,UAAU,OAAOiK,SAAS,KAArC,UACI,cAACsI,GAAA,EAAD,IACA,sBAAKvU,UAAW5B,EAAQ0F,MAAxB,UACI,cAAC0Q,GAAA,EAAD,CAAQxU,UAAW5B,EAAQsV,OAA3B,SACI,cAAC,KAAD,MAEJ,cAACnH,EAAA,EAAD,CAAYvK,UAAU,KAAKlC,QAAQ,KAAnC,qBAGA,uBAAME,UAAW5B,EAAQyV,KAAOY,OAAO,MACnCC,SAAU,SAACtS,GACPA,EAAMuS,iBACNC,MAAmDC,sCAAzC,0BAA+Hb,EAA/H,qBAAoJE,IACzJY,MAAK,SAAAC,GACF5W,EAAM6W,SAASD,EAAQ9Q,SACxBgR,OAAM,SAAAxR,GACT4Q,EAAY,uCAPxB,UAUI,cAACrR,EAAA,EAAD,CACIlD,QAAQ,WACR5D,OAAO,SACPoP,UAAQ,EACR/F,WAAS,EACTxH,GAAG,QACHC,MAAM,YACN6G,KAAK,WACLG,aAAa,WACb1D,MAAO0S,EACPxO,SAAU,SAAC/B,GAAD,OAAKwQ,EAAYxQ,EAAElB,OAAOjB,QACpC4T,WAAS,IAEb,cAAClS,EAAA,EAAD,CACIlD,QAAQ,WACR5D,OAAO,SACPoP,UAAQ,EACR/F,WAAS,EACTV,KAAK,WACL7G,MAAM,WACNyH,KAAK,WACL1H,GAAG,WACHyH,SAAU,SAAC/B,GAAD,OAAK0Q,EAAY1Q,EAAElB,OAAOjB,QACpC0D,aAAa,qBAOb,+BAAOoP,IAEX,cAACvU,EAAA,EAAD,CACI4F,KAAK,SACLF,WAAS,EACTzF,QAAQ,YACRtC,MAAM,UACNwC,UAAW5B,EAAQ0V,OALvB,2BAuBR,cAAChN,GAAA,EAAD,CAAKqO,GAAI,EAAT,SACI,cAAC/B,GAAD,S,2CClID,OAA0B,qC,+BCkDzC,SAASgC,GAAWjX,GAAO,IAAD,EAChBkX,EAAcC,eAAdD,UADgB,EAEU/W,IAAMC,SAAS,IAFzB,mBAEfgX,EAFe,KAELC,EAFK,OAGUlX,IAAMC,UAAS,GAHzB,mBAGfkX,EAHe,KAGLC,EAHK,OAIoBpX,IAAMC,cAASG,GAJnC,mBAIfmU,EAJe,KAIA8C,EAJA,KAKhBC,EAAatX,IAAMY,OAAN,UAAaf,EAAMyX,kBAAnB,QAA+BlF,eAAepB,MAAMuG,OACvEzW,qBAAU,WACNsC,MACF,GACF,IAAMA,EAAc,WAEhB,IAAM3D,EAAKsX,EACXT,MAAA,UAAsDC,sCAAtD,8BAA8I9W,IACzI+W,MAAK,SAAAgB,GACF,IAAMhQ,EAAGgQ,EAAE7R,KACXS,QAAQC,IAAImR,GACZN,EAAY1P,GACZ8P,EAAWvW,QAAQmQ,OAAO,OAC3ByF,OAAM,SAAAxR,GACTiS,GAAY,OAOpB,OAAO,mCAAGD,EAAS,cAACM,GAAA,EAAD,CAAUC,GAAG,UAAW,qCACvC,cAACzW,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAUqE,KAAMsR,EAAU9Q,UAAU,EAAMQ,cAAc,EAAQH,YAN/C,SAACxB,GACtBqS,EAAiBrS,IAMH0C,OAAQ4P,EAAWvW,QAASuG,eAAe,MAEzD,cAACrG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAUN,OAAQnB,EAAMmB,OAAQ2E,KAAMsR,EAAS,eAAgB1C,cAAeA,EAAe7M,OAAQ4P,EAAWvW,iBAI7G4W,OAtEf,SAAc9X,GAAQ,IAAD,EACG+X,eAAdC,EADW,EACXA,KACN,OAFiB,EACLC,IACL,cAAC7W,EAAA,EAAD,CACHxD,WAAS,EACToJ,UAAU,MACV3F,QAAQ,SACRnC,WAAW,aAJR,SAKN,eAAC,KAAD,WACG,cAAC,KAAD,CAAOgZ,OAAK,EAACF,KAAMA,EAAnB,SACI,cAAC7B,GAAA,EAAD,CAAWrI,SAAS,KAApB,SACI,eAAC1M,EAAA,EAAD,CAAMxD,WAAS,EAACoJ,UAAU,SAAS3F,QAAQ,SACrCnC,WAAW,SAASoC,MAAO,CAACnD,SAAU,QACxC2P,SAAU,QACVgE,IAAK,MACLG,KAAM,MAEN6B,UAAW,yBANf,UAOI,cAAC1S,EAAA,EAAD,CAAMI,MAAI,EAAV,SACI,qBAAK2W,IAAKC,GAAU9W,MAAO,CAAC3D,MAAM,OAAOoB,OAAO,YAEpD,cAACqC,EAAA,EAAD,CAAMI,MAAI,EAAV,SACI,gDAEJ,cAACJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACA,cAACE,EAAA,EAAD,CAAQC,QAAQ,YAAYtC,MAAM,UAAU0C,UAAW,cAAC,KAAD,IAAaoT,KAAM,IAA1E,kCAKZ,cAAC,KAAD,CAAO6C,KAAI,UAAKA,EAAL,eAAX,SACI,cAACf,GAAD,eAAgBjX,YCjBtBqY,GAAQC,YAAe,CACzBC,WAAY,CACR,WAAa,gBAKfhb,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFgI,SAAU,EACVzG,QAAS,QAEb0G,MAAO,CACH7G,QAASrB,EAAMO,QAAQ,GACvBoN,UAAW,SACX/L,MAAO5B,EAAMe,QAAQkO,KAAK8I,UAC1BzW,OAAQ,QAEZoM,MAAO,CACHlN,WAAYR,EAAMO,QAAQ,GAC1Bwa,KAAM,GAEVC,KAAM,CACFC,OAAQ,OACRC,YAAY,aAAD,OAAelb,EAAMe,QAAQoa,SACxCjb,MAAO,QAEXkb,SAAU,CACNC,OAAQrb,EAAMqb,OAAOC,OAAS,EAC9B1Z,MAAO,YAITmK,GAAM,CACR,gBAAgB,SAACwP,EAAIC,GAAL,OAAYC,aAAIF,GAAKE,aAAID,IACzC,gBAAgB,SAACD,EAAIC,GAAL,OAAYC,aAAIF,GAAKE,aAAID,IACzC,kBAAkB,SAACD,EAAIC,GAAL,OAAYC,aAAIF,GAAKE,aAAID,IAC3C,mBAAoB,SAACD,EAAIC,GAAL,OAAcC,aAAIF,GAAK,GAAIE,aAAID,GAAM,IACzD,iCAAiC,SAAChG,EAAEkG,GAAH,OAAQlG,EAAEkG,GAC3C,gCAAgC,SAAClG,EAAEkG,GAAH,OAAQlG,EAAEkG,GAC1C,aAAa,SAAC/P,GAAD,OAAQgQ,aAAKhQ,IAC1B,kBAAkB,SAACC,GAAD,OAAQ6P,aAAI7P,EAAKvG,MAAM,EAAE,KAC3C,yBAAyB,SAACuG,GAAD,OAAS6P,aAAI7P,EAAKvG,MAAM,EAAG,MAAM,GAAGgB,aAAMuF,EAAKvG,MAAM,EAAG,MAAMsW,aAAK/P,EAAKvG,MAAM,EAAG,MAAM,GAChH,aAAa,SAACuG,GAAD,OAAQA,EAAK,KAC1B,YAAY,SAACC,GAAD,OAAQ4P,aAAI5P,GAAK,GAAG,GAAG,MAyWxB+P,OAtWf,WACI,IAAMpZ,EAAU1C,KADL,EAEqB4C,IAAMC,WAF3B,mBAEJkZ,EAFI,KAEMC,EAFN,OAGapZ,IAAMC,UAAS,GAH5B,mBAGJoZ,EAHI,KAGEC,EAHF,OAIqBtZ,IAAMC,SAAS,IAJpC,mBAIJgX,EAJI,KAIMC,EAJN,OAMuBlX,IAAMC,UAAS,GANtC,mBAMJsZ,EANI,KAMOC,EANP,KAOLC,EAAezZ,IAAMY,OAAO,IAPvB,EAQyBZ,IAAMC,UAAS,GARxC,mBAQJyZ,EARI,KAQQC,EARR,OASa3Z,IAAMC,UAAU,GAT7B,mBASJC,EATI,KASEC,EATF,OAUmCH,IAAMC,UAAS,GAVlD,mBAUJ2Z,EAVI,KAUaC,EAVb,OAW6B7Z,IAAMC,SAAS,IAX5C,mBAWJ6Z,EAXI,KAWUC,EAXV,QAY0B/Z,IAAMC,UAAS,GAZzC,qBAYJ+Z,GAZI,MAYQC,GAZR,SAa8Bja,IAAMC,cAASG,GAb7C,qBAaJmU,GAbI,MAaU8C,GAbV,MAcLC,GAAatX,IAAMY,OAAOwR,eAAepB,MAAMuG,OAGrDzW,qBAAU,WACF8Y,IACAC,GAAmB,GACnBvD,MAAA,UAAsDC,sCAAtD,0CAA0J4C,IACrJ3C,MAAK,SAAAgB,GACFuC,EAAgBvC,EAAE7R,aAKlC,IAAM3E,GAAS,SAACwG,GAER8R,OADMlZ,IAANoH,GAGQA,IAGV1F,GAAa,SAAC0F,GAChB0P,EAAY,IAEZ/W,EAAQ,IAGNkD,GAAc,SAACsC,GACjB,IAAMlG,EAAKkG,EAAI,IACf2Q,MAAA,UAAsDC,sCAAtD,8BAA8I9W,IACzI+W,MAAK,SAAAgB,GACF,IAAMhQ,EAAGgQ,EAAE7R,KACXuR,EAAY1P,GACZ8P,GAAWvW,QAAQmQ,OAAO,IAC1B/Q,EAAQ,OAKdyH,GAAY,SAACjC,GACf8T,EAAa1Y,QAAU4E,EACvB6T,GAAa,GACbG,GAAc,IAGXhS,GAAY,SAAChC,GACf8T,EAAa1Y,QAAU4E,EACvB6T,GAAa,GACVG,GAAc,IAGhBvW,GAAc,SAACuC,GACjB,IAAMlG,EAAKkG,EAAI,IACf2Q,MAAA,UAAsDC,sCAAtD,8BAA8I9W,IACzI+W,MAAK,SAAAgB,GAEF,IAAMhQ,EAAGgQ,EAAE7R,KACXuR,EAAY1P,GACZ8P,GAAWvW,QAAQmQ,OAAO,IAC1B/Q,EAAQ,OAKdmD,GAAgB,SAACqC,GACnBsU,GAAe,CACXpP,MAAO,sBACPqP,QAAS,6CAA+CvU,EAAI,SAC5D0D,KAAM,WACF,IAAM5J,EAAKkG,EAAI,IACf2Q,MAAA,UAAwDC,sCAAxD,qCAAyJ9W,IACpJ+W,MAAK,SAAAgB,GACFyC,IAAe,GACfJ,GAAmB,GACnB1Z,EAAQ,UAKtB0H,GAAc,SAAClC,GACbsU,GAAe,CACXpP,MAAO,qBACPqP,QAAS,mBAAqBvU,EAAI,KAClC0D,KAAM,WACF,IAAM5J,EAAKkG,EAAI,IACf2Q,MAAA,UAAwDC,sCAAxD,6BAAiJ9W,IAC5I+W,MAAK,SAAAgB,GACFyC,IAAe,GACf5W,GAAY,CAAC2B,IAAIW,EAAKwU,gBAMxCC,GAAqB,WACvBH,IAAe,IAGb1S,GAAW,SAAC8S,GAEVZ,EAAa1Y,QADbsZ,EACqB,CACjB,gBAAiB,CACb,gBAAiB,CAAC,EAAG,GACrB,sBAAuBA,EAAY,iBAAiB,uBACpD,OAAS,GAEb,gBAAiB,CACb,gBAAiB,CAAC,EAAG,GACrB,sBAAuBA,EAAY,iBAAiB,uBACpD,OAAS,GAEb,kBAAmB,CACf,gBAAiB,CAAC,EAAG,GACrB,sBAAuBA,EAAY,mBAAmB,uBACtD,OAAS,GAEb,mBAAoB,CAChB,gBAAiB,CAAC,EAAG,EAAG,GACxB,sBAAuBA,EAAY,oBAAoB,uBACvD,OAAS,GAEb,iCAAkC,CAC9B,gBAAiB,CAAC,GAClB,sBAAuBA,EAAY,kCAAkC,uBACrE,OAAS,GAEb,gCAAiC,CAC7B,gBAAiB,CAAC,GAClB,sBAAuBA,EAAY,iCAAiC,uBACpE,OAAS,GAEb,OAAUA,EAAW,QAGF,GAE3BZ,EAAa1Y,QAAQoZ,OAASlD,EAAQ,IACtCuC,GAAa,GACbG,EAAc,CAACU,YAAYA,KAwDzBzT,GAAsB,SAACjB,GACzB,IAAM2U,EAAQ,eAAO3U,UACd2U,EAASC,eACTD,EAAS,eAChBhE,OAAA,UAAuDC,sCAAvD,qCAAsJ4C,GAAWmB,GAC5J9D,MAAK,SAACC,GACHpT,GAAYoT,EAAQ9Q,SACrBgR,OAAM,SAAAxR,QAIXqV,GAAmB,SAACxV,GACtBqS,GAAiBrS,IAwErB,OAAQ,eAAC,IAAD,CAAkB1H,MAAO4a,GAAzB,UACA,qBAAKxW,UAAW5B,EAAQvC,KAAxB,SACI,cAACkd,EAAA,EAAD,CAAQzc,SAAS,SAAjB,SACI,eAAC0c,EAAA,EAAD,WACI,cAACxX,EAAA,EAAD,CACIyX,KAAK,QACLjZ,UAAW5B,EAAQ8a,WACnB1b,MAAM,UACNiD,aAAW,cAJf,SAMMjC,EAAK,EAAG,cAAC,KAAD,CAAkB2B,QAAS,WAAKgY,GAAmB,GAAM1Z,EAAQ,MAAQ,KAEvF,cAAC8N,EAAA,EAAD,CAAYvM,UAAW5B,EAAQ+K,MAAOrJ,QAAQ,KAAKqZ,QAAM,EAAzD,gCAMZ,cAAC,KAAD,UACI,eAAC,KAAD,WACI,cAAC,KAAD,CAAOhD,KAAK,QAAZ,SACI,cAAC,GAAD,CACA7W,OAAQA,OAEZ,cAAC,KAAD,CAAO6W,KAAK,IAAZ,SACI,cAAC5W,EAAA,EAAD,CACIxD,WAAS,EACToJ,UAAU,MACV3F,QAAQ,SACRnC,WAAW,aAJf,SA9FD,WACf,OAAQmB,GACJ,KAAK,EACD,OAAO,cAACe,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACH,cAAC,GAAD,CAAUqE,KAAM,CAACmV,UAAU3B,GAAWhT,UAAU,EAAOS,oBAAqBA,GAClED,cAAc,EAAMW,eAAe,EAAMC,SAAUA,OAGrE,KAAK,EACD,OAAO,qCAAE,cAACtG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACL,cAAC,GAAD,CAAUqE,KAAMsR,EAAU9Q,UAAU,EAAOQ,cAAc,EAC/CC,oBAAqBA,GACrBe,UAAWA,GACXC,UAAWA,GACXC,YAAaA,GACbrB,YAAagU,GACblT,eAAe,EAAMC,SAAUA,GAC/BG,OAAQ4P,GAAWvW,YAI7B,cAACE,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAUN,OAAQA,GAAQ2E,KAAMsR,EAAS,eAAgB1C,cAAeA,GAAe7M,OAAQ4P,GAAWvW,eAGtH,KAAK,EACD,OAAO,qCAAE,cAACE,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACL,cAAC,GAAD,CAAUqE,KAAMsR,EAAU9Q,UAAU,EAAMQ,cAAc,EAAQH,YAAagU,GACnE9S,OAAQ4P,GAAWvW,QAASuG,eAAe,EAAOC,SAAUA,OAEtE,cAACtG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAAC,GAAD,CAAUN,OAAQA,GAAQ2E,KAAMsR,EAAS,eAAgB1C,cAAeA,GAAe7M,OAAQ4P,GAAWvW,eAGtH,KAAK,EACD,OAAO,eAACE,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,UACH,eAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIH,MAAO,CAACkK,WAAW,IAAtC,UACI,6CACA,cAAC9J,EAAA,EAAD,CACIC,QAAQ,YACRtC,MAAM,YACNuC,KAAK,QACLC,UAAW5B,EAAQ6B,UACnBC,UAAW,cAAC,KAAD,IACXmZ,UAAQ,EACR/F,KAAI,UAA8CuB,sCAA9C,wBAPR,yBASA,cAAChV,EAAA,EAAD,CACIC,QAAQ,YACRtC,MAAM,YACNuC,KAAK,QACLC,UAAW5B,EAAQ6B,UACnBC,UAAW,cAAC,KAAD,IACXmZ,UAAQ,EACR/F,KAAI,UAA8CuB,sCAA9C,qBAPR,iCAUJ,cAAC,EAAD,CAAYnT,YAAaA,GAAaC,YAAaA,GACvCC,cAAeA,GACfvD,KAAM+Z,EACN9Y,OAAQA,GAAQc,WAAYA,QAEhD,QACI,OAAO,cAACb,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAI0Z,GAAI,EAAvB,SACH,cAACvF,GAAD,CAAQiB,SAAU,SAACyC,GAAYC,EAAYD,EAASnU,KAAK6U,GAAmB,GAAO1Z,EAAQ,SAoClF8a,YAMjB,eAAC/W,EAAA,EAAD,CACIC,KAAM6V,GACN5V,QAASgW,GACT/V,kBAAgB,qBAChBC,mBAAiB,2BAJrB,UAMI,cAACC,EAAA,EAAD,CAAa9E,GAAG,qBAAhB,SAAsCua,GAAYnP,QAClD,cAACrG,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAmBhF,GAAG,2BAAtB,SACKua,GAAYE,YAGrB,eAAChM,GAAA,EAAD,WACI,cAAC3M,EAAA,EAAD,CAAQM,QAASuY,GAAoBlb,MAAM,UAA3C,oBAGA,cAACqC,EAAA,EAAD,CAAQM,QAASmY,GAAY3Q,KAAMnK,MAAM,UAAU0X,WAAS,EAA5D,sBAKP8C,EAAW,cAAC,GAAD,CAAYrQ,KAAMA,GAAMlF,KAAMuV,EAAYxP,MAAOwP,EAAWW,YAAalU,SAAUoT,EAAWnM,aAnMrF,SAAC5F,GAC1BmS,GAAc,IAkMoI5P,cA/LhI,SAACvC,GACnB,GAAgB,iBAALA,EACP,OAAOiS,EAAa1Y,QAAQyG,GAE5BoE,OAAOC,KAAKrE,GAAGsE,SAAQ,SAAAC,GACnB0N,EAAa1Y,QAAQgL,GAAKvE,EAAEuE,OA0L4IoB,aAtLvJ,WACpBoM,GACDjD,OAAA,UAAuDC,sCAAvD,WAAmIkD,EAAa1Y,SAC3IyV,MAAK,SAACgB,GACHpR,QAAQC,IAAImR,GAEPP,EAASsD,SACVjE,OAAA,UAAuDC,sCAAvD,8BAA+IU,EAASjS,KACpJ,CACIuV,QAAQ,CACJ,gBAAiB,CACb,sBAAuBd,EAAa1Y,QAAQ,iBAAiB,wBAEjE,gBAAiB,CACb,sBAAuB0Y,EAAa1Y,QAAQ,iBAAiB,wBAEjE,kBAAmB,CACf,sBAAuB0Y,EAAa1Y,QAAQ,mBAAmB,wBAEnE,mBAAoB,CAChB,sBAAuB0Y,EAAa1Y,QAAQ,oBAAoB,wBAEpE,iCAAkC,CAC9B,sBAAuB0Y,EAAa1Y,QAAQ,kCAAkC,wBAElF,gCAAiC,CAC7B,sBAAuB0Y,EAAa1Y,QAAQ,iCAAiC,wBAEjF,OAAS0Y,EAAa1Y,QAAb,UAIzBsC,GAAY4T,MACbN,OAAM,SAAAxR,GACLiB,QAAQC,IAAIlB,MAIxBwU,GAAc,MAgJwM,GAClN,eAACuB,EAAA,EAAD,CAAUxZ,UAAW5B,EAAQ4Y,SAAUvU,MAAe,IAATkV,EAA7C,UACI,cAAC8B,EAAA,EAAD,CAAkBjc,MAAM,cACxB,gCAAQma,GAAQ,CAAC9M,KAAM,KAAKA,cCha7B6O,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9E,MAAK,YAAkD,IAA/C+E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,KAAD,UACA,cAAC,GAAD,QAGJ7W,SAAS8W,eAAe,SAM1BX,O","file":"static/js/main.bb352234.chunk.js","sourcesContent":["import React, {useEffect, useRef} from \"react\";\r\nimport {\r\n    InputBase,\r\n    Paper,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TablePagination,\r\n    TableRow\r\n} from \"@material-ui/core\";\r\nimport {fade, makeStyles} from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as axios from \"axios\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    container: {\r\n        maxHeight: 440,\r\n    },\r\n    searchHolder:{\r\n        margin: theme.spacing(1),\r\n        marginLeft : 0,\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    }\r\n}));\r\nconst columns = [{\r\n    id: 'Initials',\r\n    label: 'Initials',\r\n    align: 'center',\r\n},{\r\n    id: 'Date of Birth',\r\n    label: 'Date of Birth',\r\n    align: 'center',\r\n},{\r\n    id: 'Gender',\r\n    label: 'Gender',\r\n    align: 'center',\r\n}];\r\nfunction ManageUser(props) {\r\n    const classes = useStyles();\r\n    const {rows} = props;\r\n    const [page, setPage] = React.useState(0);\r\n    const [sharePatient, setSharePatient] = React.useState(undefined);\r\n    const [copySuccess, setcopySuccess] = React.useState('');\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n    // const [rows, setRows] = React.useState([]);\r\n    const firstUpdate = useRef(true);\r\n    const shareURL = useRef(null);\r\n    useEffect(() => {\r\n        if (firstUpdate.current) {\r\n            firstUpdate.current = false;\r\n            // axios.get(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile/list`)\r\n            //     .then(r=>{\r\n            //         setRows(r.data)\r\n            //     });\r\n            props.onLoad(false);\r\n            return;\r\n        }\r\n    });\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n    const copyToClipboard = (e) => {\r\n        debugger\r\n        shareURL.current.select();\r\n        document.execCommand('copy');\r\n        e.target.focus();\r\n        setcopySuccess('Copied!');\r\n    };\r\n    return (\r\n        <>\r\n            <Grid container alignItems=\"center\" justify=\"space-between\" style={{marginTop:20}}>\r\n                <Grid item xs>\r\n                {/*<Paper className={classes.searchHolder}>*/}\r\n                {/*    <div className={classes.search}>*/}\r\n                {/*        <div className={classes.searchIcon}>*/}\r\n                {/*            <SearchIcon/>*/}\r\n                {/*        </div>*/}\r\n                {/*        <InputBase*/}\r\n                {/*            placeholder=\"Search\"*/}\r\n                {/*            classes={{*/}\r\n                {/*                root: classes.inputRoot,*/}\r\n                {/*                input: classes.inputInput,*/}\r\n                {/*            }}*/}\r\n                {/*            inputProps={{'aria-label': 'search'}}*/}\r\n                {/*        />*/}\r\n                {/*    </div>*/}\r\n                {/*</Paper>*/}\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                        className={classes.AddButton}\r\n                        startIcon={<AddIcon />}\r\n                        onClick={props.newPatient}\r\n                    >\r\n                        Add new patient\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Paper className={classes.root}>\r\n                <TableContainer className={classes.container}>\r\n                    <Table stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                {columns.map((column) => (\r\n                                    <TableCell\r\n                                        key={column.id}\r\n                                        align={column.align}\r\n                                        style={{minWidth: column.minWidth}}\r\n                                    >\r\n                                        {column.label}\r\n                                    </TableCell>\r\n                                ))}\r\n                                <TableCell></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\r\n                                return (\r\n                                    <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\r\n                                        {columns.map((column) => {\r\n                                            const value = row[column.id];\r\n                                            return (\r\n                                                <TableCell key={column.id} align={column.align}>\r\n                                                    {column.format && typeof value === 'number' ? column.format(value) : value}\r\n                                                </TableCell>\r\n                                            );\r\n                                        })}\r\n                                        <TableCell key='btnCell' align=\"middle\">\r\n                                            <IconButton aria-label=\"share\"  size=\"small\" onClick={()=>setSharePatient(row)}>\r\n                                                <ShareIcon fontSize=\"inherit\"/>\r\n                                            </IconButton>\r\n                                            <IconButton aria-label=\"view\"  size=\"small\" onClick={()=>props.viewPatient(row)}>\r\n                                                <VisibilityIcon fontSize=\"inherit\"/>\r\n                                            </IconButton>\r\n                                            <IconButton  aria-label=\"edit\" size=\"small\" onClick={()=>props.editPatient(row)}>\r\n                                                <EditIcon fontSize=\"inherit\"/>\r\n                                            </IconButton>\r\n                                            <IconButton color=\"secondary\" aria-label=\"delete\"  size=\"small\" onClick={()=>props.deletePatient(row)}>\r\n                                                <DeleteIcon fontSize=\"inherit\"/>\r\n                                            </IconButton>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                );\r\n                            })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <TablePagination\r\n                    rowsPerPageOptions={[10, 25, 100]}\r\n                    component=\"div\"\r\n                    count={rows.length}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onChangePage={handleChangePage}\r\n                    onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                />\r\n            </Paper>\r\n            <Dialog\r\n                open={sharePatient}\r\n                onClose={()=>{setSharePatient(undefined);setcopySuccess('')}}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">Share Patient's Profile</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <form>\r\n                          <TextField\r\n                              inputRef={shareURL}\r\n                              value={sharePatient?`${window.location.origin.toString()}/Wrist/view/${sharePatient._id}`:''}\r\n                          />\r\n                        </form>\r\n                        {\r\n                            /* Logical shortcut for only displaying the\r\n                               button if the copy command exists */\r\n                            document.queryCommandSupported('copy') &&\r\n                            <div>\r\n                                <Button onClick={copyToClipboard}>Copy</Button>\r\n                                {copySuccess}\r\n                            </div>\r\n                        }\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                {/*<DialogActions>*/}\r\n                {/*    <Button onClick={handleCloseConfirm} color=\"primary\">*/}\r\n                {/*        Cancel*/}\r\n                {/*    </Button>*/}\r\n                {/*    <Button onClick={confirmFunc.func} color=\"primary\" autoFocus>*/}\r\n                {/*        OK*/}\r\n                {/*    </Button>*/}\r\n                {/*</DialogActions>*/}\r\n            </Dialog>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ManageUser;\r\n","import React, {useEffect, useRef} from \"react\";\r\nimport {\r\n    TextField,\r\n    Paper, Table, TableHead, TableRow, TableContainer, TableBody, TableCell\r\n} from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    AddButton :{\r\n        float: 'right'\r\n    }\r\n}));\r\nfunction usePrevious(value) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = value;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nfunction UserInfo(props) {\r\n    const classes = useStyles();\r\n    const [data, setData] = React.useState({});\r\n    const prevData = usePrevious(props.data);\r\n    const [editMode, setEditMode] = React.useState(false);\r\n    // const styleField = 'filled';\r\n    const styleField = props.viewMode ? 'filled' : 'outlined';\r\n    useEffect(()=>{\r\n        // if (props.viewMode){\r\n        //     debugger\r\n\r\n        if ((props.data!==prevData)){\r\n            console.log('update info user!')\r\n            setData({...props.data}??{});\r\n            setEditMode(false);\r\n        }\r\n        // }\r\n    });\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        data[name] = event.target.value;\r\n        setData({...data});\r\n    };\r\n    const onMouseOver = props.onMouseOver??(()=>{});\r\n    const renderButtonUserInfo = () =>{\r\n        console.log(data[\"Hand dominance\"])\r\n        if (props.viewMode)\r\n            return '';\r\n        if (props.userEditMode || editMode)\r\n            return <>\r\n                {editMode?<Button\r\n                    className={classes.AddButton}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    size=\"small\"\r\n                    startIcon={<CancelIcon />}\r\n                    onClick={()=>{setEditMode(false);setData({...props.data}??{})}}\r\n                >\r\n                    Cancel\r\n                </Button>:''}\r\n                <Button\r\n                className={classes.AddButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                startIcon={<SaveIcon />}\r\n                onClick={()=>props.handleSubmitPatient(data)}\r\n            >\r\n                Save\r\n            </Button></>;\r\n        return <Button\r\n            className={classes.AddButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            startIcon={<SaveIcon />}\r\n            onClick={()=>setEditMode(true)}\r\n        >\r\n            Edit\r\n        </Button>\r\n    }\r\n    return (\r\n        <>\r\n            <Paper className={classes.paper}>\r\n                <form className={classes.root} noValidate autoComplete=\"off\">\r\n                    <h2>Patient Data {renderButtonUserInfo()}</h2>\r\n                    <Grid container spacing={0.5} direction=\"column\"\r\n                          justify=\"center\"\r\n                          alignItems=\"stretch\">\r\n                        <Grid item xs>\r\n                            <TextField disabled\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['_id']} fullWidth margin=\"dense\" label=\"Patient's Case Number\"\r\n                                       name=\"_id\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))}\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['Initials']} fullWidth margin=\"dense\" label=\"Patient's Initials\"\r\n                                       name=\"Initials\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                        <Grid item xs container direction=\"row\">\r\n                            <Grid item xs={6}>\r\n                                <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} type=\"date\"\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           value={data['Date of Birth']} fullWidth margin=\"dense\" label=\"Date of Birth\"\r\n                                           name=\"Date of Birth\" onChange={handleChange} variant={styleField}/>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} select\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           value={data['Gender']??\"\"} fullWidth margin=\"dense\" label=\"Gender\" name=\"Gender\"\r\n                                           onChange={handleChange} variant={styleField}>\r\n                                    <MenuItem value=\"M\">M</MenuItem>\r\n                                    <MenuItem value=\"F\">F</MenuItem>\r\n                                </TextField>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))}\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       multiline\r\n                                       rows={4}\r\n                                       value={data['Diagnosis']} fullWidth margin=\"dense\" label=\"Diagnosis\"\r\n                                       name=\"Diagnosis\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} type=\"date\"\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['Date of Injury']} fullWidth margin=\"dense\"\r\n                                       label=\"Date of Injury/ onset of condition\" name=\"Date of Injury\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                        <Grid item xs container direction=\"row\">\r\n                            <Grid item xs>\r\n                                <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} select\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           value={data['Hand dominance']??\"\"} fullWidth margin=\"dense\"\r\n                                           label=\"Hand dominance\" name=\"Hand dominance\"\r\n                                           onChange={handleChange} variant={styleField}>\r\n                                    <MenuItem key=\"R\" value=\"R\">R</MenuItem>\r\n                                    <MenuItem key=\"L\" value=\"L\">L</MenuItem>\r\n                                </TextField>\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} select\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           value={data['Involved Side']??\"\"}\r\n                                           fullWidth margin=\"dense\" label=\"Involved Side\"\r\n                                           name=\"Involved Side\"\r\n                                           onChange={handleChange} variant={styleField}>\r\n                                    <MenuItem value=\"R\">R</MenuItem>\r\n                                    <MenuItem value=\"L\">L</MenuItem>\r\n                                </TextField>\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} select\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           value={data['Contralateral Side']??\"\"} fullWidth margin=\"dense\"\r\n                                           label=\"Contralateral Side involved?\" name=\"Contralateral Side\"\r\n                                           onChange={handleChange} variant={styleField}>\r\n                                    <MenuItem value=\"Yes\">Yes</MenuItem>\r\n                                    <MenuItem value=\"No\">No</MenuItem>\r\n                                </TextField>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))}\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['Profession']} fullWidth margin=\"dense\"\r\n                                       label=\"Patient's Profession\" name=\"Profession\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <h2>Evaluator Data</h2>\r\n                    <Grid container spacing={0.5} direction=\"column\"\r\n                          justify=\"center\"\r\n                          alignItems=\"stretch\">\r\n                        <Grid item xs container direction=\"row\">\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))}\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['Evaluators Initials']} fullWidth margin=\"dense\"\r\n                                       label=\"Evaluator's Initials\" name=\"Evaluators Initials\"\r\n                                       onChange={handleChange} variant={styleField}/>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <TextField disabled={props.viewMode || !((props.userEditMode || editMode))} select\r\n                                       InputLabelProps={{shrink: true}}\r\n                                       value={data['Evaluators Profession']??\"\"} fullWidth margin=\"dense\"\r\n                                       label=\"Evaluators Profession\" name=\"Evaluators Profession\"\r\n                                       onChange={handleChange} variant={styleField}>\r\n                                <MenuItem value=\"Surgeon\">Surgeon</MenuItem>\r\n                                <MenuItem value=\"Therapist\">Therapist</MenuItem>\r\n                            </TextField>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {props.userEditMode?'':<><h2>Wrist Index {(props.viewMode && !props.IndexEditMode)?'':<Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                        className={classes.AddButton}\r\n                        startIcon={<AddIcon />}\r\n                        onClick={()=>props.newIndex(data['prefill'])}\r\n                    >\r\n                        New\r\n                    </Button>}</h2>\r\n                    {(!(data['Wrist Index']&&data['Wrist Index'].length)) ?<span>No record! Please add data</span>:\r\n                        <TableContainer className={classes.container}>\r\n                            <Table stickyHeader aria-label=\"sticky table\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>Dates of Evaluations</TableCell>\r\n                                        <TableCell>Has patient return to work?</TableCell>\r\n                                        {props.IndexEditMode?<TableCell></TableCell>:''}\r\n                                    </TableRow>\r\n                                </TableHead>\r\n\r\n                            <TableBody>\r\n                                {data['Wrist Index'].map(d=><TableRow hover onMouseOver={()=>{onMouseOver(d._id)}} onMouseLeave={()=>onMouseOver(undefined)}>\r\n                                    <TableCell style={{color: props.colors?props.colors(d._id):'unset'}}>\r\n                                        {d['Date']}\r\n                                    </TableCell>\r\n                                    <TableCell style={{color: props.colors?props.colors(d._id):'unset'}}>\r\n                                        {d['isReturnToWork']}\r\n                                    </TableCell>\r\n                                    {props.IndexEditMode?<TableCell key='btnCell' align=\"middle\">\r\n                                        <IconButton aria-label=\"view\"  size=\"small\" onClick={()=>props.viewIndex(d)}>\r\n                                            <VisibilityIcon fontSize=\"inherit\"/>\r\n                                        </IconButton>\r\n                                        <IconButton  aria-label=\"edit\" size=\"small\" onClick={()=>props.editIndex(d)}>\r\n                                            <EditIcon fontSize=\"inherit\"/>\r\n                                        </IconButton>\r\n                                        <IconButton color=\"secondary\" aria-label=\"delete\"  size=\"small\" onClick={()=>props.deleteIndex(d)}>\r\n                                            <DeleteIcon fontSize=\"inherit\"/>\r\n                                        </IconButton>\r\n                                    </TableCell>:''}\r\n                                </TableRow>)}\r\n                            </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    }</>\r\n                    }\r\n                </form>\r\n            </Paper>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UserInfo;\r\n","import RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport React, {useEffect} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        minHeight: 30\r\n    },\r\n});\r\n\r\nfunction RadioChoice(props){\r\n    const [value, setValue] = React.useState(0);\r\n    const [hover, setHover] = React.useState(-1);\r\n    const classes = useStyles();\r\n    useEffect(()=>{\r\n        setValue(props.value);\r\n    });\r\n    return(<div className={classes.root}>\r\n        <Rating\r\n            name=\"hover-feedback\"\r\n            {...props}\r\n            value={value}\r\n            size={props.max>5?\"small\":\"medium\"}\r\n            onChange={(event, newValue) => {\r\n                if (props.handeData){\r\n                    props.handeData(newValue);\r\n                }else{\r\n                    setValue(newValue);\r\n                }\r\n            }}\r\n            onChangeActive={(event, newHover) => {\r\n                setHover(newHover);\r\n            }}\r\n        />\r\n        {value !== null && <Box ml={2}>{props.labels?props.labels[hover !== -1 ? hover : value]:(hover !== -1 ? hover : value)}</Box>}\r\n    </div>)\r\n}\r\nexport default RadioChoice;\r\n","import React, {useEffect} from \"react\";\r\nimport {\r\n    TextField,\r\n    Paper, Grid\r\n} from \"@material-ui/core\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\r\nimport SentimentSatisfiedIcon from '@material-ui/icons/SentimentSatisfied';\r\nimport SentimentSatisfiedAltIcon from '@material-ui/icons/SentimentSatisfiedAltOutlined';\r\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\r\nimport * as d3 from \"d3\"\r\nimport RadioChoice from \"./radioChoice\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    header: {\r\n        marginBlockEnd: theme.spacing(1)\r\n    },\r\n    subheader: {\r\n        marginBlockStart: theme.spacing(2),\r\n        marginBlockEnd: theme.spacing(1),\r\n    },\r\n    result: {\r\n        backgroundColor: 'yellow'\r\n    }\r\n}));\r\n\r\nconst Template = {\r\n    PSFS: ['Doing a push up as an exercise', 'Lifting a heavy pan in the kitchen', 'Making scrambled eggs'],\r\n    PRWE: ['At rest', 'doing a task with a repeated wrist / hand movement', 'lifting a heavy object', 'it is at its worst', 'How often do you have pain? (0= never - 10= always)',\r\n        'Fasten buttons on your shirt', 'Cut meat (or vegetables) using a knife', 'Turn a door knob with your affected hand', 'Use your affected wrist / hand to push up from a chair', 'Carry a heavy object in your affected  hand', 'Use bathroom tissue with your affected  hand',\r\n        'Personal care activities (dressing, washing)', 'Household work (cleaning, maintenance)', 'Work (your job or other work)', 'Recreational activities',\r\n        'How important is the appearance of your hand?', 'How much did the appearance of your wrist/hand bother you in the past week?',\r\n        'How would you rate your injured hand / wrist / hand  on a scale of 0-100? 100 is normal'],\r\n    MHQ: ['How often were you unable to do your work because of problems with your hand(s)/wrist / hand(s)?', 'How often did you have to shorten your work day because of problems with your hand(s)/ wrist / hand(s)?',\r\n        'How often did you have to take it easy at your work because of problems with your hand(s)/ wrist / hand(s)?', 'How often did you accomplish less in your work because of problems with your hand(s)/ wrist / hand(s)?',\r\n        'How often did you take longer to do the tasks in your work because of problems with your hand(s)/ wrist / hand(s)?']\r\n}\r\n\r\nfunction PROMs(props) {\r\n    const classes = useStyles();\r\n    const {func} = props;\r\n    const [Action, setAction] = React.useState(new Array(3));\r\n    const [PSFS, setPSFS] = React.useState(new Array(3));\r\n    const [PRWE, setPRWE] = React.useState(new Array(17));\r\n    const [MHQ, setMHQ] = React.useState(new Array(5));\r\n\r\n    const handleAction= (val, index) => {\r\n        Action[index] = val;\r\n        setAction([...Action]);\r\n        props.getOutputData({Action});\r\n    };\r\n    const handlePSFS = (val, index) => {\r\n            PSFS[index] = val;\r\n            setPSFS([...PSFS]);\r\n            props.getOutputData({PSFS, 'PSFS score': func['PSFS score'](PSFS)});\r\n        };\r\n\r\n    const handlePRWE = (val, index) => {\r\n        PRWE[index] = val;\r\n        setPRWE([...PRWE]);\r\n        props.getOutputData({\r\n            PRWE,\r\n            'PRWE Pain Scale': func['PRWE Pain Scale'](PRWE),\r\n            'PRWE Function subscale': func['PRWE Function subscale'](PRWE),\r\n            'SANE score': func['SANE score'](PRWE)\r\n        });\r\n    };\r\n\r\n    const handleMHQ = (val, index) => {\r\n        MHQ[index] = val;\r\n        setMHQ([...MHQ]);\r\n        props.getOutputData({\r\n            MHQ,\r\n            'MHQ score': func['MHQ score'](MHQ),\r\n        });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        let willupdate = false;\r\n        if (props.getOutputData('PSFS')) {\r\n            willupdate = true;\r\n            setPSFS(props.getOutputData('PSFS'));\r\n        }\r\n        if (props.getOutputData('PRWE')) {\r\n            willupdate = true;\r\n            setPRWE(props.getOutputData('PRWE'));\r\n        }\r\n        if (props.getOutputData('MHQ')) {\r\n            willupdate = true;\r\n            setMHQ(props.getOutputData('MHQ'));\r\n        }\r\n        if (props.getOutputData('Action')) {\r\n            willupdate = true;\r\n            setAction(props.getOutputData('Action'));\r\n        }\r\n        if (!willupdate) {\r\n            props.getOutputData({\r\n                PSFS, PRWE, MHQ, 'PSFS score': func['PSFS score'](PSFS),\r\n                'PRWE Pain Scale': func['PRWE Pain Scale'](PRWE),\r\n                'PRWE Function subscale': func['PRWE Function subscale'](PRWE),\r\n                'SANE score': func['SANE score'](PRWE),\r\n                'MHQ score': func['MHQ score'](MHQ),\r\n            });\r\n        }\r\n    }, []);\r\n    return (\r\n        <Grid container spacing={2}\r\n              justify=\"center\"\r\n              alignItems=\"stretch\">\r\n            <Grid item xs={12}>\r\n                <h3 className={classes.header}>Patient Specific Functional Scale PSFS</h3>\r\n                {Template.PSFS\r\n                    .map((d, i) => <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" key={i}>\r\n                            <Grid item xs={8}>\r\n                                {(props.first||props.viewMode)?Action[i]:<TextField\r\n                                           InputLabelProps={{shrink: true}}\r\n                                           margin=\"dense\"\r\n                                           size=\"small\"\r\n                                           value={Action[i]} fullWidth margin=\"dense\"\r\n                                           onChange={(event) => handleAction(event.target.value, i)}\r\n                                           />}\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <RadioChoice max={10} value={PSFS[i]} name={\"PSFS\" + i}\r\n                                             handeData={function (val) {\r\n                                                 handlePSFS(val, i)\r\n                                             }} disabled={props.viewMode||(!Action[i])}/>\r\n                            </Grid>\r\n                        </Grid>\r\n                    )\r\n                }\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" className={classes.result}>\r\n                    <Grid item xs={8}>PSFS Average Score for Items</Grid>\r\n                    <Grid item xs={4}>\r\n                        {d3.mean(PSFS)}\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <h3 className={classes.header}>Patient Rated wrist / wrist / hand Evaluation PRWE </h3>\r\n                <h4 className={classes.subheader}>Pain when </h4>\r\n                {Template.PRWE.slice(0, 5).map((d, i) => <Grid item xs container direction=\"row\" spacing=\"1\"\r\n                                                               alignItems=\"center\">\r\n                        <Grid item xs={8}>{d}</Grid>\r\n                        <Grid item xs={4}>\r\n                            <RadioChoice max={10} value={PRWE[i]} name={\"PRWE\" + i}\r\n                                         handeData={function (val) {\r\n                                             handlePRWE(val, i)\r\n                                         }} disabled={props.viewMode}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" className={classes.result}>\r\n                    <Grid item xs={8}>PRWE Pain Score</Grid>\r\n                    <Grid item xs={4}>\r\n                        {d3.sum(PRWE.slice(0, 5))}\r\n                    </Grid>\r\n                </Grid>\r\n                <h4 className={classes.subheader}>Function</h4>\r\n                {Template.PRWE.slice(5, 11)\r\n                    .map((d, _i) => {\r\n                            const i = _i + 5\r\n                            return <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                                <Grid item xs={8}>{d}</Grid>\r\n                                <Grid item xs={4}>\r\n                                    <RadioChoice max={10} value={PRWE[i]} name={\"PRWE\" + i}\r\n                                                 handeData={function (val) {\r\n                                                     handlePRWE(val, i)\r\n                                                 }} disabled={props.viewMode}/>\r\n                                </Grid>\r\n                            </Grid>\r\n                        }\r\n                    )\r\n                }\r\n                <h4 className={classes.subheader}>Usual activities</h4>\r\n                {Template.PRWE.slice(11, 15)\r\n                    .map((d, _i) => {\r\n                            const i = _i + 11;\r\n                            return <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                                <Grid item xs={8}>{d}</Grid>\r\n                                <Grid item xs={4}>\r\n                                    <RadioChoice max={10} value={PRWE[i]} name={\"PRWE\" + i}\r\n                                                 handeData={function (val) {\r\n                                                     handlePRWE(val, i)\r\n                                                 }} disabled={props.viewMode}/>\r\n                                </Grid>\r\n                            </Grid>\r\n                        }\r\n                    )\r\n                }\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" className={classes.result}>\r\n                    <Grid item xs={8}>PRWE Function Score</Grid>\r\n                    <Grid item xs={4}>\r\n                        {(d3.sum(PRWE.slice(5, 15)) + (10 - d3.count(PRWE.slice(5, 15))) * d3.mean(PRWE.slice(5, 15))) / 2}\r\n                    </Grid>\r\n                </Grid>\r\n                <h4 className={classes.subheader}>PRWHE appearance - optional</h4>\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                    <Grid item xs={8}>{Template.PRWE[15]}</Grid>\r\n                    <Grid item xs={4}>\r\n                        <Select\r\n                            displayEmpty\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            margin=\"dense\"\r\n                            value={PRWE[15]}\r\n                            disabled={props.viewMode}\r\n                            onChange={(event) => handlePRWE(+event.target.value, 15)}>\r\n                            <MenuItem value={0}>Very Much</MenuItem>\r\n                            <MenuItem value={1}>Somewhat</MenuItem>\r\n                            <MenuItem value={2}>Not at all</MenuItem>\r\n                        </Select>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                    <Grid item xs={8}>{Template.PRWE[16]}</Grid>\r\n                    <Grid item xs={4}>\r\n                        <RadioChoice max={10} value={PRWE[16]} name={\"PRWE\" + 16}\r\n                                     handeData={function (val) {\r\n                                         handlePRWE(val, 16)\r\n                                     }} disabled={props.viewMode}/>\r\n                    </Grid>\r\n                </Grid>\r\n                <h4 className={classes.subheader}>Single Answer Numeric Evaluation SANE (adapted to hand and wrist /\r\n                    hand) </h4>\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                    <Grid item xs={8}>{Template.PRWE[17]}</Grid>\r\n                    <Grid item xs={4}>\r\n                        <TextField\r\n                            type=\"number\"\r\n                            InputProps={{inputProps: {min: 0, max: 100}}}\r\n                            disabled={props.viewMode}\r\n                            value={PRWE[17]}\r\n                            variant={\"outlined\"}\r\n                            margin={\"dense\"}\r\n                            onChange={(event) => handlePRWE((+event.target.value), 17)}\r\n                        >\r\n\r\n                        </TextField>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <h3 className={classes.header}>Michigan Hand Questionnaire MHQ work module</h3>\r\n                {Template.MHQ\r\n                    .map((d, i) => <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\">\r\n                            <Grid item xs={8}>{d}</Grid>\r\n                            <Grid item xs={4}>\r\n                                <RadioChoice max={5} value={MHQ[i]} precision={1} name={\"MHQ\" + i}\r\n                                             handeData={function (val) {\r\n                                                 handleMHQ(val, i)\r\n                                             }} disabled={props.viewMode}/>\r\n                            </Grid>\r\n                        </Grid>\r\n                    )\r\n                }\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" className={classes.result}>\r\n                    <Grid item xs={8}>Raw Score for MHQ work module </Grid>\r\n                    <Grid item xs={4}>\r\n                        {d3.sum(MHQ)}\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs container direction=\"row\" spacing=\"1\" alignItems=\"center\" className={classes.result}>\r\n                    <Grid item xs={8}>MHQ Algorithm calculated score</Grid>\r\n                    <Grid item xs={4}>\r\n                        {(d3.sum(MHQ) - 5) / 20 * 100}\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default PROMs;\r\n","import React, {useEffect} from \"react\";\r\nimport {\r\n    TextField,\r\n    Paper, Grid\r\n} from \"@material-ui/core\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {sum, mean} from \"d3\"\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    title:{\r\n        backgroundColor: theme.palette.primary.light\r\n    },\r\n    input: {\r\n        width: 200,\r\n        textAlign: 'right',\r\n        '& input::-webkit-inner-spin-button':{\r\n            WebkitAppearance: 'none',\r\n            margin: 0,\r\n        }\r\n    },\r\n    input2: {\r\n        width: 400,\r\n        textAlign: 'center',\r\n    },\r\n    func: {\r\n        paddingLeft: 14,\r\n        paddingRight: 14,\r\n        paddingTop: 10.5,\r\n        paddingBottom: 10.5,\r\n        lineHeight: '40px',\r\n        marginTop: 8,\r\n        marginBottom: 4\r\n    },\r\n    funcResult:{\r\n        backgroundColor: '#ddd',\r\n        marginBottom: theme.spacing(1),\r\n        borderRadius: 20\r\n    }\r\n}));\r\n\r\n\r\nfunction ObjectiveMeasurement(props) {\r\n    const classes = useStyles();\r\n    const styleField = props.viewMode ? 'filled' : 'outlined';\r\n    const [data, setData] = React.useState({\r\n        \"TAM EX-0-Flex\": {\r\n            \"Involved Hand\": [0, 0],\r\n            \"Contra-lateral Hand\": [0, 0],\r\n            \"result\":0\r\n        },\r\n        \"TAM Pro-0-Sup\": {\r\n            \"Involved Hand\": [0, 0],\r\n            \"Contra-lateral Hand\": [0, 0],\r\n            \"result\":0\r\n        },\r\n        \"TAM Rad-0-Ulnar\": {\r\n            \"Involved Hand\": [0, 0],\r\n            \"Contra-lateral Hand\": [0, 0],\r\n            \"result\":0\r\n        },\r\n        \"Mean of 3 Trials\": {\r\n            \"Involved Hand\": [0, 0, 0],\r\n            \"Contra-lateral Hand\": [0, 0, 0],\r\n            \"result\":0\r\n        },\r\n        \"Grip Strength Supination Ratio\": {\r\n            \"Involved Hand\": [0],\r\n            \"Contra-lateral Hand\": [0],\r\n            \"result\":0\r\n        },\r\n        \"Grip Strength Pronation Ratio\": {\r\n            \"Involved Hand\": [0],\r\n            \"Contra-lateral Hand\": [0],\r\n            \"result\":0\r\n        }\r\n    });\r\n    useEffect(() => {\r\n        let willupdate=false;\r\n        const obj = {...data};\r\n        Object.keys(data).forEach(k=>{\r\n            debugger\r\n            const v = props.getOutputData(k);\r\n            if ( v){\r\n                willupdate = true;\r\n                obj[k] = v;\r\n            }\r\n        })\r\n        if (willupdate) {\r\n            setData(obj);\r\n        }else{\r\n            getOutputData();\r\n        }\r\n    },[]);\r\n    const getOutputData = ()=>{\r\n        Object.keys(data).forEach(k=>data[k].result = props.func[k](data[k]['Involved Hand'],data[k]['Contra-lateral Hand']));\r\n        props.getOutputData({...data});\r\n    };\r\n    const handleChange = (event, mainKey, subKey, index,max) => {\r\n        data[mainKey][subKey][index] = max?Math.min(max,event.target.value):event.target.value;\r\n        data[mainKey].result = props.func[mainKey](data[mainKey]['Involved Hand'],data[mainKey]['Contra-lateral Hand']);\r\n        setData({...data});\r\n        props.getOutputData({...data})\r\n    };\r\n    const getData = (mainKey, subKey, index) => {\r\n        return data[mainKey][subKey][index]\r\n    };\r\n\r\n    const sectionRender = (d) => {\r\n        return (<>\r\n            {d.sub.map((e, i) => <Grid item xs container direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                <Grid item xs>\r\n                    <span>{e.text}</span>\r\n                </Grid>\r\n                <Grid item className={classes.input}>\r\n                    <TextField disabled={props.viewMode} type=\"number\"\r\n                               InputLabelProps={{shrink: true}}\r\n                               inputProps={{style: { textAlign: 'right'},max: 110}}\r\n                               margin=\"dense\"\r\n                               size=\"small\"\r\n                               value={getData(d['key'], 'Involved Hand', i)} fullWidth margin=\"dense\"\r\n                               onChange={(event) => handleChange(event, d['key'], 'Involved Hand', i,110)}\r\n                               variant={styleField}/>\r\n                </Grid>\r\n                <Grid item className={classes.input}>\r\n                    <TextField\r\n                        // disabled={props.viewMode}\r\n                        disabled={props.first||props.viewMode}\r\n                               type=\"number\"\r\n                               InputLabelProps={{shrink: true}}\r\n                               inputProps={{style: { textAlign: 'right'},max: 110}}\r\n                               margin=\"dense\"\r\n                               size=\"small\"\r\n                               value={getData(d['key'], 'Contra-lateral Hand', i)} fullWidth margin=\"dense\"\r\n                               onChange={(event) => handleChange(event, d['key'], 'Contra-lateral Hand', i,110)}\r\n                               variant={styleField}/>\r\n                </Grid>\r\n            </Grid>)}\r\n            <Grid item xs container direction=\"row\" alignItems=\"center\" spacing={1} className={classes.funcResult}>\r\n                <Grid item xs>\r\n                    <span>{d['key']}</span>\r\n                </Grid>\r\n                <Grid item className={classes.input2}>\r\n                    <span className={classes.func}>{data[d['key']].result}</span>\r\n                </Grid>\r\n            </Grid></>)\r\n    };\r\n    const sectionRender2 = (d) => {\r\n        return (<>\r\n            {d.sub.map((e, i) => <Grid item xs container direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                <Grid item xs>\r\n                    <span>{e.text}</span>\r\n                </Grid>\r\n                <Grid item className={classes.input}>\r\n                    <TextField disabled={props.viewMode} type=\"number\"\r\n                               InputLabelProps={{shrink: true}}\r\n                               inputProps={{style: { textAlign: 'right'}}}\r\n                               margin=\"dense\"\r\n                               size=\"small\"\r\n                               value={getData(d['key'], 'Involved Hand', i)} fullWidth margin=\"dense\"\r\n                               onChange={(event) => handleChange(event, d['key'], 'Involved Hand', i)}\r\n                               variant={styleField}/>\r\n                </Grid>\r\n                <Grid item className={classes.input}>\r\n                    <TextField\r\n                        // disabled={props.viewMode}\r\n                        disabled={props.first||props.viewMode}\r\n                        type=\"number\"\r\n                               InputLabelProps={{shrink: true}}\r\n                               inputProps={{style: { textAlign: 'right'}}}\r\n                               margin=\"dense\"\r\n                               size=\"small\"\r\n                               value={getData(d['key'], 'Contra-lateral Hand', i)} fullWidth margin=\"dense\"\r\n                               onChange={(event) => handleChange(event, d['key'], 'Contra-lateral Hand', i)}\r\n                               variant={styleField}/>\r\n                </Grid>\r\n            </Grid>)}\r\n            <Grid item xs container direction=\"row\" alignItems=\"center\" spacing={1} className={classes.funcResult}>\r\n                <Grid item xs>\r\n                    <span>{d['key']}</span>\r\n                </Grid>\r\n                <Grid item className={classes.input2}>\r\n                    <span className={classes.func}>{data[d['key']].result}</span>\r\n                </Grid>\r\n            </Grid></>)\r\n    };\r\n    // getOutputData();\r\n    return (<Grid container spacing={0.5} direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"stretch\">\r\n        <h3 align='center' className={classes.title}>Wrist Range of Motion</h3>\r\n        <Grid item xs container direction=\"row\" spacing={1}>\r\n            <Grid item xs>\r\n            </Grid>\r\n            <Grid item className={classes.input}>\r\n                <Box fontWeight=\"fontWeightBold\">\r\n                    Involved Hand\r\n                </Box>\r\n            </Grid>\r\n            <Grid item className={classes.input}>\r\n                <Box fontWeight=\"fontWeightBold\">\r\n                    Contra-lateral Hand\r\n                </Box>\r\n            </Grid>\r\n        </Grid>\r\n        {[{key: 'TAM EX-0-Flex', sub: [{text: 'Extension'}, {text: 'Flexion'}]},\r\n            {key: 'TAM Pro-0-Sup', sub: [{text: 'Pronation'}, {text: 'Supination'}]},\r\n            {key: 'TAM Rad-0-Ulnar', sub: [{text: 'Radial Deviation'}, {text: 'Ulnar Deviation'}]}].map(sectionRender)}\r\n        <h3 align='center' className={classes.title}>Gripstrength (Dynamometer, Position II)</h3>\r\n        <Grid item xs container direction=\"row\" spacing={1}>\r\n            <Grid item xs>\r\n                <Box fontWeight=\"fontWeightBold\">\r\n                    Measurements in Kg\r\n                </Box>\r\n            </Grid>\r\n            <Grid item className={classes.input}>\r\n                <Box fontWeight=\"fontWeightBold\">\r\n                    Involved Hand\r\n                </Box>\r\n            </Grid>\r\n            <Grid item className={classes.input}>\r\n                <Box fontWeight=\"fontWeightBold\">\r\n                    Contra-lateral Hand\r\n                </Box>\r\n            </Grid>\r\n        </Grid>\r\n        {[{key: 'Mean of 3 Trials', sub: [{text: 'Forearm Neutral 1'}, {text: 'Forearm Neutral 2'}, {text: 'Forearm Neutral 3'}]}].map(sectionRender)}\r\n        {[{key: 'Grip Strength Supination Ratio', sub: [{text: 'Forearm Supination'}]}].map(sectionRender2)}\r\n        {[{key: 'Grip Strength Pronation Ratio', sub: [{text: 'Forearm Pronation'}]}].map(sectionRender2)}\r\n    </Grid>)\r\n}\r\n\r\nexport default ObjectiveMeasurement;\r\n","import React, {useEffect} from 'react';\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {makeStyles, withStyles, MuiThemeProvider, createMuiTheme, fade} from '@material-ui/core/styles';\r\nimport axios from \"axios\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport PROMs from \"./PROMs\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ObjectiveMeasurement from \"./ObjectiveMeasurements\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nfunction getSteps() {\r\n    return ['General Information', 'Objective Measurements', 'PROMs'];\r\n}\r\n\r\nfunction getStepContent(step,props) {\r\n    switch (step) {\r\n        case 0:\r\n            return <Grid container>\r\n                <Grid item xs>\r\n                    <TextField type=\"date\"\r\n                               disabled={props.viewMode}\r\n                               InputLabelProps={{shrink: true}}\r\n                               fullWidth margin=\"dense\"\r\n                               label=\"Date of Evaluation\" name=\"Date\"\r\n                               required\r\n                               defaultValue={props.getOutputData(\"Date\")}\r\n                               onChange={event=>props.getOutputData({\"Date\":event.target.value})} variant=\"outlined\"/>\r\n\r\n                </Grid>\r\n                <Grid item xs>\r\n                    <TextField select\r\n                               disabled={props.viewMode}\r\n                               fullWidth margin=\"dense\"\r\n                               required\r\n                               defaultValue={props.getOutputData(\"isReturnToWork\")}\r\n                               label=\"Has patient returned to work?\" name=\"isReturnToWork\"\r\n                               onChange={event=>props.getOutputData({\"isReturnToWork\":event.target.value})} variant=\"outlined\">\r\n                        <MenuItem value=\"Yes\">Yes</MenuItem>\r\n                        <MenuItem value=\"No\">No</MenuItem>\r\n                    </TextField>\r\n                </Grid>\r\n            </Grid>;\r\n        case 1:\r\n            return <ObjectiveMeasurement {...props}/>;\r\n        case 2:\r\n            return <PROMs {...props}/>;\r\n        default:\r\n            return 'Unknown step';\r\n    }\r\n}\r\n\r\nfunction WristIndex(props) {\r\n    const classes = useStyles();\r\n    const {handleSubmit,handleCancel,open} = props;\r\n    const [activeStep, setActiveStep] = React.useState(0);\r\n    const [skipped, setSkipped] = React.useState(new Set());\r\n    const steps = getSteps();\r\n\r\n    const isStepOptional = (step) => {\r\n        return step === 1;\r\n    };\r\n\r\n    const isStepFailed = (step) => {\r\n        return step === 1;\r\n    };\r\n\r\n    const isStepSkipped = (step) => {\r\n        return skipped.has(step);\r\n    };\r\n\r\n    const handleNext = () => {\r\n        let newSkipped = skipped;\r\n        if (isStepSkipped(activeStep)) {\r\n            newSkipped = new Set(skipped.values());\r\n            newSkipped.delete(activeStep);\r\n        }\r\n\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n        setSkipped(newSkipped);\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n    };\r\n\r\n    const handleSkip = () => {\r\n        if (!isStepOptional(activeStep)) {\r\n            // You probably want to guard against something like this,\r\n            // it should never occur unless someone's actively trying to break something.\r\n            throw new Error(\"You can't skip a step that isn't optional.\");\r\n        }\r\n\r\n        setSkipped((prevSkipped) => {\r\n            const newSkipped = new Set(prevSkipped.values());\r\n            newSkipped.add(activeStep);\r\n            return newSkipped;\r\n        });\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setActiveStep(0);\r\n    };\r\n\r\n    return (\r\n        <Dialog\r\n            // disableBackdropClick\r\n            // disableEscapeKeyDown\r\n            fullWidth\r\n            maxWidth=\"md\"\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            onClose={handleCancel}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Wrist Index</DialogTitle>\r\n            <DialogContent dividers>\r\n                <Stepper activeStep={activeStep} alternativeLabel>\r\n                    {steps.map((label) => (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                    ))}\r\n                </Stepper>\r\n                <div>\r\n                    {activeStep === steps.length ? (\r\n                        <div>\r\n                            <Typography className={classes.instructions}>All steps completed</Typography>\r\n                            <Button onClick={handleReset}>Reset</Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div>\r\n                            <Typography className={classes.instructions}>{getStepContent(activeStep,props)}</Typography>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleCancel} color=\"text.secondary\" style={{float:'left'}}>\r\n                    Cancel\r\n                </Button>\r\n                <Button\r\n                    disabled={activeStep === 0}\r\n                    onClick={handleBack}\r\n                    className={classes.backButton}\r\n                >\r\n                    Back\r\n                </Button>\r\n                {activeStep === steps.length - 1 ?\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Finish</Button>:\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>Next</Button>\r\n                }\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default WristIndex;\r\n","import {Component} from \"react\";\r\n\r\nclass Text extends Component {\r\n\r\n    static defaultProps = {\r\n        lineHeight: 1,\r\n        capHeight: 0.71,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            lines: []\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { wordsWithComputedWidth, spaceWidth } = this.calculateWordWidths();\r\n        this.wordsWithComputedWidth = wordsWithComputedWidth;\r\n        this.spaceWidth = spaceWidth;\r\n\r\n        const lines = this.calculateLines(this.wordsWithComputedWidth, this.spaceWidth, this.props.width);\r\n        this.setState({ lines });\r\n    }\r\n\r\n    render() {\r\n        // TODO: determine lineHeight and dy dynamically (using passed in props)\r\n        const { lineHeight, capHeight, ...props } = this.props;\r\n        const dy = capHeight;\r\n        const { x, y } = props;\r\n\r\n        return (\r\n            <text {...props} dy={`${dy}em`}>\r\n                {this.state.lines.map((word, index) => (\r\n                    <tspan x={x} y={y} dy={`${index * lineHeight}em`}>\r\n                        {word}\r\n                    </tspan>\r\n                ))}\r\n            </text>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(nextProps, nextState) {\r\n        if (this.props.children != nextProps.children) {\r\n            const { wordsWithComputedWidth, spaceWidth } = this.calculateWordWidths();\r\n            this.wordsWithComputedWidth = wordsWithComputedWidth;\r\n            this.spaceWidth = spaceWidth;\r\n        }\r\n\r\n        const lines = this.calculateLines(this.wordsWithComputedWidth, this.spaceWidth, this.props.width);\r\n        const newLineAdded = this.state.lines.length !== lines.length;\r\n        const wordMoved = this.state.lines.some((line, index) => line.length != lines[index].length);\r\n        // Only update if number of lines or length of any lines change\r\n        if (newLineAdded || wordMoved) {\r\n            this.setState({ lines })\r\n        }\r\n    }\r\n\r\n    calculateWordWidths() {\r\n        // Calculate length of each word to be used to determine number of words per line\r\n        const words = this.props.children.split(/\\s+/);\r\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n        var text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n        Object.assign(text.style, this.props.style);\r\n        svg.appendChild(text);\r\n        document.body.appendChild(svg);\r\n\r\n        const wordsWithComputedWidth = words.map(word => {\r\n            text.textContent = word;\r\n            return { word, width: text.getComputedTextLength() }\r\n        })\r\n\r\n        text.textContent = '\\u00A0'; // Unicode space\r\n        const spaceWidth = text.getComputedTextLength();\r\n\r\n        document.body.removeChild(svg);\r\n\r\n        return { wordsWithComputedWidth, spaceWidth }\r\n    }\r\n\r\n    calculateLines(wordsWithComputedWidth, spaceWidth, lineWidth) {\r\n        const wordsByLines = wordsWithComputedWidth.reduce((result, { word, width}) => {\r\n            const lastLine = result[result.length - 1] || { words: [], width: 0 };\r\n\r\n            if (lastLine.words.length === 0) {\r\n                // First word on line\r\n                const newLine = { words: [word], width };\r\n                result.push(newLine);\r\n            } else if (lastLine.width + width + (lastLine.words.length * spaceWidth) < lineWidth) {\r\n                // Word can be added to an existing line\r\n                lastLine.words.push(word);\r\n                lastLine.width += width;\r\n            } else {\r\n                // Word too long to fit on existing line\r\n                const newLine = { words: [word], width };\r\n                result.push(newLine);\r\n            }\r\n\r\n            return result;\r\n        }, []);\r\n\r\n        return wordsByLines.map(line => line.words.join(' '));\r\n    }\r\n}\r\n\r\nexport default Text\r\n","import React, {Component} from 'react';\r\nimport * as d3 from 'd3';\r\nimport {scaleOrdinal} from 'd3-scale';\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport Text from \"./Text\";\r\n\r\nconst styles = theme => ({\r\n    menu: {\r\n        marginLeft: '5px',\r\n        marginRight: '5px',\r\n        display: 'flex',\r\n        position: \"absolute\",\r\n        width: '100%',\r\n        top: '10px',\r\n        left: 0,\r\n    },\r\n    axis: {\r\n        transformOrigin: '0,0'\r\n    }\r\n});\r\n\r\nconst axis = [\r\n    {id: 'PSFS score', label: 'PSFS (0-10 / Poor=0 ; Good=10)', range: [0, 10]},\r\n    {id: 'PRWE Pain Scale', label: 'PRWE Pain Scale (0-50 0= no pain, 10= worst pain ever)', range: [50, 0]},\r\n    {\r\n        id: 'PRWE Function subscale',\r\n        label: 'PRWE Function subscale (0-50 / 0= no difficulty, 10= unable to do)',\r\n        range: [50, 0]\r\n    },\r\n    {id: 'SANE score', label: 'SANE  rate injured body part on a scale of 0-100?/ 100= normal', range: [0, 100]},\r\n    {\r\n        id: 'MHQ score',\r\n        label: 'MHQ work module (1-100 / 1=always, 2=often, 3=sometimes, 4=rarely, 5=never)',\r\n        range: [1, 100]\r\n    },\r\n    {\r\n        id: 'TAM EX-0-Flex',\r\n        label: 'Wrist range motion Flexion/Extension (0= no ROM- 100% equal or better than contra-lateral  wrist )',\r\n        range: [0, 1]\r\n    },\r\n    {\r\n        id: 'TAM Pro-0-Sup',\r\n        label: 'Wrist range motion Pronation/Supination  (0= no ROM- 100% equal or better than contra-lateral wrist )',\r\n        range: [0, 1]\r\n    },\r\n    {\r\n        id: 'TAM Rad-0-Ulnar',\r\n        label: 'Wrist range motion Radial / Ulnar Deviation (0= no ROM- 100% equal or better than contra-lateral wrist )',\r\n        range: [0, 1]\r\n    },\r\n    {\r\n        id: 'Mean of 3 Trials',\r\n        label: 'Grip Strength Ratio  (0= no  grip strength - 100% equal or better than  contra-lateral wrist )',\r\n        range: [0, 1]\r\n    },\r\n    {\r\n        id: 'Grip Strength Supination Ratio',\r\n        label: 'Grip Strength  Supination Ratio (0= no  grip strength - 100% equal or better than  contra-lateral wrist )',\r\n        range: [0, 1]\r\n    },\r\n    {\r\n        id: 'Grip Strength Pronation Ratio',\r\n        label: 'Grip Strength  Pronation Ratio  (0= no  grip strength - 100% equal or better than  contra-lateral wrist )',\r\n        range: [0, 1]\r\n    },\r\n];\r\n\r\nconst axisAngle = d3.scaleLinear().domain([0, axis.length]).range([0, Math.PI * 2]);\r\n\r\n\r\nclass RadarChart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.svg = React.createRef();\r\n        this.state = {\r\n            // labels: [],\r\n            data: [],\r\n            margin: {top: 200, right: 200, bottom: 200, left: 200},\r\n            width: 800,\r\n            height: 800,\r\n            textWidth: 200,\r\n            widthG: function () {\r\n                return this.width - this.margin.left - this.margin.right\r\n            },\r\n            heightG: function () {\r\n                return this.height - this.margin.top - this.margin.bottom\r\n            },\r\n            radius: function () {\r\n                return Math.min(this.widthG.bind(this)(), this.heightG.bind(this)()) / 2;\r\n            },\r\n            fontSize: 12,\r\n            colors: (props.colors && props.colors.domain) ? props.colors : scaleOrdinal().range(d3.schemeCategory10),\r\n            rScale: d3.scaleLinear(),\r\n            radarLine: d3.radialLine()\r\n                // .interpolate(\"linear-closed\")\r\n                .curve(d3.curveCardinalClosed.tension(0.7))\r\n                .radius((d) => {\r\n                    return this.state.rScale(d);\r\n                })\r\n                .angle(function (d, i) {\r\n                    return axisAngle(i);\r\n                }),\r\n            levels: d3.range(1, 6).map(d => d / 5),\r\n            legendW: 80,\r\n            legendH: 30,\r\n        };\r\n        this.state.colorLevels = scaleOrdinal().domain(this.state.levels).range(['#d7191c', '#fdae61', '#ffffbf', '#a6d96a', '#1a9641'])\r\n        axis.forEach(a => a.scale = d3.scaleLinear().domain(a.range));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.rScale.range([0, this.state.radius()]);\r\n        const data = (this.props.data ?? []).map(d => {\r\n            const ob = axis.map(a => a.scale(((typeof (d[a.id]) === 'object') && d[a.id]) ? d[a.id].result : d[a.id]));\r\n            if (this.props.keyColor)\r\n                ob[this.props.keyColor] = d[this.props.keyColor]\r\n            return ob;\r\n        });\r\n        console.log(data)\r\n        this.setState({data});\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        this.state.rScale.range([0, this.state.radius()]);\r\n        if (this.props.data !== prevProps.data) {\r\n            const data = (this.props.data ?? []).map(d => {\r\n                const ob = axis.map(a => a.scale(((typeof (d[a.id]) === 'object') && d[a.id]) ? d[a.id].result : d[a.id]));\r\n                if (this.props.keyColor)\r\n                    ob[this.props.keyColor] = d[this.props.keyColor]\r\n                return ob\r\n            });\r\n            console.log(data)\r\n            this.setState({data});\r\n        }\r\n    }\r\n\r\n    onSelect(n) {\r\n        this.props.selected(n.id, this.handleInfo(n));\r\n        this.setState({selected: n});\r\n    }\r\n\r\n    handleInfo(n) {\r\n        const data = Object.assign({}, n.data.info);\r\n        data.id = n.data.id;\r\n        return data;\r\n    }\r\n\r\n    onMouseOver(n) {\r\n        this.props.onSelect(this.handleInfo(n));\r\n    }\r\n\r\n    onMouseLeave() {\r\n        this.props.onSelect(null);\r\n    }\r\n\r\n    arcHolder = d3.arc()\r\n        .innerRadius(d => d[0])\r\n        .outerRadius(d => d[1])\r\n        .startAngle(0)\r\n        .endAngle(Math.PI * 2);\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        // this.adjustFont();\r\n        return (\r\n            <div style={{position: 'relative', overflow: \"visible\"}}>\r\n                <svg viewBox={\"0 0 \" + this.state.width + ' ' + this.state.height} ref={this.svg}\r\n                     style={{overflow: \"visible\"}}\r\n                     id={this.props.id}>\r\n                    <g className={\"content\"}\r\n                       fontFamily={\"sans-serif\"}\r\n                       fontSize={this.state.fontSize}\r\n                       transform={`translate(${[this.state.margin.left + this.state.radius(), this.state.margin.top + this.state.radius()]})`}>\r\n                        <g className={\"axisHolder\"}\r\n                           fill={\"none\"}>\r\n                            {/*{[...this.state.levels].reverse().map(l=><circle r={this.state.rScale(l)} fill={this.state.colorLevels(l)} stroke={\"white\"}></circle>)}*/}\r\n                            {this.state.levels.map((l, li) => <path\r\n                                d={this.arcHolder([this.state.rScale(this.state.levels[li - 1] ?? 0), this.state.rScale(l)])}\r\n                                fill={this.state.colorLevels(l)}\r\n                                stroke={'#fff'} strokeOpacity={1} strokeWidth={1}\r\n                                fillOpacity={0.3}></path>)}\r\n                            {axis.map((a, i) => <g className={classes.axis}\r\n                                                   style={{transform: `rotate(${axisAngle(i)}rad)`}}>\r\n                                <line y2={-this.state.rScale(1)} stroke={'#000'} strokeOpacity={0.5}\r\n                                      strokeWidth={0.5}></line>\r\n                            </g>)}\r\n                            {axis.map((a, i) => <Text fill={'#000'} stroke={'unset'} strokeOpacity={0}\r\n                                                      textAnchor=\"middle\"\r\n                                                      x={Math.sin(axisAngle(i)) * this.state.rScale(1) + (Math.sin(axisAngle(i)) ? ((axisAngle(i) > Math.PI) ? -(this.state.textWidth / 2) : (this.state.textWidth / 2)) : 0)}\r\n                                                      y={-Math.cos(axisAngle(i)) * this.state.rScale(1.1)}\r\n                                                      style={{fontSize: '0.9rem'}}\r\n                                                      width={this.state.textWidth}>{a.label}</Text>)}\r\n                        </g>\r\n                        <g className={\"links\"}\r\n                           fill={\"none\"} strokeOpacity={1} strokeWidth={2}>\r\n                            {this.state.data.map((d, i) => <path d={this.state.radarLine(d)}\r\n                                                                 strokeOpacity={this.props.selectedIndex === undefined ? 1 : (this.props.selectedIndex === (this.props.keyColor ? d[this.props.keyColor] : i) ? 1 : 0.1)}\r\n                                                                 stroke={this.state.colors(this.props.keyColor ? d[this.props.keyColor] : i)}/>)}\r\n                        </g>\r\n                    </g>\r\n                    <g className={\"legend\"}\r\n                       fontFamily={\"sans-serif\"}\r\n                       fontSize={this.state.fontSize+3}\r\n                       transform={`translate(${[this.state.margin.left + this.state.radius() - this.state.legendW*this.state.levels.length/2, this.state.height- this.state.legendH -30]})`}>\r\n                        {this.state.levels.map((l, li) => <rect key={li}\r\n                            x={(li) * this.state.legendW}\r\n                            width={this.state.legendW}\r\n                            height={this.state.legendH}\r\n                            fill={this.state.colorLevels(l)}\r\n                            stroke={'#fff'} strokeOpacity={1} strokeWidth={1}\r\n                            fillOpacity={0.3}></rect>)}\r\n                            <text dy={-this.state.legendH/2-2} alignmentBaseline=\"middle\" x={(this.state.levels.length/2) * this.state.legendW} textAnchor={\"middle\"} fontSize={this.state.fontSize+8}>Well-being of the patient</text>\r\n                            <text dy={this.state.legendH/2} alignmentBaseline=\"middle\" dx={this.state.legendW/2} x={(this.state.levels.length -1) * this.state.legendW} textAnchor={\"middle\"}>Good</text>\r\n                            <text dy={this.state.legendH/2} alignmentBaseline=\"middle\" dx={this.state.legendW/2}  textAnchor={\"middle\"}>Bad</text>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withStyles(styles)(RadarChart);\r\n","import React, {useEffect, useRef} from \"react\";\r\nimport {\r\n    InputBase,\r\n    Paper,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TablePagination,\r\n    TableRow\r\n} from \"@material-ui/core\";\r\nimport {fade, makeStyles} from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport * as axios from \"axios\";\r\nimport RadarChart from \"./radarChart\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    container: {\r\n        maxHeight: 440,\r\n    },\r\n    searchHolder:{\r\n        margin: theme.spacing(1),\r\n        marginLeft : 0,\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    }\r\n}));\r\nconst columns = [{\r\n    id: 'Initials',\r\n    label: 'Initials',\r\n    align: 'center',\r\n},{\r\n    id: 'Date of Birth',\r\n    label: 'Date of Birth',\r\n    align: 'center',\r\n},{\r\n    id: 'Gender',\r\n    label: 'Gender',\r\n    align: 'center',\r\n}];\r\nfunction WristViz(props) {\r\n    const classes = useStyles();\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n    const [rows, setRows] = React.useState([]);\r\n    const firstUpdate = useRef(true);\r\n    useEffect(() => {\r\n        if (firstUpdate.current) {\r\n            firstUpdate.current = false;\r\n            props.onLoad(false);\r\n            return;\r\n        }\r\n    });\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n    return (\r\n        <>\r\n            <Grid container alignItems=\"center\" justify=\"space-between\">\r\n                <Grid item xs>\r\n                    <RadarChart keyColor={\"_id\"} colors={props.colors} data={props.data} selectedIndex={props.selectedIndex}/>\r\n                </Grid>\r\n            </Grid>\r\n            {/*<Paper className={classes.root}>*/}\r\n            {/*    <TableContainer className={classes.container}>*/}\r\n            {/*        <Table stickyHeader aria-label=\"sticky table\">*/}\r\n            {/*            <TableHead>*/}\r\n            {/*                <TableRow>*/}\r\n            {/*                    {columns.map((column) => (*/}\r\n            {/*                        <TableCell*/}\r\n            {/*                            key={column.id}*/}\r\n            {/*                            align={column.align}*/}\r\n            {/*                            style={{minWidth: column.minWidth}}*/}\r\n            {/*                        >*/}\r\n            {/*                            {column.label}*/}\r\n            {/*                        </TableCell>*/}\r\n            {/*                    ))}*/}\r\n            {/*                </TableRow>*/}\r\n            {/*            </TableHead>*/}\r\n            {/*            <TableBody>*/}\r\n            {/*                {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {*/}\r\n            {/*                    return (*/}\r\n            {/*                        <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code} onClick={()=>props.viewPatient(row)}>*/}\r\n            {/*                            {columns.map((column) => {*/}\r\n            {/*                                const value = row[column.id];*/}\r\n            {/*                                return (*/}\r\n            {/*                                    <TableCell key={column.id} align={column.align}>*/}\r\n            {/*                                        {column.format && typeof value === 'number' ? column.format(value) : value}*/}\r\n            {/*                                    </TableCell>*/}\r\n            {/*                                );*/}\r\n            {/*                            })}*/}\r\n            {/*                        </TableRow>*/}\r\n            {/*                    );*/}\r\n            {/*                })}*/}\r\n            {/*            </TableBody>*/}\r\n            {/*        </Table>*/}\r\n            {/*    </TableContainer>*/}\r\n            {/*    <TablePagination*/}\r\n            {/*        rowsPerPageOptions={[10, 25, 100]}*/}\r\n            {/*        component=\"div\"*/}\r\n            {/*        count={rows.length}*/}\r\n            {/*        rowsPerPage={rowsPerPage}*/}\r\n            {/*        page={page}*/}\r\n            {/*        onChangePage={handleChangePage}*/}\r\n            {/*        onChangeRowsPerPage={handleChangeRowsPerPage}*/}\r\n            {/*    />*/}\r\n            {/*</Paper>*/}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default WristViz;\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport * as axios from \"axios\";\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright  '}\r\n            <Link color=\"inherit\" href=\"https://https://idatavisualizationlab.github.io/\">\r\n                idvl\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function SignIn(props) {\r\n    const classes = useStyles();\r\n    const [username, setusername] = React.useState();\r\n    const [password, setpassword] = React.useState();\r\n    const [meassage, setmeassage] = React.useState();\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                </Typography>\r\n                <form className={classes.form}  method=\"get\"\r\n                    onSubmit={(event)=>{\r\n                        event.preventDefault();\r\n                        axios.get(((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)+`/login?username=${username}&password=${password}`)\r\n                            .then(respond=>{\r\n                                props.onSucess(respond.data)\r\n                            }).catch(e=>{\r\n                            setmeassage(\"Login Failed. Please try again.\")\r\n                        })\r\n                    }}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"User name\"\r\n                        name=\"userName\"\r\n                        autoComplete=\"userName\"\r\n                        value={username}\r\n                        onChange={(e)=>setusername(e.target.value)}\r\n                        autoFocus\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        onChange={(e)=>setpassword(e.target.value)}\r\n                        autoComplete=\"current-password\"\r\n                    />\r\n                    {/*<FormControlLabel*/}\r\n                    {/*    control={<Checkbox value=\"remember\" color=\"primary\" />}*/}\r\n                    {/*    label=\"Remember me\"*/}\r\n                    {/*/>*/}\r\n                    {\r\n                        <span>{meassage}</span>\r\n                    }\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                    {/*<Grid container>*/}\r\n                    {/*    <Grid item xs>*/}\r\n                    {/*        <Link href=\"#\" variant=\"body2\">*/}\r\n                    {/*            Forgot password?*/}\r\n                    {/*        </Link>*/}\r\n                    {/*    </Grid>*/}\r\n                    {/*    <Grid item>*/}\r\n                    {/*        <Link href=\"#\" variant=\"body2\">*/}\r\n                    {/*            {\"Don't have an account? Sign Up\"}*/}\r\n                    {/*        </Link>*/}\r\n                    {/*    </Grid>*/}\r\n                    {/*</Grid>*/}\r\n                </form>\r\n            </div>\r\n            <Box mt={8}>\r\n                <Copyright />\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/notfound.f3a3f943.png\";","import React, {useEffect} from 'react';\r\nimport * as axios from \"axios\";\r\nimport {schemeCategory10} from \"d3\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport UserInfo from \"./userInfo\";\r\nimport WristViz from \"./wristViz\";\r\nimport {\r\n    useParams,Switch,Route,useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { scaleOrdinal } from 'd3-scale';\r\nimport notfound from '../image/notfound.png'\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Redirect from \"react-router-dom/es/Redirect\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nfunction View(props) {\r\n    let { path, url } = useRouteMatch();\r\n    return <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"flex-start\"\r\n    ><Switch>\r\n        <Route exact path={path}>\r\n            <Container maxWidth=\"sm\">\r\n                <Grid container direction=\"column\" justify=\"center\"\r\n                      alignItems=\"center\" style={{position: 'fixed',\r\n                    maxWidth: '500px',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    /* bring your own prefixes */\r\n                    transform: 'translate(-50%, -50%)'}}>\r\n                    <Grid item>\r\n                        <img src={notfound} style={{width:'100%',height:'auto'}}/>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <h1>Invalid link</h1>\r\n                    </Grid>\r\n                    <Grid item>\r\n                    <Button variant=\"contained\" color=\"primary\" startIcon={<HomeIcon/>} href={\"/\"}>Return home</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Route>\r\n        <Route path={`${path}/:patientId`}>\r\n            <SingleView {...props} />\r\n        </Route>\r\n    </Switch></Grid>\r\n}\r\nfunction SingleView(props){\r\n    let { patientId } = useParams();\r\n    const [userData, setuserData] = React.useState({});\r\n    const [redirect, setredirect] = React.useState(false);\r\n    const [selectedIndex, setselectedIndex] = React.useState(undefined);\r\n    const radarColor = React.useRef(props.radarColor??scaleOrdinal().range(schemeCategory10));\r\n    useEffect(()=>{\r\n        viewPatient();\r\n    },0);\r\n    const viewPatient = ()=>{\r\n        debugger\r\n        const id = patientId;\r\n        axios.get(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile?id=${id}`)\r\n            .then(r=>{\r\n                const d= r.data;\r\n                console.log(r)\r\n                setuserData(d);\r\n                radarColor.current.domain([]);\r\n            }).catch(e=>{\r\n            setredirect(true);\r\n        });\r\n    };\r\n    const onMouseOverIndex = (_id)=>{\r\n        setselectedIndex(_id);\r\n    };\r\n\r\n    return <>{redirect?<Redirect to=\"/view\" />:<>\r\n        <Grid item xs={4}>\r\n            <UserInfo data={userData} viewMode={true} userEditMode={false}  onMouseOver={onMouseOverIndex}\r\n                      colors={radarColor.current} IndexEditMode={false}/>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <WristViz onLoad={props.onLoad} data={userData['Wrist Index']} selectedIndex={selectedIndex} colors={radarColor.current}/>\r\n        </Grid>\r\n    </>}</>;\r\n}\r\nexport default View;\r\n","import React, {useEffect} from 'react';\r\nimport {makeStyles, withStyles, MuiThemeProvider, createMuiTheme, fade} from '@material-ui/core/styles';\r\nimport './App.css';\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport ManageUser from \"./components/manageUser\";\r\nimport {AppBar, Toolbar, Typography, IconButton, Container} from \"@material-ui/core\";\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport UserInfo from \"./components/userInfo\";\r\nimport {sum, mean, count, schemeCategory10, default as d3} from \"d3\";\r\nimport { scaleOrdinal } from 'd3-scale';\r\nimport PROMs from \"./components/PROMs\";\r\nimport WristIndex from \"./components/WristIndex\";\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport * as axios from \"axios\";\r\nimport WristViz from \"./components/wristViz\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport SignIn from \"./components/signIn\";\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport RadioChoice from \"./components/radioChoice\";\r\nimport {BrowserRouter as Router, Route, Switch, useRouteMatch} from \"react-router-dom\";\r\nimport View from \"./components/view\";\r\n\r\nconst THEME = createMuiTheme({\r\n    typography: {\r\n        \"fontFamily\": `sans-serif`,\r\n        // \"fontSize\": 14,\r\n    }\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        height: '100%'\r\n    },\r\n    input: {\r\n        marginLeft: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n    tabs: {\r\n        border: 'none',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        width: '100%',\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    }\r\n}));\r\n\r\nconst func ={\r\n    'TAM EX-0-Flex':(arr,arr2)=>sum(arr)/sum(arr2),\r\n    'TAM Pro-0-Sup':(arr,arr2)=>sum(arr)/sum(arr2),\r\n    'TAM Rad-0-Ulnar':(arr,arr2)=>sum(arr)/sum(arr2),\r\n    'Mean of 3 Trials': (arr,arr2)=> (sum(arr)/3)/(sum(arr2)/3),\r\n    'Grip Strength Supination Ratio':(a,b)=> a/b,\r\n    'Grip Strength Pronation Ratio':(a,b)=> a/b,\r\n    'PSFS score':(PSFS)=>mean(PSFS),\r\n    'PRWE Pain Scale':(PRWE)=>sum(PRWE.slice(0,5)),\r\n    'PRWE Function subscale':(PRWE)=>(sum(PRWE.slice(5, 15))+(10-count(PRWE.slice(5, 15)))*mean(PRWE.slice(5, 15)))/2,\r\n    'SANE score':(PRWE)=>PRWE[17],\r\n    'MHQ score':(MHQ)=>(sum(MHQ)-5)/20*100,\r\n};\r\n\r\nfunction App() {\r\n    const classes = useStyles();\r\n    const [masterId, setmasterId] = React.useState();\r\n    const [busy, setBusy] = React.useState(false);\r\n    const [userData, setuserData] = React.useState({});\r\n    // const [userInfoView, setuserInfoView] = React.useState(false);\r\n    const [IndexView, setIndexView] = React.useState(false);\r\n    const newIndexData = React.useRef({});\r\n    const [onNewIndex, setonNewIndex] = React.useState(false);\r\n    const [page, setPage] = React.useState(-1);\r\n    const [reloadUserTable, setreloadUserTable] = React.useState(true);\r\n    const [patientLists, setPatientLists] = React.useState([]);\r\n    const [confirmFunc,setConfirmFunc] = React.useState(false);\r\n    const [selectedIndex,setselectedIndex] = React.useState(undefined);\r\n    const radarColor = React.useRef(scaleOrdinal().range(schemeCategory10));\r\n\r\n\r\n    useEffect(()=>{\r\n        if (reloadUserTable){\r\n            setreloadUserTable(false);\r\n            axios.get(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile/list?managerBy=${masterId}`)\r\n                .then(r=>{\r\n                    setPatientLists(r.data)\r\n                });\r\n        }\r\n    })\r\n\r\n    const onLoad = (d) => {\r\n        if (d === undefined)\r\n            setBusy(false);\r\n        else\r\n            setBusy(d)\r\n    };\r\n\r\n    const newPatient = (d)=>{\r\n        setuserData({});\r\n        // setuserInfoView(false);\r\n        setPage(1);\r\n    };\r\n\r\n    const editPatient = (data)=>{\r\n        const id = data['_id'];\r\n        axios.get(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile?id=${id}`)\r\n            .then(r=>{\r\n                const d= r.data;\r\n                setuserData(d);\r\n                radarColor.current.domain([]);\r\n                setPage(2);\r\n                // setuserInfoView(true);\r\n            });\r\n    };\r\n\r\n    const editIndex = (data)=>{\r\n        newIndexData.current = data;\r\n        setIndexView(false);\r\n        setonNewIndex(true);\r\n    };\r\n\r\n     const viewIndex = (data)=>{\r\n         newIndexData.current = data;\r\n         setIndexView(true);\r\n            setonNewIndex(true);\r\n        };\r\n\r\n    const viewPatient = (data)=>{\r\n        const id = data['_id'];\r\n        axios.get(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile?id=${id}`)\r\n            .then(r=>{\r\n                debugger\r\n                const d= r.data;\r\n                setuserData(d);\r\n                radarColor.current.domain([]);\r\n                setPage(3);\r\n                // setuserInfoView(true);\r\n            });\r\n    };\r\n\r\n    const deletePatient = (data)=> {\r\n        setConfirmFunc({\r\n            title: 'Delete Patient Data',\r\n            content: 'Delete all record and profile of patient: '+  data['Initials'],\r\n            func: () => {\r\n                const id = data['_id'];\r\n                axios.get(`${((process.env.NODE_ENV === 'production') ? process.env.REACT_APP_API_URL : process.env.REACT_APP_API_URL_LOCAL)}/patientProfile/delete?id=${id}`)\r\n                    .then(r => {\r\n                        setConfirmFunc(false);\r\n                        setreloadUserTable(true);\r\n                        setPage(0);\r\n                    });\r\n            }\r\n        })\r\n    };\r\n    const deleteIndex = (data)=> {\r\n            setConfirmFunc({\r\n                title: 'Delete Record Data',\r\n                content: 'Delete record : '+  data['Date'],\r\n                func: () => {\r\n                    const id = data['_id'];\r\n                    axios.get(`${((process.env.NODE_ENV === 'production') ? process.env.REACT_APP_API_URL : process.env.REACT_APP_API_URL_LOCAL)}/record/delete?id=${id}`)\r\n                        .then(r => {\r\n                            setConfirmFunc(false);\r\n                            editPatient({_id:data.caseId});\r\n                        });\r\n                }\r\n            })\r\n        };\r\n\r\n    const handleCloseConfirm = () => {\r\n        setConfirmFunc(false);\r\n    };\r\n\r\n    const newIndex = (firstRecord)=>{\r\n        if (firstRecord){\r\n            newIndexData.current={\r\n                \"TAM EX-0-Flex\": {\r\n                    \"Involved Hand\": [0, 0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"TAM EX-0-Flex\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"TAM Pro-0-Sup\": {\r\n                    \"Involved Hand\": [0, 0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"TAM Pro-0-Sup\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"TAM Rad-0-Ulnar\": {\r\n                    \"Involved Hand\": [0, 0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"TAM Rad-0-Ulnar\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"Mean of 3 Trials\": {\r\n                    \"Involved Hand\": [0, 0, 0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"Mean of 3 Trials\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"Grip Strength Supination Ratio\": {\r\n                    \"Involved Hand\": [0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"Grip Strength Supination Ratio\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"Grip Strength Pronation Ratio\": {\r\n                    \"Involved Hand\": [0],\r\n                    \"Contra-lateral Hand\": firstRecord[\"Grip Strength Pronation Ratio\"][\"Contra-lateral Hand\"],\r\n                    \"result\":0\r\n                },\r\n                \"Action\": firstRecord[\"Action\"]\r\n            }\r\n        }else{\r\n            newIndexData.current = {};\r\n        }\r\n        newIndexData.current.caseId = userData['_id'];\r\n        setIndexView(false);\r\n        setonNewIndex({firstRecord:firstRecord});\r\n    };\r\n\r\n    const handleCancelNewIndex = (d)=>{\r\n        setonNewIndex(false);\r\n    };\r\n\r\n    const getOutputData = (d)=>{\r\n        if (typeof d == 'string'){\r\n            return newIndexData.current[d]\r\n        }else\r\n            Object.keys(d).forEach(k=>{\r\n                newIndexData.current[k] = d[k];\r\n            });\r\n    };\r\n\r\n    const handleSubmitNewIndex = ()=>{\r\n        if (!IndexView){\r\n            axios.post(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/record`,newIndexData.current)\r\n                .then((r)=>{\r\n                    console.log(r);\r\n                    debugger\r\n                    if (!userData.prefill){\r\n                        axios.post(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile?id=${userData._id}`,\r\n                            {\r\n                                prefill:{\r\n                                    \"TAM EX-0-Flex\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"TAM EX-0-Flex\"][\"Contra-lateral Hand\"],\r\n                                    },\r\n                                    \"TAM Pro-0-Sup\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"TAM Pro-0-Sup\"][\"Contra-lateral Hand\"],\r\n                                    },\r\n                                    \"TAM Rad-0-Ulnar\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"TAM Rad-0-Ulnar\"][\"Contra-lateral Hand\"],\r\n                                    },\r\n                                    \"Mean of 3 Trials\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"Mean of 3 Trials\"][\"Contra-lateral Hand\"]\r\n                                    },\r\n                                    \"Grip Strength Supination Ratio\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"Grip Strength Supination Ratio\"][\"Contra-lateral Hand\"]\r\n                                    },\r\n                                    \"Grip Strength Pronation Ratio\": {\r\n                                        \"Contra-lateral Hand\": newIndexData.current[\"Grip Strength Pronation Ratio\"][\"Contra-lateral Hand\"]\r\n                                    },\r\n                                    \"Action\":newIndexData.current[\"Action\"],\r\n                                }\r\n                            })\r\n                    }\r\n                    editPatient(userData);\r\n                }).catch(e=>{\r\n                    console.log(e)\r\n                // handle error\r\n            });\r\n        }\r\n        setonNewIndex(false);\r\n    };\r\n    const handleSubmitPatient = (data)=>{\r\n        const sendData = {...data};\r\n        delete sendData.prefill;\r\n        delete sendData[\"Wrist Index\"];\r\n        axios.post(`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/patientProfile?managerBy=${masterId}`,sendData)\r\n            .then((respond)=>{\r\n                editPatient(respond.data);\r\n            }).catch(e=>{\r\n                // handle error\r\n        })\r\n    };\r\n    const onMouseOverIndex = (_id)=>{\r\n        setselectedIndex(_id);\r\n    }\r\n\r\n    const renderPage = ()=>{\r\n        switch (page) {\r\n            case 1:\r\n                return <Grid item xs={4}>\r\n                    <UserInfo data={{managerBy:masterId}} viewMode={false} handleSubmitPatient={handleSubmitPatient}\r\n                              userEditMode={true} IndexEditMode={true} newIndex={newIndex} />\r\n\r\n                </Grid>;\r\n            case 2:\r\n                return <><Grid item xs={4}>\r\n                    <UserInfo data={userData} viewMode={false} userEditMode={false}\r\n                              handleSubmitPatient={handleSubmitPatient}\r\n                              viewIndex={viewIndex}\r\n                              editIndex={editIndex}\r\n                              deleteIndex={deleteIndex}\r\n                              onMouseOver={onMouseOverIndex}\r\n                              IndexEditMode={true} newIndex={newIndex}\r\n                              colors={radarColor.current}\r\n                    />\r\n                    {/*<UserInfo data={userData} viewMode={userInfoView} userEditMode={true} IndexEditMode={true} newIndex={newIndex} />*/}\r\n                </Grid>\r\n                    <Grid item xs={6}>\r\n                        <WristViz onLoad={onLoad} data={userData['Wrist Index']} selectedIndex={selectedIndex} colors={radarColor.current}/>\r\n                    </Grid>\r\n                    </>;\r\n            case 3:\r\n                return <><Grid item xs={4}>\r\n                    <UserInfo data={userData} viewMode={true} userEditMode={false}  onMouseOver={onMouseOverIndex}\r\n                              colors={radarColor.current} IndexEditMode={false} newIndex={newIndex} />\r\n                </Grid>\r\n                    <Grid item xs={6}>\r\n                        <WristViz onLoad={onLoad} data={userData['Wrist Index']} selectedIndex={selectedIndex} colors={radarColor.current}/>\r\n                    </Grid>\r\n                </>;\r\n            case 0:\r\n                return <Grid item xs={4}>\r\n                    <Grid item xs={12} style={{paddingTop:10}}>\r\n                        <span>Download </span>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            size=\"small\"\r\n                            className={classes.AddButton}\r\n                            startIcon={<GetAppIcon />}\r\n                            download\r\n                            href={`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/download/usermanual`}\r\n                            >User Manual</Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            size=\"small\"\r\n                            className={classes.AddButton}\r\n                            startIcon={<GetAppIcon />}\r\n                            download\r\n                            href={`${((process.env.NODE_ENV === 'production')?process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL_LOCAL)}/download/wristEn`}\r\n                        >Wrist Index Form</Button>\r\n                    </Grid>\r\n                    <ManageUser viewPatient={viewPatient} editPatient={editPatient}\r\n                                deletePatient={deletePatient}\r\n                                rows={patientLists}\r\n                                onLoad={onLoad} newPatient={newPatient}/>\r\n                </Grid>;\r\n            default:\r\n                return <Grid item xs={12} lg={4}>\r\n                    <SignIn onSucess={(masterId)=>{setmasterId(masterId._id);setreloadUserTable(true); setPage(0)}}/>\r\n                </Grid>\r\n        }\r\n    };\r\n\r\n    return (<MuiThemeProvider theme={THEME}>\r\n            <div className={classes.root}>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <IconButton\r\n                            edge=\"start\"\r\n                            className={classes.menuButton}\r\n                            color=\"inherit\"\r\n                            aria-label=\"open drawer\"\r\n                        >\r\n                            {(page>0)?<ArrowBackIosIcon onClick={()=>{setreloadUserTable(true);setPage(0);}}/>:''}\r\n                        </IconButton>\r\n                        <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                            Wrist Index\r\n                        </Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/view\">\r\n                        <View\r\n                        onLoad={onLoad}/>\r\n                    </Route>\r\n                    <Route path=\"/\">\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            justify=\"center\"\r\n                            alignItems=\"flex-start\"\r\n                        >\r\n                            {renderPage()}\r\n                        </Grid>\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n\r\n            <Dialog\r\n                open={confirmFunc}\r\n                onClose={handleCloseConfirm}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{confirmFunc.title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {confirmFunc.content}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleCloseConfirm} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={confirmFunc.func} color=\"primary\" autoFocus>\r\n                        OK\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            {onNewIndex?<WristIndex func={func} open={onNewIndex} first={onNewIndex.firstRecord} viewMode={IndexView} handleCancel={handleCancelNewIndex} getOutputData={getOutputData} handleSubmit={handleSubmitNewIndex}/>:''}\r\n            <Backdrop className={classes.backdrop} open={busy !== false}>\r\n                <CircularProgress color=\"secondary\"/>\r\n                <span>{(busy || {text: ''}).text}</span>\r\n            </Backdrop>\r\n        </MuiThemeProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter as Router} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <Router>\r\n      <App/>\r\n      </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}