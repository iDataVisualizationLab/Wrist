(this.webpackJsonpwrist=this.webpackJsonpwrist||[]).push([[0],{365:function(e,t,a){},366:function(e,t,a){},414:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),s=a.n(r),c=(a(365),a(17)),o=a(9),l=a(233),d=a(456),u=a(475),h=(a(366),a(418)),j=a(482),b=a(14),x=a(237),p=a(460),m=a(461),O=a(462),f=a(463),g=a(464),v=a(465),w=a(486),y=a(16),S=a(458),k=a(67),P=a.n(k),I=a(459),C=a(25),W=a(466),M=a(116),H=a.n(M),R=a(117),E=a.n(R),N=a(115),A=a.n(N),D=a(224),F=a.n(D),L=a(471),T=a(472),B=a(473),z=a(470),G=a(484),Q=a(1),U=Object(d.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},searchHolder:{margin:e.spacing(1),marginLeft:0},search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(y.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.b)(e.palette.common.white,.25)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),_=[{id:"Initials",label:"Initials",align:"center"},{id:"Date of Birth",label:"Date of Birth",align:"center"},{id:"Gender",label:"Gender",align:"center"}];var q=function(e){var t=U(),a=e.rows,r=i.a.useState(0),s=Object(o.a)(r,2),c=s[0],l=s[1],d=i.a.useState(void 0),u=Object(o.a)(d,2),h=u[0],j=u[1],b=i.a.useState(""),y=Object(o.a)(b,2),k=y[0],C=y[1],M=i.a.useState(10),R=Object(o.a)(M,2),N=R[0],D=R[1],q=Object(n.useRef)(!0),X=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(q.current)return q.current=!1,void e.onLoad(!1)})),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(S.a,{container:!0,alignItems:"center",justify:"space-between",style:{marginTop:20},children:[Object(Q.jsx)(S.a,{item:!0,xs:!0}),Object(Q.jsx)(S.a,{item:!0,children:Object(Q.jsx)(I.a,{variant:"contained",color:"primary",size:"small",className:t.AddButton,startIcon:Object(Q.jsx)(P.a,{}),onClick:e.newPatient,children:"Add new patient"})})]}),Object(Q.jsxs)(x.a,{className:t.root,children:[Object(Q.jsx)(p.a,{className:t.container,children:Object(Q.jsxs)(m.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(Q.jsx)(O.a,{children:Object(Q.jsxs)(f.a,{children:[_.map((function(e){return Object(Q.jsx)(g.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Q.jsx)(g.a,{})]})}),Object(Q.jsx)(v.a,{children:a.slice(c*N,c*N+N).map((function(t){return Object(Q.jsxs)(f.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[_.map((function(e){var a=t[e.id];return Object(Q.jsx)(g.a,{align:e.align,children:e.format&&"number"===typeof a?e.format(a):a},e.id)})),Object(Q.jsxs)(g.a,{align:"middle",children:[Object(Q.jsx)(W.a,{"aria-label":"share",size:"small",onClick:function(){return j(t)},children:Object(Q.jsx)(F.a,{fontSize:"inherit"})}),Object(Q.jsx)(W.a,{"aria-label":"view",size:"small",onClick:function(){return e.viewPatient(t)},children:Object(Q.jsx)(A.a,{fontSize:"inherit"})}),Object(Q.jsx)(W.a,{"aria-label":"edit",size:"small",onClick:function(){return e.editPatient(t)},children:Object(Q.jsx)(H.a,{fontSize:"inherit"})}),Object(Q.jsx)(W.a,{color:"secondary","aria-label":"delete",size:"small",onClick:function(){return e.deletePatient(t)},children:Object(Q.jsx)(E.a,{fontSize:"inherit"})})]},"btnCell")]},t.code)}))})]})}),Object(Q.jsx)(w.a,{rowsPerPageOptions:[10,25,100],component:"div",count:a.length,rowsPerPage:N,page:c,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){D(+e.target.value),l(0)}})]}),Object(Q.jsxs)(z.a,{open:h,onClose:function(){j(void 0),C("")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Q.jsx)(L.a,{id:"alert-dialog-title",children:"Share Patient's Profile"}),Object(Q.jsx)(T.a,{children:Object(Q.jsxs)(B.a,{id:"alert-dialog-description",children:[Object(Q.jsx)("form",{children:Object(Q.jsx)(G.a,{inputRef:X,value:h?"".concat(window.location.origin.toString(),"/Wrist/#/view/").concat(h._id):""})}),document.queryCommandSupported("copy")&&Object(Q.jsxs)("div",{children:[Object(Q.jsx)(I.a,{onClick:function(e){X.current.select(),document.execCommand("copy"),e.target.focus(),C("Copied!")},children:"Copy"}),k]})]})})]})]})},X=a(481),Y=a(467),V=a(152),J=a(488),K=a(145),Z=a.n(K),$=a(225),ee=a.n($),te=Object(d.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},AddButton:{float:"right"}}}));var ae=function(e){var t,a,r,s,l,d,u=te(),h=i.a.useState({}),j=Object(o.a)(h,2),b=j[0],w=j[1],y=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(e.data),k=i.a.useState(!1),C=Object(o.a)(k,2),M=C[0],R=C[1],N=e.viewMode?"filled":"outlined";Object(n.useEffect)((function(){var t;e.data!==y&&(console.log("update info user!"),w(null!==(t=Object(c.a)({},e.data))&&void 0!==t?t:{}),R(!1))}));var D=function(e){var t=e.target.name;b[t]=e.target.value,w(Object(c.a)({},b))},F=null!==(t=e.onMouseOver)&&void 0!==t?t:function(){};return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(x.a,{className:u.paper,children:Object(Q.jsxs)("form",{className:u.root,noValidate:!0,autoComplete:"off",children:[Object(Q.jsxs)("h2",{children:["Patient Data ",(console.log(b["Hand dominance"]),e.viewMode?"":e.userEditMode||M?Object(Q.jsxs)(Q.Fragment,{children:[M?Object(Q.jsx)(I.a,{className:u.AddButton,variant:"contained",color:"secondary",size:"small",startIcon:Object(Q.jsx)(ee.a,{}),onClick:function(){var t;R(!1),w(null!==(t=Object(c.a)({},e.data))&&void 0!==t?t:{})},children:"Cancel"}):"",Object(Q.jsx)(I.a,{className:u.AddButton,variant:"contained",color:"primary",size:"small",startIcon:Object(Q.jsx)(Z.a,{}),onClick:function(){return e.handleSubmitPatient(b)},children:"Save"})]}):Object(Q.jsx)(I.a,{className:u.AddButton,variant:"contained",color:"primary",size:"small",startIcon:Object(Q.jsx)(Z.a,{}),onClick:function(){return R(!0)},children:"Edit"}))]}),Object(Q.jsxs)(S.a,{container:!0,spacing:.5,direction:"column",justify:"center",alignItems:"stretch",children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:!0,InputLabelProps:{shrink:!0},value:b._id,fullWidth:!0,margin:"dense",label:"Patient's Case Number",name:"_id",onChange:D,variant:N})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),InputLabelProps:{shrink:!0},value:b.Initials,fullWidth:!0,margin:"dense",label:"Patient's Initials",name:"Initials",onChange:D,variant:N})}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",children:[Object(Q.jsx)(S.a,{item:!0,xs:6,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),type:"date",InputLabelProps:{shrink:!0},value:b["Date of Birth"],fullWidth:!0,margin:"dense",label:"Date of Birth",name:"Date of Birth",onChange:D,variant:N})}),Object(Q.jsx)(S.a,{item:!0,xs:6,children:Object(Q.jsxs)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),select:!0,InputLabelProps:{shrink:!0},value:null!==(a=b.Gender)&&void 0!==a?a:"",fullWidth:!0,margin:"dense",label:"Gender",name:"Gender",onChange:D,variant:N,children:[Object(Q.jsx)(J.a,{value:"M",children:"M"}),Object(Q.jsx)(J.a,{value:"F",children:"F"})]})})]}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),InputLabelProps:{shrink:!0},multiline:!0,rows:4,value:b.Diagnosis,fullWidth:!0,margin:"dense",label:"Diagnosis",name:"Diagnosis",onChange:D,variant:N})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),type:"date",InputLabelProps:{shrink:!0},value:b["Date of Injury"],fullWidth:!0,margin:"dense",label:"Date of Injury/ onset of condition",name:"Date of Injury",onChange:D,variant:N})}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsxs)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),select:!0,InputLabelProps:{shrink:!0},value:null!==(r=b["Hand dominance"])&&void 0!==r?r:"",fullWidth:!0,margin:"dense",label:"Hand dominance",name:"Hand dominance",onChange:D,variant:N,children:[Object(Q.jsx)(J.a,{value:"R",children:"R"},"R"),Object(Q.jsx)(J.a,{value:"L",children:"L"},"L")]})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsxs)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),select:!0,InputLabelProps:{shrink:!0},value:null!==(s=b["Involved Side"])&&void 0!==s?s:"",fullWidth:!0,margin:"dense",label:"Involved Side",name:"Involved Side",onChange:D,variant:N,children:[Object(Q.jsx)(J.a,{value:"R",children:"R"}),Object(Q.jsx)(J.a,{value:"L",children:"L"})]})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsxs)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),select:!0,InputLabelProps:{shrink:!0},value:null!==(l=b["Contralateral Side"])&&void 0!==l?l:"",fullWidth:!0,margin:"dense",label:"Contralateral Side involved?",name:"Contralateral Side",onChange:D,variant:N,children:[Object(Q.jsx)(J.a,{value:"Yes",children:"Yes"}),Object(Q.jsx)(J.a,{value:"No",children:"No"})]})})]}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),InputLabelProps:{shrink:!0},value:b.Profession,fullWidth:!0,margin:"dense",label:"Patient's Profession",name:"Profession",onChange:D,variant:N})})]}),Object(Q.jsx)("h2",{children:"Evaluator Data"}),Object(Q.jsx)(S.a,{container:!0,spacing:.5,direction:"column",justify:"center",alignItems:"stretch",children:Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),InputLabelProps:{shrink:!0},value:b["Evaluators Initials"],fullWidth:!0,margin:"dense",label:"Evaluator's Initials",name:"Evaluators Initials",onChange:D,variant:N})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsxs)(G.a,{disabled:e.viewMode||!(e.userEditMode||M),select:!0,InputLabelProps:{shrink:!0},value:null!==(d=b["Evaluators Profession"])&&void 0!==d?d:"",fullWidth:!0,margin:"dense",label:"Evaluators Profession",name:"Evaluators Profession",onChange:D,variant:N,children:[Object(Q.jsx)(J.a,{value:"Surgeon",children:"Surgeon"}),Object(Q.jsx)(J.a,{value:"Therapist",children:"Therapist"})]})})]})}),e.userEditMode?"":Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("h2",{children:["Wrist Index ",e.viewMode&&!e.IndexEditMode?"":Object(Q.jsx)(I.a,{variant:"contained",color:"primary",size:"small",className:u.AddButton,startIcon:Object(Q.jsx)(P.a,{}),onClick:function(){return e.newIndex(b.prefill)},children:"New"})]}),b["Wrist Index"]&&b["Wrist Index"].length?Object(Q.jsx)(p.a,{className:u.container,children:Object(Q.jsxs)(m.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(Q.jsx)(O.a,{children:Object(Q.jsxs)(f.a,{children:[Object(Q.jsx)(g.a,{children:"Dates of Evaluations"}),Object(Q.jsx)(g.a,{children:"Has patient return to work?"}),e.IndexEditMode?Object(Q.jsx)(g.a,{}):""]})}),Object(Q.jsx)(v.a,{children:b["Wrist Index"].map((function(t){return Object(Q.jsxs)(f.a,{hover:!0,onMouseOver:function(){F(t._id)},onMouseLeave:function(){return F(void 0)},children:[Object(Q.jsx)(g.a,{style:{color:e.colors?e.colors(t._id):"unset"},children:t.Date}),Object(Q.jsx)(g.a,{style:{color:e.colors?e.colors(t._id):"unset"},children:t.isReturnToWork}),e.IndexEditMode?Object(Q.jsxs)(g.a,{align:"middle",children:[Object(Q.jsx)(W.a,{"aria-label":"view",size:"small",onClick:function(){return e.viewIndex(t)},children:Object(Q.jsx)(A.a,{fontSize:"inherit"})}),Object(Q.jsx)(W.a,{"aria-label":"edit",size:"small",onClick:function(){return e.editIndex(t)},children:Object(Q.jsx)(H.a,{fontSize:"inherit"})}),Object(Q.jsx)(W.a,{color:"secondary","aria-label":"delete",size:"small",onClick:function(){return e.deleteIndex(t)},children:Object(Q.jsx)(E.a,{fontSize:"inherit"})})]},"btnCell"):""]})}))})]})}):Object(Q.jsx)("span",{children:"No record! Please add data"})]})]})})})},ne=a(11),ie=a(142),re=a(91),se=a(491),ce=a(492),oe=a(227),le=a.n(oe)()({root:{width:"100%",display:"flex",alignItems:"center",minHeight:30}});var de=function(e){var t=i.a.useState(0),a=Object(o.a)(t,2),r=a[0],s=a[1],l=i.a.useState(-1),d=Object(o.a)(l,2),u=d[0],h=d[1],j=le();return Object(n.useEffect)((function(){s(e.value)})),Object(Q.jsxs)("div",{className:j.root,children:[Object(Q.jsx)(se.a,Object(c.a)(Object(c.a)({name:"hover-feedback"},e),{},{value:r,size:e.max>5?"small":"medium",onChange:function(t,a){e.handeData?e.handeData(a):s(a)},onChangeActive:function(e,t){h(t)}})),null!==r&&Object(Q.jsx)(ce.a,{ml:2,children:e.labels?e.labels[-1!==u?u:r]:-1!==u?u:r})]})},ue=a(483),he=Object(d.a)((function(e){return{root:{flexGrow:1},header:{marginBlockEnd:e.spacing(1)},subheader:{marginBlockStart:e.spacing(2),marginBlockEnd:e.spacing(1)},result:{backgroundColor:"yellow"}}})),je={PSFS:["Doing a push up as an exercise","Lifting a heavy pan in the kitchen","Making scrambled eggs"],PRWE:["At rest","doing a task with a repeated wrist / hand movement","lifting a heavy object","it is at its worst","How often do you have pain? (0= never - 10= always)","Fasten buttons on your shirt","Cut meat (or vegetables) using a knife","Turn a door knob with your affected hand","Use your affected wrist / hand to push up from a chair","Carry a heavy object in your affected  hand","Use bathroom tissue with your affected  hand","Personal care activities (dressing, washing)","Household work (cleaning, maintenance)","Work (your job or other work)","Recreational activities","How important is the appearance of your hand?","How much did the appearance of your wrist/hand bother you in the past week?","How would you rate your injured hand / wrist / hand  on a scale of 0-100? 100 is normal"],MHQ:["How often were you unable to do your work because of problems with your hand(s)/wrist / hand(s)?","How often did you have to shorten your work day because of problems with your hand(s)/ wrist / hand(s)?","How often did you have to take it easy at your work because of problems with your hand(s)/ wrist / hand(s)?","How often did you accomplish less in your work because of problems with your hand(s)/ wrist / hand(s)?","How often did you take longer to do the tasks in your work because of problems with your hand(s)/ wrist / hand(s)?"]};var be=function(e){var t=he(),a=e.func,r=i.a.useState(new Array(3)),s=Object(o.a)(r,2),c=s[0],l=s[1],d=i.a.useState(new Array(3)),u=Object(o.a)(d,2),h=u[0],j=u[1],x=i.a.useState(new Array(17)),p=Object(o.a)(x,2),m=p[0],O=p[1],f=i.a.useState(new Array(5)),g=Object(o.a)(f,2),v=g[0],w=g[1],y=function(t,n){m[n]=t,O(Object(re.a)(m)),e.getOutputData({PRWE:m,"PRWE Pain Scale":a["PRWE Pain Scale"](m),"PRWE Function subscale":a["PRWE Function subscale"](m),"SANE score":a["SANE score"](m)})};return Object(n.useEffect)((function(){var t=!1;e.getOutputData("PSFS")&&(t=!0,j(e.getOutputData("PSFS"))),e.getOutputData("PRWE")&&(t=!0,O(e.getOutputData("PRWE"))),e.getOutputData("MHQ")&&(t=!0,w(e.getOutputData("MHQ"))),e.getOutputData("Action")&&(t=!0,l(e.getOutputData("Action"))),t||e.getOutputData({PSFS:h,PRWE:m,MHQ:v,"PSFS score":a["PSFS score"](h),"PRWE Pain Scale":a["PRWE Pain Scale"](m),"PRWE Function subscale":a["PRWE Function subscale"](m),"SANE score":a["SANE score"](m),"MHQ score":a["MHQ score"](v)})}),[]),Object(Q.jsxs)(S.a,{container:!0,spacing:2,justify:"center",alignItems:"stretch",children:[Object(Q.jsxs)(S.a,{item:!0,xs:12,children:[Object(Q.jsx)("h3",{className:t.header,children:"Patient Specific Functional Scale PSFS"}),je.PSFS.map((function(t,n){var i;return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:e.first||e.viewMode?c[n]:Object(Q.jsx)(G.a,(i={InputLabelProps:{shrink:!0},margin:"dense",size:"small",value:c[n],fullWidth:!0},Object(b.a)(i,"margin","dense"),Object(b.a)(i,"onChange",(function(t){return a=t.target.value,c[n]=a,l(Object(re.a)(c)),void e.getOutputData({Action:c});var a})),i))}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:10,value:h[n],name:"PSFS"+n,handeData:function(t){!function(t,n){h[n]=t,j(Object(re.a)(h)),e.getOutputData({PSFS:h,"PSFS score":a["PSFS score"](h)})}(t,n)},disabled:e.viewMode||!c[n]})})]},n)})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",className:t.result,children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:"PSFS Average Score for Items"}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:ne.d(h)})]})]}),Object(Q.jsxs)(S.a,{item:!0,xs:12,children:[Object(Q.jsx)("h3",{className:t.header,children:"Patient Rated wrist / wrist / hand Evaluation PRWE "}),Object(Q.jsx)("h4",{className:t.subheader,children:"Pain when\u2026 "}),je.PRWE.slice(0,5).map((function(t,a){return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:t}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:10,value:m[a],name:"PRWE"+a,handeData:function(e){y(e,a)},disabled:e.viewMode})})]})})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",className:t.result,children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:"PRWE Pain Score"}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:ne.i(m.slice(0,5))})]}),Object(Q.jsx)("h4",{className:t.subheader,children:"Function"}),je.PRWE.slice(5,11).map((function(t,a){var n=a+5;return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:t}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:10,value:m[n],name:"PRWE"+n,handeData:function(e){y(e,n)},disabled:e.viewMode})})]})})),Object(Q.jsx)("h4",{className:t.subheader,children:"Usual activities"}),je.PRWE.slice(11,15).map((function(t,a){var n=a+11;return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:t}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:10,value:m[n],name:"PRWE"+n,handeData:function(e){y(e,n)},disabled:e.viewMode})})]})})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",className:t.result,children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:"PRWE Function Score"}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:(ne.i(m.slice(5,15))+(10-ne.b(m.slice(5,15)))*ne.d(m.slice(5,15)))/2})]}),Object(Q.jsx)("h4",{className:t.subheader,children:"PRWHE appearance - optional"}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:je.PRWE[15]}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsxs)(ue.a,{displayEmpty:!0,variant:"outlined",fullWidth:!0,margin:"dense",value:m[15],disabled:e.viewMode,onChange:function(e){return y(+e.target.value,15)},children:[Object(Q.jsx)(J.a,{value:0,children:"Very Much"}),Object(Q.jsx)(J.a,{value:1,children:"Somewhat"}),Object(Q.jsx)(J.a,{value:2,children:"Not at all"})]})})]}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:je.PRWE[16]}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:10,value:m[16],name:"PRWE16",handeData:function(e){y(e,16)},disabled:e.viewMode})})]}),Object(Q.jsx)("h4",{className:t.subheader,children:"Single Answer Numeric Evaluation SANE (adapted to hand and wrist / hand) "}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:je.PRWE[17]}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(G.a,{type:"number",InputProps:{inputProps:{min:0,max:100}},disabled:e.viewMode,value:m[17],variant:"outlined",margin:"dense",onChange:function(e){return y(+e.target.value,17)}})})]})]}),Object(Q.jsxs)(S.a,{item:!0,xs:12,children:[Object(Q.jsx)("h3",{className:t.header,children:"Michigan Hand Questionnaire MHQ work module"}),je.MHQ.map((function(t,n){return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:t}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(de,{max:5,value:v[n],precision:1,name:"MHQ"+n,handeData:function(t){!function(t,n){v[n]=t,w(Object(re.a)(v)),e.getOutputData({MHQ:v,"MHQ score":a["MHQ score"](v)})}(t,n)},disabled:e.viewMode})})]})})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",className:t.result,children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:"Raw Score for MHQ work module "}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:ne.i(v)})]}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:"1",alignItems:"center",className:t.result,children:[Object(Q.jsx)(S.a,{item:!0,xs:8,children:"MHQ Algorithm calculated score"}),Object(Q.jsx)(S.a,{item:!0,xs:4,children:(ne.i(v)-5)/20*100})]})]})]})},xe=a(477),pe=a(493),me=a(476),Oe=a(487),fe=Object(d.a)((function(e){return{root:{flexGrow:1},title:{backgroundColor:e.palette.primary.light},input:{width:200,textAlign:"right","& input::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}},input2:{width:400,textAlign:"center"},func:{paddingLeft:14,paddingRight:14,paddingTop:10.5,paddingBottom:10.5,lineHeight:"40px",marginTop:8,marginBottom:4},funcResult:{backgroundColor:"#ddd",marginBottom:e.spacing(1),borderRadius:20}}}));var ge=function(e){var t=fe(),a=e.viewMode?"filled":"outlined",r=i.a.useState({"TAM EX-0-Flex":{"Involved Hand":[0,0],"Contra-lateral Hand":[0,0],result:0},"TAM Pro-0-Sup":{"Involved Hand":[0,0],"Contra-lateral Hand":[0,0],result:0},"TAM Rad-0-Ulnar":{"Involved Hand":[0,0],"Contra-lateral Hand":[0,0],result:0},"Mean of 3 Trials":{"Involved Hand":[0,0,0],"Contra-lateral Hand":[0,0,0],result:0},"Grip Strength Supination Ratio":{"Involved Hand":[0],"Contra-lateral Hand":[0],result:0},"Grip Strength Pronation Ratio":{"Involved Hand":[0],"Contra-lateral Hand":[0],result:0}}),s=Object(o.a)(r,2),l=s[0],d=s[1];Object(n.useEffect)((function(){var t=!1,a=Object(c.a)({},l);Object.keys(l).forEach((function(n){var i=e.getOutputData(n);i&&(t=!0,a[n]=i)})),t?d(a):u()}),[]);var u=function(){Object.keys(l).forEach((function(t){return l[t].result=e.func[t](l[t]["Involved Hand"],l[t]["Contra-lateral Hand"])})),e.getOutputData(Object(c.a)({},l))},h=function(t,a,n,i,r){l[a][n][i]=r?Math.min(r,t.target.value):t.target.value,l[a].result=e.func[a](l[a]["Involved Hand"],l[a]["Contra-lateral Hand"]),d(Object(c.a)({},l)),e.getOutputData(Object(c.a)({},l))},j=function(e,t,a){return l[e][t][a]},x=function(n){return Object(Q.jsxs)(Q.Fragment,{children:[n.sub.map((function(i,r){var s,c;return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)("span",{children:i.text})}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(G.a,(s={disabled:e.viewMode,type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"},max:110},margin:"dense",size:"small",value:j(n.key,"Involved Hand",r),fullWidth:!0},Object(b.a)(s,"margin","dense"),Object(b.a)(s,"onChange",(function(e){return h(e,n.key,"Involved Hand",r,110)})),Object(b.a)(s,"variant",a),s))}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(G.a,(c={disabled:e.first||e.viewMode,type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"},max:110},margin:"dense",size:"small",value:j(n.key,"Contra-lateral Hand",r),fullWidth:!0},Object(b.a)(c,"margin","dense"),Object(b.a)(c,"onChange",(function(e){return h(e,n.key,"Contra-lateral Hand",r,110)})),Object(b.a)(c,"variant",a),c))})]})})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",spacing:1,className:t.funcResult,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)("span",{children:n.key})}),Object(Q.jsx)(S.a,{item:!0,className:t.input2,children:Object(Q.jsx)("span",{className:t.func,children:l[n.key].result})})]})]})},p=function(n){return Object(Q.jsxs)(Q.Fragment,{children:[n.sub.map((function(i,r){var s,c;return Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)("span",{children:i.text})}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(G.a,(s={disabled:e.viewMode,type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},margin:"dense",size:"small",value:j(n.key,"Involved Hand",r),fullWidth:!0},Object(b.a)(s,"margin","dense"),Object(b.a)(s,"onChange",(function(e){return h(e,n.key,"Involved Hand",r)})),Object(b.a)(s,"variant",a),s))}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(G.a,(c={disabled:e.first||e.viewMode,type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},margin:"dense",size:"small",value:j(n.key,"Contra-lateral Hand",r),fullWidth:!0},Object(b.a)(c,"margin","dense"),Object(b.a)(c,"onChange",(function(e){return h(e,n.key,"Contra-lateral Hand",r)})),Object(b.a)(c,"variant",a),c))})]})})),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",spacing:1,className:t.funcResult,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)("span",{children:n.key})}),Object(Q.jsx)(S.a,{item:!0,className:t.input2,children:Object(Q.jsx)("span",{className:t.func,children:l[n.key].result})})]})]})};return Object(Q.jsxs)(S.a,{container:!0,spacing:.5,direction:"column",justify:"center",alignItems:"stretch",children:[Object(Q.jsx)("h3",{align:"center",className:t.title,children:"Wrist Range of Motion"}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(ce.a,{fontWeight:"fontWeightBold",children:"Involved Hand"})}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(ce.a,{fontWeight:"fontWeightBold",children:"Contra-lateral Hand"})})]}),[{key:"TAM EX-0-Flex",sub:[{text:"Extension"},{text:"Flexion"}]},{key:"TAM Pro-0-Sup",sub:[{text:"Pronation"},{text:"Supination"}]},{key:"TAM Rad-0-Ulnar",sub:[{text:"Radial Deviation"},{text:"Ulnar Deviation"}]}].map(x),Object(Q.jsx)("h3",{align:"center",className:t.title,children:"Gripstrength (Dynamometer, Position II)"}),Object(Q.jsxs)(S.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:1,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(ce.a,{fontWeight:"fontWeightBold",children:"Measurements in Kg"})}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(ce.a,{fontWeight:"fontWeightBold",children:"Involved Hand"})}),Object(Q.jsx)(S.a,{item:!0,className:t.input,children:Object(Q.jsx)(ce.a,{fontWeight:"fontWeightBold",children:"Contra-lateral Hand"})})]}),[{key:"Mean of 3 Trials",sub:[{text:"Forearm Neutral 1"},{text:"Forearm Neutral 2"},{text:"Forearm Neutral 3"}]}].map(x),[{key:"Grip Strength Supination Ratio",sub:[{text:"Forearm Supination"}]}].map(p),[{key:"Grip Strength Pronation Ratio",sub:[{text:"Forearm Pronation"}]}].map(p)]})},ve=Object(d.a)((function(e){return{backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function we(e,t){switch(e){case 0:return Object(Q.jsxs)(S.a,{container:!0,children:[Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(G.a,{type:"date",disabled:t.viewMode,InputLabelProps:{shrink:!0},fullWidth:!0,margin:"dense",label:"Date of Evaluation",name:"Date",required:!0,defaultValue:t.getOutputData("Date"),onChange:function(e){return t.getOutputData({Date:e.target.value})},variant:"outlined"})}),Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsxs)(G.a,{select:!0,disabled:t.viewMode,fullWidth:!0,margin:"dense",required:!0,defaultValue:t.getOutputData("isReturnToWork"),label:"Has patient returned to work?",name:"isReturnToWork",onChange:function(e){return t.getOutputData({isReturnToWork:e.target.value})},variant:"outlined",children:[Object(Q.jsx)(J.a,{value:"Yes",children:"Yes"}),Object(Q.jsx)(J.a,{value:"No",children:"No"})]})})]});case 1:return Object(Q.jsx)(ge,Object(c.a)({},t));case 2:return Object(Q.jsx)(be,Object(c.a)({},t));default:return"Unknown step"}}var ye=function(e){var t=ve(),a=e.handleSubmit,n=e.handleCancel,r=e.open,s=i.a.useState(0),c=Object(o.a)(s,2),l=c[0],d=c[1],u=i.a.useState(new Set),h=Object(o.a)(u,2),j=h[0],b=h[1],x=["General Information","Objective Measurements","PROMs"];return Object(Q.jsxs)(z.a,{fullWidth:!0,maxWidth:"md","aria-labelledby":"confirmation-dialog-title",open:r,onClose:n,children:[Object(Q.jsx)(L.a,{id:"confirmation-dialog-title",children:"Wrist Index"}),Object(Q.jsxs)(T.a,{dividers:!0,children:[Object(Q.jsx)(pe.a,{activeStep:l,alternativeLabel:!0,children:x.map((function(e){return Object(Q.jsx)(me.a,{children:Object(Q.jsx)(Oe.a,{children:e})},e)}))}),Object(Q.jsx)("div",{children:l===x.length?Object(Q.jsxs)("div",{children:[Object(Q.jsx)(V.a,{className:t.instructions,children:"All steps completed"}),Object(Q.jsx)(I.a,{onClick:function(){d(0)},children:"Reset"})]}):Object(Q.jsx)("div",{children:Object(Q.jsx)(V.a,{className:t.instructions,children:we(l,e)})})})]}),Object(Q.jsxs)(xe.a,{children:[Object(Q.jsx)(I.a,{onClick:n,color:"text.secondary",style:{float:"left"},children:"Cancel"}),Object(Q.jsx)(I.a,{disabled:0===l,onClick:function(){d((function(e){return e-1}))},className:t.backButton,children:"Back"}),l===x.length-1?Object(Q.jsx)(I.a,{variant:"contained",color:"primary",onClick:a,children:"Finish"}):Object(Q.jsx)(I.a,{variant:"contained",color:"primary",onClick:function(){var e,t=j;e=l,j.has(e)&&(t=new Set(j.values())).delete(l),d((function(e){return e+1})),b(t)},children:"Next"})]})]})},Se=a(232),ke=a.n(Se),Pe=a(121),Ie=a(122),Ce=a(123),We=a(124),Me=a(5),He=a(235),Re=function(e){Object(Ce.a)(a,e);var t=Object(We.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).state={lines:[]},n}return Object(Ie.a)(a,[{key:"componentWillMount",value:function(){var e=this.calculateWordWidths(),t=e.wordsWithComputedWidth,a=e.spaceWidth;this.wordsWithComputedWidth=t,this.spaceWidth=a;var n=this.calculateLines(this.wordsWithComputedWidth,this.spaceWidth,this.props.width);this.setState({lines:n})}},{key:"render",value:function(){var e=this.props,t=e.lineHeight,a=e.capHeight,n=Object(He.a)(e,["lineHeight","capHeight"]),i=a,r=n.x,s=n.y;return Object(Q.jsx)("text",Object(c.a)(Object(c.a)({},n),{},{dy:"".concat(i,"em"),children:this.state.lines.map((function(e,a){return Object(Q.jsx)("tspan",{x:r,y:s,dy:"".concat(a*t,"em"),children:e})}))}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.children!=e.children){var a=this.calculateWordWidths(),n=a.wordsWithComputedWidth,i=a.spaceWidth;this.wordsWithComputedWidth=n,this.spaceWidth=i}var r=this.calculateLines(this.wordsWithComputedWidth,this.spaceWidth,this.props.width),s=this.state.lines.length!==r.length,c=this.state.lines.some((function(e,t){return e.length!=r[t].length}));(s||c)&&this.setState({lines:r})}},{key:"calculateWordWidths",value:function(){var e=this.props.children.split(/\s+/),t=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","text");Object.assign(a.style,this.props.style),t.appendChild(a),document.body.appendChild(t);var n=e.map((function(e){return a.textContent=e,{word:e,width:a.getComputedTextLength()}}));a.textContent="\xa0";var i=a.getComputedTextLength();return document.body.removeChild(t),{wordsWithComputedWidth:n,spaceWidth:i}}},{key:"calculateLines",value:function(e,t,a){return e.reduce((function(e,n){var i=n.word,r=n.width,s=e[e.length-1]||{words:[],width:0};if(0===s.words.length){var c={words:[i],width:r};e.push(c)}else if(s.width+r+s.words.length*t<a)s.words.push(i),s.width+=r;else{var o={words:[i],width:r};e.push(o)}return e}),[]).map((function(e){return e.words.join(" ")}))}}]),a}(n.Component);Re.defaultProps={lineHeight:1,capHeight:.71};var Ee=Re,Ne=[{id:"PSFS score",label:"PSFS (0-10 / Poor=0 ; Good=10)",range:[0,10]},{id:"PRWE Pain Scale",label:"PRWE Pain Scale (0-50 0= no pain, 10= worst pain ever)",range:[50,0]},{id:"PRWE Function subscale",label:"PRWE Function subscale (0-50 / 0= no difficulty, 10= unable to do)",range:[50,0]},{id:"SANE score",label:"SANE  rate injured body part on a scale of 0-100?/ 100= normal",range:[0,100]},{id:"MHQ score",label:"MHQ work module (1-100 / 1=always, 2=often, 3=sometimes, 4=rarely, 5=never)",range:[1,100]},{id:"TAM EX-0-Flex",label:"Wrist range motion Flexion/Extension (0= no ROM- 100% equal or better than contra-lateral  wrist )",range:[0,1]},{id:"TAM Pro-0-Sup",label:"Wrist range motion Pronation/Supination  (0= no ROM- 100% equal or better than contra-lateral wrist )",range:[0,1]},{id:"TAM Rad-0-Ulnar",label:"Wrist range motion Radial / Ulnar Deviation (0= no ROM- 100% equal or better than contra-lateral wrist )",range:[0,1]},{id:"Mean of 3 Trials",label:"Grip Strength Ratio  (0= no  grip strength - 100% equal or better than  contra-lateral wrist )",range:[0,1]},{id:"Grip Strength Supination Ratio",label:"Grip Strength  Supination Ratio (0= no  grip strength - 100% equal or better than  contra-lateral wrist )",range:[0,1]},{id:"Grip Strength Pronation Ratio",label:"Grip Strength  Pronation Ratio  (0= no  grip strength - 100% equal or better than  contra-lateral wrist )",range:[0,1]}],Ae=ne.g().domain([0,Ne.length]).range([0,2*Math.PI]),De=function(e){Object(Ce.a)(a,e);var t=Object(We.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).arcHolder=ne.a().innerRadius((function(e){return e[0]})).outerRadius((function(e){return e[1]})).startAngle(0).endAngle(2*Math.PI),n.svg=i.a.createRef(),n.state={data:[],margin:{top:200,right:200,bottom:200,left:200},width:800,height:800,textWidth:200,widthG:function(){return this.width-this.margin.left-this.margin.right},heightG:function(){return this.height-this.margin.top-this.margin.bottom},radius:function(){return Math.min(this.widthG.bind(this)(),this.heightG.bind(this)())/2},fontSize:12,colors:e.colors&&e.colors.domain?e.colors:Object(ie.a)().range(ne.h),rScale:ne.g(),radarLine:ne.e().curve(ne.c.tension(.7)).radius((function(e){return n.state.rScale(e)})).angle((function(e,t){return Ae(t)})),levels:ne.f(1,6).map((function(e){return e/5})),legendW:80,legendH:30},n.state.colorLevels=Object(ie.a)().domain(n.state.levels).range(["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"]),Ne.forEach((function(e){return e.scale=ne.g().domain(e.range)})),n}return Object(Ie.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.state.rScale.range([0,this.state.radius()]);var a=(null!==(e=this.props.data)&&void 0!==e?e:[]).map((function(e){var a=Ne.map((function(t){return t.scale("object"===typeof e[t.id]&&e[t.id]?e[t.id].result:e[t.id])}));return t.props.keyColor&&(a[t.props.keyColor]=e[t.props.keyColor]),a}));console.log(a),this.setState({data:a})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.state.rScale.range([0,this.state.radius()]),this.props.data!==e.data){var a,n=(null!==(a=this.props.data)&&void 0!==a?a:[]).map((function(e){var a=Ne.map((function(t){return t.scale("object"===typeof e[t.id]&&e[t.id]?e[t.id].result:e[t.id])}));return t.props.keyColor&&(a[t.props.keyColor]=e[t.props.keyColor]),a}));console.log(n),this.setState({data:n})}}},{key:"onSelect",value:function(e){this.props.selected(e.id,this.handleInfo(e)),this.setState({selected:e})}},{key:"handleInfo",value:function(e){var t=Object.assign({},e.data.info);return t.id=e.data.id,t}},{key:"onMouseOver",value:function(e){this.props.onSelect(this.handleInfo(e))}},{key:"onMouseLeave",value:function(){this.props.onSelect(null)}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(Q.jsx)("div",{style:{position:"relative",overflow:"visible"},children:Object(Q.jsxs)("svg",{viewBox:"0 0 "+this.state.width+" "+this.state.height,ref:this.svg,style:{overflow:"visible"},id:this.props.id,children:[Object(Q.jsxs)("g",{className:"content",fontFamily:"sans-serif",fontSize:this.state.fontSize,transform:"translate(".concat([this.state.margin.left+this.state.radius(),this.state.margin.top+this.state.radius()],")"),children:[Object(Q.jsxs)("g",{className:"axisHolder",fill:"none",children:[this.state.levels.map((function(t,a){var n;return Object(Q.jsx)("path",{d:e.arcHolder([e.state.rScale(null!==(n=e.state.levels[a-1])&&void 0!==n?n:0),e.state.rScale(t)]),fill:e.state.colorLevels(t),stroke:"#fff",strokeOpacity:1,strokeWidth:1,fillOpacity:.3})})),Ne.map((function(a,n){return Object(Q.jsx)("g",{className:t.axis,style:{transform:"rotate(".concat(Ae(n),"rad)")},children:Object(Q.jsx)("line",{y2:-e.state.rScale(1),stroke:"#000",strokeOpacity:.5,strokeWidth:.5})})})),Ne.map((function(t,a){return Object(Q.jsx)(Ee,{fill:"#000",stroke:"unset",strokeOpacity:0,textAnchor:"middle",x:Math.sin(Ae(a))*e.state.rScale(1)+(Math.sin(Ae(a))?Ae(a)>Math.PI?-e.state.textWidth/2:e.state.textWidth/2:0),y:-Math.cos(Ae(a))*e.state.rScale(1.1),style:{fontSize:"0.9rem"},width:e.state.textWidth,children:t.label})}))]}),Object(Q.jsx)("g",{className:"links",fill:"none",strokeOpacity:1,strokeWidth:2,children:this.state.data.map((function(t,a){return Object(Q.jsx)("path",{d:e.state.radarLine(t),strokeOpacity:void 0===e.props.selectedIndex||e.props.selectedIndex===(e.props.keyColor?t[e.props.keyColor]:a)?1:.1,stroke:e.state.colors(e.props.keyColor?t[e.props.keyColor]:a)})}))})]}),Object(Q.jsxs)("g",{className:"legend",fontFamily:"sans-serif",fontSize:this.state.fontSize+3,transform:"translate(".concat([this.state.margin.left+this.state.radius()-this.state.legendW*this.state.levels.length/2,this.state.height-this.state.legendH-30],")"),children:[this.state.levels.map((function(t,a){return Object(Q.jsx)("rect",{x:a*e.state.legendW,width:e.state.legendW,height:e.state.legendH,fill:e.state.colorLevels(t),stroke:"#fff",strokeOpacity:1,strokeWidth:1,fillOpacity:.3},a)})),Object(Q.jsx)("text",{dy:-this.state.legendH/2-2,alignmentBaseline:"middle",x:this.state.levels.length/2*this.state.legendW,textAnchor:"middle",fontSize:this.state.fontSize+8,children:"Well-being of the patient"}),Object(Q.jsx)("text",{dy:this.state.legendH/2,alignmentBaseline:"middle",dx:this.state.legendW/2,x:(this.state.levels.length-1)*this.state.legendW,textAnchor:"middle",children:"Good"}),Object(Q.jsx)("text",{dy:this.state.legendH/2,alignmentBaseline:"middle",dx:this.state.legendW/2,textAnchor:"middle",children:"Bad"})]})]})})}}]),a}(i.a.Component),Fe=Object(Me.a)((function(e){return{menu:{marginLeft:"5px",marginRight:"5px",display:"flex",position:"absolute",width:"100%",top:"10px",left:0},axis:{transformOrigin:"0,0"}}}))(De),Le=Object(d.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},searchHolder:{margin:e.spacing(1),marginLeft:0},search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(y.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.b)(e.palette.common.white,.25)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var Te=function(e){Le();var t=i.a.useState(0),a=Object(o.a)(t,2),r=(a[0],a[1],i.a.useState(10)),s=Object(o.a)(r,2),c=(s[0],s[1],i.a.useState([])),l=Object(o.a)(c,2),d=(l[0],l[1],Object(n.useRef)(!0));return Object(n.useEffect)((function(){if(d.current)return d.current=!1,void e.onLoad(!1)})),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(S.a,{container:!0,alignItems:"center",justify:"space-between",children:Object(Q.jsx)(S.a,{item:!0,xs:!0,children:Object(Q.jsx)(Fe,{keyColor:"_id",colors:e.colors,data:e.data,selectedIndex:e.selectedIndex})})})})},Be=a(494),ze=a(480),Ge=a(478),Qe=a(230),Ue=a.n(Qe),_e=a(479);function qe(){return Object(Q.jsxs)(V.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Q.jsx)(Ge.a,{color:"inherit",href:"https://https://idatavisualizationlab.github.io/",children:"idvl"})," ",(new Date).getFullYear(),"."]})}var Xe=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ye(e){var t=Xe(),a=i.a.useState(),n=Object(o.a)(a,2),r=n[0],s=n[1],c=i.a.useState(),l=Object(o.a)(c,2),d=l[0],u=l[1],h=i.a.useState(),j=Object(o.a)(h,2),b=j[0],x=j[1];return Object(Q.jsxs)(_e.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(ze.a,{}),Object(Q.jsxs)("div",{className:t.paper,children:[Object(Q.jsx)(Be.a,{className:t.avatar,children:Object(Q.jsx)(Ue.a,{})}),Object(Q.jsx)(V.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Q.jsxs)("form",{className:t.form,method:"get",onSubmit:function(t){t.preventDefault(),C.get("https://wrist-backend.herokuapp.com"+"/login?username=".concat(r,"&password=").concat(d)).then((function(t){e.onSucess(t.data)})).catch((function(e){x("Login Failed. Please try again.")}))},children:[Object(Q.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User name",name:"userName",autoComplete:"userName",value:r,onChange:function(e){return s(e.target.value)},autoFocus:!0}),Object(Q.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return u(e.target.value)},autoComplete:"current-password"}),Object(Q.jsx)("span",{children:b}),Object(Q.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]}),Object(Q.jsx)(ce.a,{mt:8,children:Object(Q.jsx)(qe,{})})]})}var Ve=a(149),Je=a.n(Ve),Ke=a(18),Ze=a(71),$e=a.p+"static/media/notfound.d6f4bbb5.png",et=a(234),tt=a(231),at=a.n(tt);function nt(e){var t,a=Object(Ke.g)().patientId,r=i.a.useState({}),s=Object(o.a)(r,2),c=s[0],l=s[1],d=i.a.useState(!1),u=Object(o.a)(d,2),h=u[0],j=u[1],b=i.a.useState(void 0),x=Object(o.a)(b,2),p=x[0],m=x[1],O=i.a.useRef(null!==(t=e.radarColor)&&void 0!==t?t:Object(ie.a)().range(ne.h));Object(n.useEffect)((function(){f()}),0);var f=function(){var e=a;C.get("".concat("https://wrist-backend.herokuapp.com","/patientProfile?id=").concat(e)).then((function(e){var t=e.data;console.log(e),l(t),O.current.domain([])})).catch((function(e){j(!0)}))};return Object(Q.jsx)(Q.Fragment,{children:h?Object(Q.jsx)(et.a,{to:"/view"}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(ae,{data:c,viewMode:!0,userEditMode:!1,onMouseOver:function(e){m(e)},colors:O.current,IndexEditMode:!1})}),Object(Q.jsx)(S.a,{item:!0,xs:6,children:Object(Q.jsx)(Te,{onLoad:e.onLoad,data:c["Wrist Index"],selectedIndex:p,colors:O.current})})]})})}var it=function(e){var t=Object(Ke.h)(),a=t.path;return t.url,Object(Q.jsx)(S.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",children:Object(Q.jsxs)(Ke.d,{children:[Object(Q.jsx)(Ke.b,{exact:!0,path:a,children:Object(Q.jsx)(_e.a,{maxWidth:"sm",children:Object(Q.jsxs)(S.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{position:"fixed",maxWidth:"500px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(Q.jsx)(S.a,{item:!0,children:Object(Q.jsx)("img",{src:$e,style:{width:"100%",height:"auto"}})}),Object(Q.jsx)(S.a,{item:!0,children:Object(Q.jsx)("h1",{children:"Invalid link"})}),Object(Q.jsx)(S.a,{item:!0,children:Object(Q.jsx)(Ze.b,{to:"/",children:Object(Q.jsx)(I.a,{variant:"contained",color:"primary",startIcon:Object(Q.jsx)(at.a,{}),href:"/",children:"Return home"})})})]})})}),Object(Q.jsx)(Ke.b,{path:"".concat(a,"/:patientId"),children:Object(Q.jsx)(nt,Object(c.a)({},e))})]})})},rt=Object(l.a)({typography:{fontFamily:"sans-serif"}}),st=Object(d.a)((function(e){return{root:{flexGrow:1,display:"flex"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,height:"100%"},input:{marginLeft:e.spacing(1),flex:1},tabs:{border:"none",borderRight:"1px solid ".concat(e.palette.divider),width:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ct={"TAM EX-0-Flex":function(e,t){return Object(ne.i)(e)/Object(ne.i)(t)},"TAM Pro-0-Sup":function(e,t){return Object(ne.i)(e)/Object(ne.i)(t)},"TAM Rad-0-Ulnar":function(e,t){return Object(ne.i)(e)/Object(ne.i)(t)},"Mean of 3 Trials":function(e,t){return Object(ne.i)(e)/3/(Object(ne.i)(t)/3)},"Grip Strength Supination Ratio":function(e,t){return e/t},"Grip Strength Pronation Ratio":function(e,t){return e/t},"PSFS score":function(e){return Object(ne.d)(e)},"PRWE Pain Scale":function(e){return Object(ne.i)(e.slice(0,5))},"PRWE Function subscale":function(e){return(Object(ne.i)(e.slice(5,15))+(10-Object(ne.b)(e.slice(5,15)))*Object(ne.d)(e.slice(5,15)))/2},"SANE score":function(e){return e[17]},"MHQ score":function(e){return(Object(ne.i)(e)-5)/20*100}};var ot=function(){var e=st(),t=i.a.useState(),a=Object(o.a)(t,2),r=a[0],s=a[1],l=i.a.useState(!1),d=Object(o.a)(l,2),b=d[0],x=d[1],p=i.a.useState({}),m=Object(o.a)(p,2),O=m[0],f=m[1],g=i.a.useState(!1),v=Object(o.a)(g,2),w=v[0],y=v[1],k=i.a.useRef({}),P=i.a.useState(!1),M=Object(o.a)(P,2),H=M[0],R=M[1],E=i.a.useState(-1),N=Object(o.a)(E,2),A=N[0],D=N[1],F=i.a.useState(!0),G=Object(o.a)(F,2),U=G[0],_=G[1],J=i.a.useState([]),K=Object(o.a)(J,2),Z=K[0],$=K[1],ee=i.a.useState(!1),te=Object(o.a)(ee,2),re=te[0],se=te[1],ce=i.a.useState(void 0),oe=Object(o.a)(ce,2),le=oe[0],de=oe[1],ue=i.a.useRef(Object(ie.a)().range(ne.h));Object(n.useEffect)((function(){U&&(_(!1),C.get("".concat("https://wrist-backend.herokuapp.com","/patientProfile/list?managerBy=").concat(r)).then((function(e){$(e.data)})))}));var he=function(e){x(void 0!==e&&e)},je=function(e){f({}),D(1)},be=function(e){var t=e._id;C.get("".concat("https://wrist-backend.herokuapp.com","/patientProfile?id=").concat(t)).then((function(e){var t=e.data;f(t),ue.current.domain([]),D(2)}))},pe=function(e){k.current=e,y(!1),R(!0)},me=function(e){k.current=e,y(!0),R(!0)},Oe=function(e){var t=e._id;C.get("".concat("https://wrist-backend.herokuapp.com","/patientProfile?id=").concat(t)).then((function(e){var t=e.data;f(t),ue.current.domain([]),D(3)}))},fe=function(e){se({title:"Delete Patient Data",content:"Delete all record and profile of patient: "+e.Initials,func:function(){var t=e._id;C.get("".concat("https://wrist-backend.herokuapp.com","/patientProfile/delete?id=").concat(t)).then((function(e){se(!1),_(!0),D(0)}))}})},ge=function(e){se({title:"Delete Record Data",content:"Delete record : "+e.Date,func:function(){var t=e._id;C.get("".concat("https://wrist-backend.herokuapp.com","/record/delete?id=").concat(t)).then((function(t){se(!1),be({_id:e.caseId})}))}})},ve=function(){se(!1)},we=function(e){k.current=e?{"TAM EX-0-Flex":{"Involved Hand":[0,0],"Contra-lateral Hand":e["TAM EX-0-Flex"]["Contra-lateral Hand"],result:0},"TAM Pro-0-Sup":{"Involved Hand":[0,0],"Contra-lateral Hand":e["TAM Pro-0-Sup"]["Contra-lateral Hand"],result:0},"TAM Rad-0-Ulnar":{"Involved Hand":[0,0],"Contra-lateral Hand":e["TAM Rad-0-Ulnar"]["Contra-lateral Hand"],result:0},"Mean of 3 Trials":{"Involved Hand":[0,0,0],"Contra-lateral Hand":e["Mean of 3 Trials"]["Contra-lateral Hand"],result:0},"Grip Strength Supination Ratio":{"Involved Hand":[0],"Contra-lateral Hand":e["Grip Strength Supination Ratio"]["Contra-lateral Hand"],result:0},"Grip Strength Pronation Ratio":{"Involved Hand":[0],"Contra-lateral Hand":e["Grip Strength Pronation Ratio"]["Contra-lateral Hand"],result:0},Action:e.Action}:{},k.current.caseId=O._id,y(!1),R({firstRecord:e})},Se=function(e){var t=Object(c.a)({},e);delete t.prefill,delete t["Wrist Index"],C.post("".concat("https://wrist-backend.herokuapp.com","/patientProfile?managerBy=").concat(r),t).then((function(e){be(e.data)})).catch((function(e){}))},Pe=function(e){de(e)};return Object(Q.jsxs)(u.a,{theme:rt,children:[Object(Q.jsx)("div",{className:e.root,children:Object(Q.jsx)(X.a,{position:"static",children:Object(Q.jsxs)(Y.a,{children:[Object(Q.jsx)(W.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:A>0?Object(Q.jsx)(ke.a,{onClick:function(){_(!0),D(0)}}):""}),Object(Q.jsx)(I.a,{color:"inherit",href:"/",children:Object(Q.jsx)(V.a,{className:e.title,variant:"h6",noWrap:!0,children:"Wrist Index"})})]})})}),Object(Q.jsxs)(Ke.d,{children:[Object(Q.jsx)(Ke.b,{path:"/view",children:Object(Q.jsx)(it,{onLoad:he})}),Object(Q.jsx)(Ke.b,{path:"/",children:Object(Q.jsx)(S.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",children:function(){switch(A){case 1:return Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(ae,{data:{managerBy:r},viewMode:!1,handleSubmitPatient:Se,userEditMode:!0,IndexEditMode:!0,newIndex:we})});case 2:return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(ae,{data:O,viewMode:!1,userEditMode:!1,handleSubmitPatient:Se,viewIndex:me,editIndex:pe,deleteIndex:ge,onMouseOver:Pe,IndexEditMode:!0,newIndex:we,colors:ue.current})}),Object(Q.jsx)(S.a,{item:!0,xs:6,children:Object(Q.jsx)(Te,{onLoad:he,data:O["Wrist Index"],selectedIndex:le,colors:ue.current})})]});case 3:return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(S.a,{item:!0,xs:4,children:Object(Q.jsx)(ae,{data:O,viewMode:!0,userEditMode:!1,onMouseOver:Pe,colors:ue.current,IndexEditMode:!1,newIndex:we})}),Object(Q.jsx)(S.a,{item:!0,xs:6,children:Object(Q.jsx)(Te,{onLoad:he,data:O["Wrist Index"],selectedIndex:le,colors:ue.current})})]});case 0:return Object(Q.jsxs)(S.a,{item:!0,xs:4,children:[Object(Q.jsxs)(S.a,{item:!0,xs:12,style:{paddingTop:10},children:[Object(Q.jsx)("span",{children:"Download "}),Object(Q.jsx)(I.a,{variant:"contained",color:"secondary",size:"small",className:e.AddButton,startIcon:Object(Q.jsx)(Je.a,{}),download:!0,href:"".concat("https://wrist-backend.herokuapp.com","/download/usermanual"),children:"User Manual"}),Object(Q.jsx)(I.a,{variant:"contained",color:"secondary",size:"small",className:e.AddButton,startIcon:Object(Q.jsx)(Je.a,{}),download:!0,href:"".concat("https://wrist-backend.herokuapp.com","/download/wristEn"),children:"Wrist Index Form"})]}),Object(Q.jsx)(q,{viewPatient:Oe,editPatient:be,deletePatient:fe,rows:Z,onLoad:he,newPatient:je})]});default:return Object(Q.jsx)(S.a,{item:!0,xs:12,lg:4,children:Object(Q.jsx)(Ye,{onSucess:function(e){s(e._id),_(!0),D(0)}})})}}()})})]}),Object(Q.jsxs)(z.a,{open:re,onClose:ve,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Q.jsx)(L.a,{id:"alert-dialog-title",children:re.title}),Object(Q.jsx)(T.a,{children:Object(Q.jsx)(B.a,{id:"alert-dialog-description",children:re.content})}),Object(Q.jsxs)(xe.a,{children:[Object(Q.jsx)(I.a,{onClick:ve,color:"primary",children:"Cancel"}),Object(Q.jsx)(I.a,{onClick:re.func,color:"primary",autoFocus:!0,children:"OK"})]})]}),H?Object(Q.jsx)(ye,{func:ct,open:H,first:H.firstRecord,viewMode:w,handleCancel:function(e){R(!1)},getOutputData:function(e){if("string"==typeof e)return k.current[e];Object.keys(e).forEach((function(t){k.current[t]=e[t]}))},handleSubmit:function(){w||C.post("".concat("https://wrist-backend.herokuapp.com","/record"),k.current).then((function(e){console.log(e),O.prefill||C.post("".concat("https://wrist-backend.herokuapp.com","/patientProfile?id=").concat(O._id),{prefill:{"TAM EX-0-Flex":{"Contra-lateral Hand":k.current["TAM EX-0-Flex"]["Contra-lateral Hand"]},"TAM Pro-0-Sup":{"Contra-lateral Hand":k.current["TAM Pro-0-Sup"]["Contra-lateral Hand"]},"TAM Rad-0-Ulnar":{"Contra-lateral Hand":k.current["TAM Rad-0-Ulnar"]["Contra-lateral Hand"]},"Mean of 3 Trials":{"Contra-lateral Hand":k.current["Mean of 3 Trials"]["Contra-lateral Hand"]},"Grip Strength Supination Ratio":{"Contra-lateral Hand":k.current["Grip Strength Supination Ratio"]["Contra-lateral Hand"]},"Grip Strength Pronation Ratio":{"Contra-lateral Hand":k.current["Grip Strength Pronation Ratio"]["Contra-lateral Hand"]},Action:k.current.Action}}),be(O)})).catch((function(e){console.log(e)})),R(!1)}}):"",Object(Q.jsxs)(h.a,{className:e.backdrop,open:!1!==b,children:[Object(Q.jsx)(j.a,{color:"secondary"}),Object(Q.jsx)("span",{children:(b||{text:""}).text})]})]})},lt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,495)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(Q.jsx)(i.a.StrictMode,{children:Object(Q.jsx)(Ze.a,{children:Object(Q.jsx)(ot,{})})}),document.getElementById("root")),lt()}},[[414,1,2]]]);
//# sourceMappingURL=main.d58af3e5.chunk.js.map